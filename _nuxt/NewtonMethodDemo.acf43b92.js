import{a as Yt,c as H,g as Mf}from"./_commonjsHelpers.de833af9.js";import{B as Tf,_ as Sf,o as Nf,c as Ef,a as Nt,l as ye,t as Xn,v as kf,x as Af,C as $f,D as If}from"./entry.fc505427.js";var rr={};const ci=Math.PI,fi=2*ci,rn=1e-6,Cf=fi-rn;function hi(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Rn(){return new hi}hi.prototype=Rn.prototype={constructor:hi,moveTo:function(t,n){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,n){this._+="L"+(this._x1=+t)+","+(this._y1=+n)},quadraticCurveTo:function(t,n,e,r){this._+="Q"+ +t+","+ +n+","+(this._x1=+e)+","+(this._y1=+r)},bezierCurveTo:function(t,n,e,r,i,o){this._+="C"+ +t+","+ +n+","+ +e+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,n,e,r,i){t=+t,n=+n,e=+e,r=+r,i=+i;var o=this._x1,a=this._y1,s=e-t,u=r-n,l=o-t,c=a-n,h=l*l+c*c;if(i<0)throw new Error("negative radius: "+i);if(this._x1===null)this._+="M"+(this._x1=t)+","+(this._y1=n);else if(h>rn)if(!(Math.abs(c*s-u*l)>rn)||!i)this._+="L"+(this._x1=t)+","+(this._y1=n);else{var f=e-o,p=r-a,_=s*s+u*u,g=f*f+p*p,w=Math.sqrt(_),y=Math.sqrt(h),M=i*Math.tan((ci-Math.acos((_+h-g)/(2*w*y)))/2),T=M/y,I=M/w;Math.abs(T-1)>rn&&(this._+="L"+(t+T*l)+","+(n+T*c)),this._+="A"+i+","+i+",0,0,"+ +(c*f>l*p)+","+(this._x1=t+I*s)+","+(this._y1=n+I*u)}},arc:function(t,n,e,r,i,o){t=+t,n=+n,e=+e,o=!!o;var a=e*Math.cos(r),s=e*Math.sin(r),u=t+a,l=n+s,c=1^o,h=o?r-i:i-r;if(e<0)throw new Error("negative radius: "+e);this._x1===null?this._+="M"+u+","+l:(Math.abs(this._x1-u)>rn||Math.abs(this._y1-l)>rn)&&(this._+="L"+u+","+l),e&&(h<0&&(h=h%fi+fi),h>Cf?this._+="A"+e+","+e+",0,1,"+c+","+(t-a)+","+(n-s)+"A"+e+","+e+",0,1,"+c+","+(this._x1=u)+","+(this._y1=l):h>rn&&(this._+="A"+e+","+e+",0,"+ +(h>=ci)+","+c+","+(this._x1=t+e*Math.cos(i))+","+(this._y1=n+e*Math.sin(i))))},rect:function(t,n,e,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)+"h"+ +e+"v"+ +r+"h"+-e+"Z"},toString:function(){return this._}};function z(t){return function(){return t}}var pa=Math.abs,st=Math.atan2,tn=Math.cos,Lf=Math.max,Ur=Math.min,St=Math.sin,xn=Math.sqrt,ut=1e-12,Bt=Math.PI,De=Bt/2,Xt=2*Bt;function Of(t){return t>1?0:t<-1?Bt:Math.acos(t)}function ma(t){return t>=1?De:t<=-1?-De:Math.asin(t)}function Pf(t){return t.innerRadius}function Df(t){return t.outerRadius}function Rf(t){return t.startAngle}function Ff(t){return t.endAngle}function Hf(t){return t&&t.padAngle}function zf(t,n,e,r,i,o,a,s){var u=e-t,l=r-n,c=a-i,h=s-o,f=h*u-c*l;if(!(f*f<ut))return f=(c*(n-o)-h*(t-i))/f,[t+f*u,n+f*l]}function ve(t,n,e,r,i,o,a){var s=t-e,u=n-r,l=(a?o:-o)/xn(s*s+u*u),c=l*u,h=-l*s,f=t+c,p=n+h,_=e+c,g=r+h,w=(f+_)/2,y=(p+g)/2,M=_-f,T=g-p,I=M*M+T*T,C=i-o,b=f*g-_*p,F=(T<0?-1:1)*xn(Lf(0,C*C*I-b*b)),W=(b*T-M*F)/I,U=(-b*M-T*F)/I,Q=(b*T+M*F)/I,L=(-b*M+T*F)/I,k=W-w,R=U-y,m=Q-w,S=L-y;return k*k+R*R>m*m+S*S&&(W=Q,U=L),{cx:W,cy:U,x01:-c,y01:-h,x11:W*(i/C-1),y11:U*(i/C-1)}}function Yf(){var t=Pf,n=Df,e=z(0),r=null,i=Rf,o=Ff,a=Hf,s=null;function u(){var l,c,h=+t.apply(this,arguments),f=+n.apply(this,arguments),p=i.apply(this,arguments)-De,_=o.apply(this,arguments)-De,g=pa(_-p),w=_>p;if(s||(s=l=Rn()),f<h&&(c=f,f=h,h=c),!(f>ut))s.moveTo(0,0);else if(g>Xt-ut)s.moveTo(f*tn(p),f*St(p)),s.arc(0,0,f,p,_,!w),h>ut&&(s.moveTo(h*tn(_),h*St(_)),s.arc(0,0,h,_,p,w));else{var y=p,M=_,T=p,I=_,C=g,b=g,F=a.apply(this,arguments)/2,W=F>ut&&(r?+r.apply(this,arguments):xn(h*h+f*f)),U=Ur(pa(f-h)/2,+e.apply(this,arguments)),Q=U,L=U,k,R;if(W>ut){var m=ma(W/h*St(F)),S=ma(W/f*St(F));(C-=m*2)>ut?(m*=w?1:-1,T+=m,I-=m):(C=0,T=I=(p+_)/2),(b-=S*2)>ut?(S*=w?1:-1,y+=S,M-=S):(b=0,y=M=(p+_)/2)}var v=f*tn(y),$=f*St(y),P=h*tn(I),D=h*St(I);if(U>ut){var Y=f*tn(M),X=f*St(M),K=h*tn(T),at=h*St(T),V;if(g<Bt&&(V=zf(v,$,K,at,Y,X,P,D))){var rt=v-V[0],ct=$-V[1],it=Y-V[0],ft=X-V[1],N=1/St(Of((rt*it+ct*ft)/(xn(rt*rt+ct*ct)*xn(it*it+ft*ft)))/2),q=xn(V[0]*V[0]+V[1]*V[1]);Q=Ur(U,(h-q)/(N-1)),L=Ur(U,(f-q)/(N+1))}}b>ut?L>ut?(k=ve(K,at,v,$,f,L,w),R=ve(Y,X,P,D,f,L,w),s.moveTo(k.cx+k.x01,k.cy+k.y01),L<U?s.arc(k.cx,k.cy,L,st(k.y01,k.x01),st(R.y01,R.x01),!w):(s.arc(k.cx,k.cy,L,st(k.y01,k.x01),st(k.y11,k.x11),!w),s.arc(0,0,f,st(k.cy+k.y11,k.cx+k.x11),st(R.cy+R.y11,R.cx+R.x11),!w),s.arc(R.cx,R.cy,L,st(R.y11,R.x11),st(R.y01,R.x01),!w))):(s.moveTo(v,$),s.arc(0,0,f,y,M,!w)):s.moveTo(v,$),!(h>ut)||!(C>ut)?s.lineTo(P,D):Q>ut?(k=ve(P,D,Y,X,h,-Q,w),R=ve(v,$,K,at,h,-Q,w),s.lineTo(k.cx+k.x01,k.cy+k.y01),Q<U?s.arc(k.cx,k.cy,Q,st(k.y01,k.x01),st(R.y01,R.x01),!w):(s.arc(k.cx,k.cy,Q,st(k.y01,k.x01),st(k.y11,k.x11),!w),s.arc(0,0,h,st(k.cy+k.y11,k.cx+k.x11),st(R.cy+R.y11,R.cx+R.x11),w),s.arc(R.cx,R.cy,Q,st(R.y11,R.x11),st(R.y01,R.x01),!w))):s.arc(0,0,h,I,T,w)}if(s.closePath(),l)return s=null,l+""||null}return u.centroid=function(){var l=(+t.apply(this,arguments)+ +n.apply(this,arguments))/2,c=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-Bt/2;return[tn(c)*l,St(c)*l]},u.innerRadius=function(l){return arguments.length?(t=typeof l=="function"?l:z(+l),u):t},u.outerRadius=function(l){return arguments.length?(n=typeof l=="function"?l:z(+l),u):n},u.cornerRadius=function(l){return arguments.length?(e=typeof l=="function"?l:z(+l),u):e},u.padRadius=function(l){return arguments.length?(r=l==null?null:typeof l=="function"?l:z(+l),u):r},u.startAngle=function(l){return arguments.length?(i=typeof l=="function"?l:z(+l),u):i},u.endAngle=function(l){return arguments.length?(o=typeof l=="function"?l:z(+l),u):o},u.padAngle=function(l){return arguments.length?(a=typeof l=="function"?l:z(+l),u):a},u.context=function(l){return arguments.length?(s=l??null,u):s},u}var qf=Array.prototype.slice;function ir(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Hs(t){this._context=t}Hs.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._context.lineTo(t,n);break}}};function or(t){return new Hs(t)}function Li(t){return t[0]}function Oi(t){return t[1]}function Pi(t,n){var e=z(!0),r=null,i=or,o=null;t=typeof t=="function"?t:t===void 0?Li:z(t),n=typeof n=="function"?n:n===void 0?Oi:z(n);function a(s){var u,l=(s=ir(s)).length,c,h=!1,f;for(r==null&&(o=i(f=Rn())),u=0;u<=l;++u)!(u<l&&e(c=s[u],u,s))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(c,u,s),+n(c,u,s));if(f)return o=null,f+""||null}return a.x=function(s){return arguments.length?(t=typeof s=="function"?s:z(+s),a):t},a.y=function(s){return arguments.length?(n=typeof s=="function"?s:z(+s),a):n},a.defined=function(s){return arguments.length?(e=typeof s=="function"?s:z(!!s),a):e},a.curve=function(s){return arguments.length?(i=s,r!=null&&(o=i(r)),a):i},a.context=function(s){return arguments.length?(s==null?r=o=null:o=i(r=s),a):r},a}function zs(t,n,e){var r=null,i=z(!0),o=null,a=or,s=null;t=typeof t=="function"?t:t===void 0?Li:z(+t),n=typeof n=="function"?n:z(n===void 0?0:+n),e=typeof e=="function"?e:e===void 0?Oi:z(+e);function u(c){var h,f,p,_=(c=ir(c)).length,g,w=!1,y,M=new Array(_),T=new Array(_);for(o==null&&(s=a(y=Rn())),h=0;h<=_;++h){if(!(h<_&&i(g=c[h],h,c))===w)if(w=!w)f=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),p=h-1;p>=f;--p)s.point(M[p],T[p]);s.lineEnd(),s.areaEnd()}w&&(M[h]=+t(g,h,c),T[h]=+n(g,h,c),s.point(r?+r(g,h,c):M[h],e?+e(g,h,c):T[h]))}if(y)return s=null,y+""||null}function l(){return Pi().defined(i).curve(a).context(o)}return u.x=function(c){return arguments.length?(t=typeof c=="function"?c:z(+c),r=null,u):t},u.x0=function(c){return arguments.length?(t=typeof c=="function"?c:z(+c),u):t},u.x1=function(c){return arguments.length?(r=c==null?null:typeof c=="function"?c:z(+c),u):r},u.y=function(c){return arguments.length?(n=typeof c=="function"?c:z(+c),e=null,u):n},u.y0=function(c){return arguments.length?(n=typeof c=="function"?c:z(+c),u):n},u.y1=function(c){return arguments.length?(e=c==null?null:typeof c=="function"?c:z(+c),u):e},u.lineX0=u.lineY0=function(){return l().x(t).y(n)},u.lineY1=function(){return l().x(t).y(e)},u.lineX1=function(){return l().x(r).y(n)},u.defined=function(c){return arguments.length?(i=typeof c=="function"?c:z(!!c),u):i},u.curve=function(c){return arguments.length?(a=c,o!=null&&(s=a(o)),u):a},u.context=function(c){return arguments.length?(c==null?o=s=null:s=a(o=c),u):o},u}function Uf(t,n){return n<t?-1:n>t?1:n>=t?0:NaN}function Xf(t){return t}function Bf(){var t=Xf,n=Uf,e=null,r=z(0),i=z(Xt),o=z(0);function a(s){var u,l=(s=ir(s)).length,c,h,f=0,p=new Array(l),_=new Array(l),g=+r.apply(this,arguments),w=Math.min(Xt,Math.max(-Xt,i.apply(this,arguments)-g)),y,M=Math.min(Math.abs(w)/l,o.apply(this,arguments)),T=M*(w<0?-1:1),I;for(u=0;u<l;++u)(I=_[p[u]=u]=+t(s[u],u,s))>0&&(f+=I);for(n!=null?p.sort(function(C,b){return n(_[C],_[b])}):e!=null&&p.sort(function(C,b){return e(s[C],s[b])}),u=0,h=f?(w-l*T)/f:0;u<l;++u,g=y)c=p[u],I=_[c],y=g+(I>0?I*h:0)+T,_[c]={data:s[c],index:u,value:I,startAngle:g,endAngle:y,padAngle:M};return _}return a.value=function(s){return arguments.length?(t=typeof s=="function"?s:z(+s),a):t},a.sortValues=function(s){return arguments.length?(n=s,e=null,a):n},a.sort=function(s){return arguments.length?(e=s,n=null,a):e},a.startAngle=function(s){return arguments.length?(r=typeof s=="function"?s:z(+s),a):r},a.endAngle=function(s){return arguments.length?(i=typeof s=="function"?s:z(+s),a):i},a.padAngle=function(s){return arguments.length?(o=typeof s=="function"?s:z(+s),a):o},a}var Ys=Di(or);function qs(t){this._curve=t}qs.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,n){this._curve.point(n*Math.sin(t),n*-Math.cos(t))}};function Di(t){function n(e){return new qs(t(e))}return n._curve=t,n}function Qn(t){var n=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(e){return arguments.length?n(Di(e)):n()._curve},t}function da(){return Qn(Pi().curve(Ys))}function ga(){var t=zs().curve(Ys),n=t.curve,e=t.lineX0,r=t.lineX1,i=t.lineY0,o=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return Qn(e())},delete t.lineX0,t.lineEndAngle=function(){return Qn(r())},delete t.lineX1,t.lineInnerRadius=function(){return Qn(i())},delete t.lineY0,t.lineOuterRadius=function(){return Qn(o())},delete t.lineY1,t.curve=function(a){return arguments.length?n(Di(a)):n()._curve},t}function Kn(t,n){return[(n=+n)*Math.cos(t-=Math.PI/2),n*Math.sin(t)]}function jf(t){return t.source}function Wf(t){return t.target}function Ri(t){var n=jf,e=Wf,r=Li,i=Oi,o=null;function a(){var s,u=qf.call(arguments),l=n.apply(this,u),c=e.apply(this,u);if(o||(o=s=Rn()),t(o,+r.apply(this,(u[0]=l,u)),+i.apply(this,u),+r.apply(this,(u[0]=c,u)),+i.apply(this,u)),s)return o=null,s+""||null}return a.source=function(s){return arguments.length?(n=s,a):n},a.target=function(s){return arguments.length?(e=s,a):e},a.x=function(s){return arguments.length?(r=typeof s=="function"?s:z(+s),a):r},a.y=function(s){return arguments.length?(i=typeof s=="function"?s:z(+s),a):i},a.context=function(s){return arguments.length?(o=s??null,a):o},a}function Gf(t,n,e,r,i){t.moveTo(n,e),t.bezierCurveTo(n=(n+r)/2,e,n,i,r,i)}function Vf(t,n,e,r,i){t.moveTo(n,e),t.bezierCurveTo(n,e=(e+i)/2,r,e,r,i)}function Zf(t,n,e,r,i){var o=Kn(n,e),a=Kn(n,e=(e+i)/2),s=Kn(r,e),u=Kn(r,i);t.moveTo(o[0],o[1]),t.bezierCurveTo(a[0],a[1],s[0],s[1],u[0],u[1])}function Qf(){return Ri(Gf)}function Kf(){return Ri(Vf)}function Jf(){var t=Ri(Zf);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t}const Fi={draw:function(t,n){var e=Math.sqrt(n/Bt);t.moveTo(e,0),t.arc(0,0,e,0,Xt)}},Us={draw:function(t,n){var e=Math.sqrt(n/5)/2;t.moveTo(-3*e,-e),t.lineTo(-e,-e),t.lineTo(-e,-3*e),t.lineTo(e,-3*e),t.lineTo(e,-e),t.lineTo(3*e,-e),t.lineTo(3*e,e),t.lineTo(e,e),t.lineTo(e,3*e),t.lineTo(-e,3*e),t.lineTo(-e,e),t.lineTo(-3*e,e),t.closePath()}};var Xs=Math.sqrt(1/3),th=Xs*2;const Bs={draw:function(t,n){var e=Math.sqrt(n/th),r=e*Xs;t.moveTo(0,-e),t.lineTo(r,0),t.lineTo(0,e),t.lineTo(-r,0),t.closePath()}};var nh=.8908130915292852,js=Math.sin(Bt/10)/Math.sin(7*Bt/10),eh=Math.sin(Xt/10)*js,rh=-Math.cos(Xt/10)*js;const Ws={draw:function(t,n){var e=Math.sqrt(n*nh),r=eh*e,i=rh*e;t.moveTo(0,-e),t.lineTo(r,i);for(var o=1;o<5;++o){var a=Xt*o/5,s=Math.cos(a),u=Math.sin(a);t.lineTo(u*e,-s*e),t.lineTo(s*r-u*i,u*r+s*i)}t.closePath()}},Gs={draw:function(t,n){var e=Math.sqrt(n),r=-e/2;t.rect(r,r,e,e)}};var Xr=Math.sqrt(3);const Vs={draw:function(t,n){var e=-Math.sqrt(n/(Xr*3));t.moveTo(0,e*2),t.lineTo(-Xr*e,-e),t.lineTo(Xr*e,-e),t.closePath()}};var _t=-.5,yt=Math.sqrt(3)/2,pi=1/Math.sqrt(12),ih=(pi/2+1)*3;const Zs={draw:function(t,n){var e=Math.sqrt(n/ih),r=e/2,i=e*pi,o=r,a=e*pi+e,s=-o,u=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(s,u),t.lineTo(_t*r-yt*i,yt*r+_t*i),t.lineTo(_t*o-yt*a,yt*o+_t*a),t.lineTo(_t*s-yt*u,yt*s+_t*u),t.lineTo(_t*r+yt*i,_t*i-yt*r),t.lineTo(_t*o+yt*a,_t*a-yt*o),t.lineTo(_t*s+yt*u,_t*u-yt*s),t.closePath()}};var oh=[Fi,Us,Bs,Gs,Ws,Vs,Zs];function ah(t,n){var e=null;t=typeof t=="function"?t:z(t||Fi),n=typeof n=="function"?n:z(n===void 0?64:+n);function r(){var i;if(e||(e=i=Rn()),t.apply(this,arguments).draw(e,+n.apply(this,arguments)),i)return e=null,i+""||null}return r.type=function(i){return arguments.length?(t=typeof i=="function"?i:z(i),r):t},r.size=function(i){return arguments.length?(n=typeof i=="function"?i:z(+i),r):n},r.context=function(i){return arguments.length?(e=i??null,r):e},r}function jt(){}function Re(t,n,e){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+n)/6,(t._y0+4*t._y1+e)/6)}function ar(t){this._context=t}ar.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Re(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Re(this,t,n);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};function sh(t){return new ar(t)}function Qs(t){this._context=t}Qs.prototype={areaStart:jt,areaEnd:jt,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x2=t,this._y2=n;break;case 1:this._point=2,this._x3=t,this._y3=n;break;case 2:this._point=3,this._x4=t,this._y4=n,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+n)/6);break;default:Re(this,t,n);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};function uh(t){return new Qs(t)}function Ks(t){this._context=t}Ks.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var e=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+n)/6;this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 3:this._point=4;default:Re(this,t,n);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};function lh(t){return new Ks(t)}class Js{constructor(n,e){this._context=n,this._x=e}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(n,e){switch(n=+n,e=+e,this._point){case 0:{this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+n)/2,this._y0,this._x0,e,n,e):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+e)/2,n,this._y0,n,e);break}}this._x0=n,this._y0=e}}function ch(t){return new Js(t,!0)}function fh(t){return new Js(t,!1)}function tu(t,n){this._basis=new ar(t),this._beta=n}tu.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,n=this._y,e=t.length-1;if(e>0)for(var r=t[0],i=n[0],o=t[e]-r,a=n[e]-i,s=-1,u;++s<=e;)u=s/e,this._basis.point(this._beta*t[s]+(1-this._beta)*(r+u*o),this._beta*n[s]+(1-this._beta)*(i+u*a));this._x=this._y=null,this._basis.lineEnd()},point:function(t,n){this._x.push(+t),this._y.push(+n)}};const hh=function t(n){function e(r){return n===1?new ar(r):new tu(r,n)}return e.beta=function(r){return t(+r)},e}(.85);function Fe(t,n,e){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-n),t._y2+t._k*(t._y1-e),t._x2,t._y2)}function Hi(t,n){this._context=t,this._k=(1-n)/6}Hi.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Fe(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2,this._x1=t,this._y1=n;break;case 2:this._point=3;default:Fe(this,t,n);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const ph=function t(n){function e(r){return new Hi(r,n)}return e.tension=function(r){return t(+r)},e}(0);function zi(t,n){this._context=t,this._k=(1-n)/6}zi.prototype={areaStart:jt,areaEnd:jt,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:Fe(this,t,n);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const mh=function t(n){function e(r){return new zi(r,n)}return e.tension=function(r){return t(+r)},e}(0);function Yi(t,n){this._context=t,this._k=(1-n)/6}Yi.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Fe(this,t,n);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const dh=function t(n){function e(r){return new Yi(r,n)}return e.tension=function(r){return t(+r)},e}(0);function qi(t,n,e){var r=t._x1,i=t._y1,o=t._x2,a=t._y2;if(t._l01_a>ut){var s=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,u=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*s-t._x0*t._l12_2a+t._x2*t._l01_2a)/u,i=(i*s-t._y0*t._l12_2a+t._y2*t._l01_2a)/u}if(t._l23_a>ut){var l=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,c=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*l+t._x1*t._l23_2a-n*t._l12_2a)/c,a=(a*l+t._y1*t._l23_2a-e*t._l12_2a)/c}t._context.bezierCurveTo(r,i,o,a,t._x2,t._y2)}function nu(t,n){this._context=t,this._alpha=n}nu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3;default:qi(this,t,n);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const gh=function t(n){function e(r){return n?new nu(r,n):new Hi(r,0)}return e.alpha=function(r){return t(+r)},e}(.5);function eu(t,n){this._context=t,this._alpha=n}eu.prototype={areaStart:jt,areaEnd:jt,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:qi(this,t,n);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const _h=function t(n){function e(r){return n?new eu(r,n):new zi(r,0)}return e.alpha=function(r){return t(+r)},e}(.5);function ru(t,n){this._context=t,this._alpha=n}ru.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:qi(this,t,n);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const yh=function t(n){function e(r){return n?new ru(r,n):new Yi(r,0)}return e.alpha=function(r){return t(+r)},e}(.5);function iu(t){this._context=t}iu.prototype={areaStart:jt,areaEnd:jt,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,n){t=+t,n=+n,this._point?this._context.lineTo(t,n):(this._point=1,this._context.moveTo(t,n))}};function vh(t){return new iu(t)}function _a(t){return t<0?-1:1}function ya(t,n,e){var r=t._x1-t._x0,i=n-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(e-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(_a(o)+_a(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function va(t,n){var e=t._x1-t._x0;return e?(3*(t._y1-t._y0)/e-n)/2:n}function Br(t,n,e){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*n,o-s,a-s*e,o,a)}function He(t){this._context=t}He.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Br(this,this._t0,va(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){var e=NaN;if(t=+t,n=+n,!(t===this._x1&&n===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,Br(this,va(this,e=ya(this,t,n)),e);break;default:Br(this,this._t0,e=ya(this,t,n));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n,this._t0=e}}};function ou(t){this._context=new au(t)}(ou.prototype=Object.create(He.prototype)).point=function(t,n){He.prototype.point.call(this,n,t)};function au(t){this._context=t}au.prototype={moveTo:function(t,n){this._context.moveTo(n,t)},closePath:function(){this._context.closePath()},lineTo:function(t,n){this._context.lineTo(n,t)},bezierCurveTo:function(t,n,e,r,i,o){this._context.bezierCurveTo(n,t,r,e,o,i)}};function wh(t){return new He(t)}function xh(t){return new ou(t)}function su(t){this._context=t}su.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,n=this._y,e=t.length;if(e)if(this._line?this._context.lineTo(t[0],n[0]):this._context.moveTo(t[0],n[0]),e===2)this._context.lineTo(t[1],n[1]);else for(var r=wa(t),i=wa(n),o=0,a=1;a<e;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],n[a]);(this._line||this._line!==0&&e===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,n){this._x.push(+t),this._y.push(+n)}};function wa(t){var n,e=t.length-1,r,i=new Array(e),o=new Array(e),a=new Array(e);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],n=1;n<e-1;++n)i[n]=1,o[n]=4,a[n]=4*t[n]+2*t[n+1];for(i[e-1]=2,o[e-1]=7,a[e-1]=8*t[e-1]+t[e],n=1;n<e;++n)r=i[n]/o[n-1],o[n]-=r,a[n]-=r*a[n-1];for(i[e-1]=a[e-1]/o[e-1],n=e-2;n>=0;--n)i[n]=(a[n]-i[n+1])/o[n];for(o[e-1]=(t[e]+i[e-1])/2,n=0;n<e-1;++n)o[n]=2*t[n+1]-i[n+1];return[i,o]}function bh(t){return new su(t)}function sr(t,n){this._context=t,this._t=n}sr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,n),this._context.lineTo(t,n);else{var e=this._x*(1-this._t)+t*this._t;this._context.lineTo(e,this._y),this._context.lineTo(e,n)}break}}this._x=t,this._y=n}};function Mh(t){return new sr(t,.5)}function Th(t){return new sr(t,0)}function Sh(t){return new sr(t,1)}function Nn(t,n){if((a=t.length)>1)for(var e=1,r,i,o=t[n[0]],a,s=o.length;e<a;++e)for(i=o,o=t[n[e]],r=0;r<s;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function En(t){for(var n=t.length,e=new Array(n);--n>=0;)e[n]=n;return e}function Nh(t,n){return t[n]}function Eh(t){const n=[];return n.key=t,n}function kh(){var t=z([]),n=En,e=Nn,r=Nh;function i(o){var a=Array.from(t.apply(this,arguments),Eh),s,u=a.length,l=-1,c;for(const h of o)for(s=0,++l;s<u;++s)(a[s][l]=[0,+r(h,a[s].key,l,o)]).data=h;for(s=0,c=ir(n(a));s<u;++s)a[c[s]].index=s;return e(a,c),a}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:z(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:z(+o),i):r},i.order=function(o){return arguments.length?(n=o==null?En:typeof o=="function"?o:z(Array.from(o)),i):n},i.offset=function(o){return arguments.length?(e=o??Nn,i):e},i}function Ah(t,n){if((r=t.length)>0){for(var e,r,i=0,o=t[0].length,a;i<o;++i){for(a=e=0;e<r;++e)a+=t[e][i][1]||0;if(a)for(e=0;e<r;++e)t[e][i][1]/=a}Nn(t,n)}}function $h(t,n){if((u=t.length)>0)for(var e,r=0,i,o,a,s,u,l=t[n[0]].length;r<l;++r)for(a=s=0,e=0;e<u;++e)(o=(i=t[n[e]][r])[1]-i[0])>0?(i[0]=a,i[1]=a+=o):o<0?(i[1]=s,i[0]=s+=o):(i[0]=0,i[1]=o)}function Ih(t,n){if((i=t.length)>0){for(var e=0,r=t[n[0]],i,o=r.length;e<o;++e){for(var a=0,s=0;a<i;++a)s+=t[a][e][1]||0;r[e][1]+=r[e][0]=-s/2}Nn(t,n)}}function Ch(t,n){if(!(!((a=t.length)>0)||!((o=(i=t[n[0]]).length)>0))){for(var e=0,r=1,i,o,a;r<o;++r){for(var s=0,u=0,l=0;s<a;++s){for(var c=t[n[s]],h=c[r][1]||0,f=c[r-1][1]||0,p=(h-f)/2,_=0;_<s;++_){var g=t[n[_]],w=g[r][1]||0,y=g[r-1][1]||0;p+=w-y}u+=h,l+=p*h}i[r-1][1]+=i[r-1][0]=e,u&&(e-=l/u)}i[r-1][1]+=i[r-1][0]=e,Nn(t,n)}}function uu(t){var n=t.map(Lh);return En(t).sort(function(e,r){return n[e]-n[r]})}function Lh(t){for(var n=-1,e=0,r=t.length,i,o=-1/0;++n<r;)(i=+t[n][1])>o&&(o=i,e=n);return e}function lu(t){var n=t.map(cu);return En(t).sort(function(e,r){return n[e]-n[r]})}function cu(t){for(var n=0,e=-1,r=t.length,i;++e<r;)(i=+t[e][1])&&(n+=i);return n}function Oh(t){return lu(t).reverse()}function Ph(t){var n=t.length,e,r,i=t.map(cu),o=uu(t),a=0,s=0,u=[],l=[];for(e=0;e<n;++e)r=o[e],a<s?(a+=i[r],u.push(r)):(s+=i[r],l.push(r));return l.reverse().concat(u)}function Dh(t){return En(t).reverse()}const Rh=Object.freeze(Object.defineProperty({__proto__:null,arc:Yf,area:zs,areaRadial:ga,curveBasis:sh,curveBasisClosed:uh,curveBasisOpen:lh,curveBumpX:ch,curveBumpY:fh,curveBundle:hh,curveCardinal:ph,curveCardinalClosed:mh,curveCardinalOpen:dh,curveCatmullRom:gh,curveCatmullRomClosed:_h,curveCatmullRomOpen:yh,curveLinear:or,curveLinearClosed:vh,curveMonotoneX:wh,curveMonotoneY:xh,curveNatural:bh,curveStep:Mh,curveStepAfter:Sh,curveStepBefore:Th,line:Pi,lineRadial:da,linkHorizontal:Qf,linkRadial:Jf,linkVertical:Kf,pie:Bf,pointRadial:Kn,radialArea:ga,radialLine:da,stack:kh,stackOffsetDiverging:$h,stackOffsetExpand:Ah,stackOffsetNone:Nn,stackOffsetSilhouette:Ih,stackOffsetWiggle:Ch,stackOrderAppearance:uu,stackOrderAscending:lu,stackOrderDescending:Oh,stackOrderInsideOut:Ph,stackOrderNone:En,stackOrderReverse:Dh,symbol:ah,symbolCircle:Fi,symbolCross:Us,symbolDiamond:Bs,symbolSquare:Gs,symbolStar:Ws,symbolTriangle:Vs,symbolWye:Zs,symbols:oh},Symbol.toStringTag,{value:"Module"})),ur=Yt(Rh);function Fh(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function ze(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]}function kn(t){return t=ze(Math.abs(t)),t?t[1]:NaN}function Hh(t,n){return function(e,r){for(var i=e.length,o=[],a=0,s=t[0],u=0;i>0&&s>0&&(u+s+1>r&&(s=Math.max(1,r-u)),o.push(e.substring(i-=s,i+s)),!((u+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(n)}}function zh(t){return function(n){return n.replace(/[0-9]/g,function(e){return t[+e]})}}var Yh=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function re(t){if(!(n=Yh.exec(t)))throw new Error("invalid format: "+t);var n;return new lr({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}re.prototype=lr.prototype;function lr(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}lr.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function qh(t){t:for(var n=t.length,e=1,r=-1,i;e<n;++e)switch(t[e]){case".":r=i=e;break;case"0":r===0&&(r=e),i=e;break;default:if(!+t[e])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var fu;function Uh(t,n){var e=ze(t,n);if(!e)return t+"";var r=e[0],i=e[1],o=i-(fu=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+ze(t,Math.max(0,n+o-1))[0]}function xa(t,n){var e=ze(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const ba={"%":(t,n)=>(t*100).toFixed(n),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Fh,e:(t,n)=>t.toExponential(n),f:(t,n)=>t.toFixed(n),g:(t,n)=>t.toPrecision(n),o:t=>Math.round(t).toString(8),p:(t,n)=>xa(t*100,n),r:xa,s:Uh,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Ma(t){return t}var Ta=Array.prototype.map,Sa=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function hu(t){var n=t.grouping===void 0||t.thousands===void 0?Ma:Hh(Ta.call(t.grouping,Number),t.thousands+""),e=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?Ma:zh(Ta.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"−":t.minus+"",u=t.nan===void 0?"NaN":t.nan+"";function l(h){h=re(h);var f=h.fill,p=h.align,_=h.sign,g=h.symbol,w=h.zero,y=h.width,M=h.comma,T=h.precision,I=h.trim,C=h.type;C==="n"?(M=!0,C="g"):ba[C]||(T===void 0&&(T=12),I=!0,C="g"),(w||f==="0"&&p==="=")&&(w=!0,f="0",p="=");var b=g==="$"?e:g==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",F=g==="$"?r:/[%p]/.test(C)?a:"",W=ba[C],U=/[defgprs%]/.test(C);T=T===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,T)):Math.max(0,Math.min(20,T));function Q(L){var k=b,R=F,m,S,v;if(C==="c")R=W(L)+R,L="";else{L=+L;var $=L<0||1/L<0;if(L=isNaN(L)?u:W(Math.abs(L),T),I&&(L=qh(L)),$&&+L==0&&_!=="+"&&($=!1),k=($?_==="("?_:s:_==="-"||_==="("?"":_)+k,R=(C==="s"?Sa[8+fu/3]:"")+R+($&&_==="("?")":""),U){for(m=-1,S=L.length;++m<S;)if(v=L.charCodeAt(m),48>v||v>57){R=(v===46?i+L.slice(m+1):L.slice(m))+R,L=L.slice(0,m);break}}}M&&!w&&(L=n(L,1/0));var P=k.length+L.length+R.length,D=P<y?new Array(y-P+1).join(f):"";switch(M&&w&&(L=n(D+L,D.length?y-R.length:1/0),D=""),p){case"<":L=k+L+R+D;break;case"=":L=k+D+L+R;break;case"^":L=D.slice(0,P=D.length>>1)+k+L+R+D.slice(P);break;default:L=D+k+L+R;break}return o(L)}return Q.toString=function(){return h+""},Q}function c(h,f){var p=l((h=re(h),h.type="f",h)),_=Math.max(-8,Math.min(8,Math.floor(kn(f)/3)))*3,g=Math.pow(10,-_),w=Sa[8+_/3];return function(y){return p(g*y)+w}}return{format:l,formatPrefix:c}}var we,cr,Ui;pu({thousands:",",grouping:[3],currency:["$",""]});function pu(t){return we=hu(t),cr=we.format,Ui=we.formatPrefix,we}function mu(t){return Math.max(0,-kn(Math.abs(t)))}function du(t,n){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(kn(n)/3)))*3-kn(Math.abs(t)))}function gu(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,kn(n)-kn(t))+1}const Xh=Object.freeze(Object.defineProperty({__proto__:null,FormatSpecifier:lr,get format(){return cr},formatDefaultLocale:pu,formatLocale:hu,get formatPrefix(){return Ui},formatSpecifier:re,precisionFixed:mu,precisionPrefix:du,precisionRound:gu},Symbol.toStringTag,{value:"Module"})),Bh=Yt(Xh);function fe(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function Xi(t){let n=t,e=t;t.length===1&&(n=(a,s)=>t(a)-s,e=jh(t));function r(a,s,u,l){for(u==null&&(u=0),l==null&&(l=a.length);u<l;){const c=u+l>>>1;e(a[c],s)<0?u=c+1:l=c}return u}function i(a,s,u,l){for(u==null&&(u=0),l==null&&(l=a.length);u<l;){const c=u+l>>>1;e(a[c],s)>0?l=c:u=c+1}return u}function o(a,s,u,l){u==null&&(u=0),l==null&&(l=a.length);const c=r(a,s,u,l-1);return c>u&&n(a[c-1],s)>-n(a[c],s)?c-1:c}return{left:r,center:o,right:i}}function jh(t){return(n,e)=>fe(t(n),e)}function _u(t){return t===null?NaN:+t}function*Wh(t,n){if(n===void 0)for(let e of t)e!=null&&(e=+e)>=e&&(yield e);else{let e=-1;for(let r of t)(r=n(r,++e,t))!=null&&(r=+r)>=r&&(yield r)}}const Gh=Xi(fe),Vh=Gh.right;Xi(_u).center;const he=Vh;var mi=Math.sqrt(50),di=Math.sqrt(10),gi=Math.sqrt(2);function _i(t,n,e){var r,i=-1,o,a,s;if(n=+n,t=+t,e=+e,t===n&&e>0)return[t];if((r=n<t)&&(o=t,t=n,n=o),(s=yu(t,n,e))===0||!isFinite(s))return[];if(s>0){let u=Math.round(t/s),l=Math.round(n/s);for(u*s<t&&++u,l*s>n&&--l,a=new Array(o=l-u+1);++i<o;)a[i]=(u+i)*s}else{s=-s;let u=Math.round(t*s),l=Math.round(n*s);for(u/s<t&&++u,l/s>n&&--l,a=new Array(o=l-u+1);++i<o;)a[i]=(u+i)/s}return r&&a.reverse(),a}function yu(t,n,e){var r=(n-t)/Math.max(0,e),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=mi?10:o>=di?5:o>=gi?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=mi?10:o>=di?5:o>=gi?2:1)}function yi(t,n,e){var r=Math.abs(n-t)/Math.max(0,e),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=mi?i*=10:o>=di?i*=5:o>=gi&&(i*=2),n<t?-i:i}function Na(t,n){let e;if(n===void 0)for(const r of t)r!=null&&(e<r||e===void 0&&r>=r)&&(e=r);else{let r=-1;for(let i of t)(i=n(i,++r,t))!=null&&(e<i||e===void 0&&i>=i)&&(e=i)}return e}function Ea(t,n){let e;if(n===void 0)for(const r of t)r!=null&&(e>r||e===void 0&&r>=r)&&(e=r);else{let r=-1;for(let i of t)(i=n(i,++r,t))!=null&&(e>i||e===void 0&&i>=i)&&(e=i)}return e}function vu(t,n,e=0,r=t.length-1,i=fe){for(;r>e;){if(r-e>600){const u=r-e+1,l=n-e+1,c=Math.log(u),h=.5*Math.exp(2*c/3),f=.5*Math.sqrt(c*h*(u-h)/u)*(l-u/2<0?-1:1),p=Math.max(e,Math.floor(n-l*h/u+f)),_=Math.min(r,Math.floor(n+(u-l)*h/u+f));vu(t,n,p,_,i)}const o=t[n];let a=e,s=r;for(Bn(t,e,n),i(t[r],o)>0&&Bn(t,e,r);a<s;){for(Bn(t,a,s),++a,--s;i(t[a],o)<0;)++a;for(;i(t[s],o)>0;)--s}i(t[e],o)===0?Bn(t,e,s):(++s,Bn(t,s,r)),s<=n&&(e=s+1),n<=s&&(r=s-1)}return t}function Bn(t,n,e){const r=t[n];t[n]=t[e],t[e]=r}function Zh(t,n,e){if(t=Float64Array.from(Wh(t,e)),!!(r=t.length)){if((n=+n)<=0||r<2)return Ea(t);if(n>=1)return Na(t);var r,i=(r-1)*n,o=Math.floor(i),a=Na(vu(t,o).subarray(0,o+1)),s=Ea(t.subarray(o+1));return a+(s-a)*(i-o)}}function Qh(t,n,e=_u){if(r=t.length){if((n=+n)<=0||r<2)return+e(t[0],0,t);if(n>=1)return+e(t[r-1],r-1,t);var r,i=(r-1)*n,o=Math.floor(i),a=+e(t[o],o,t),s=+e(t[o+1],o+1,t);return a+(s-a)*(i-o)}}function Kh(t,n,e){t=+t,n=+n,e=(i=arguments.length)<2?(n=t,t=0,1):i<3?1:+e;for(var r=-1,i=Math.max(0,Math.ceil((n-t)/e))|0,o=new Array(i);++r<i;)o[r]=t+r*e;return o}function xt(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t);break}return this}function qt(t,n){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof n=="function"?this.interpolator(n):this.range(n);break}}return this}const vi=Symbol("implicit");function Bi(){var t=new Map,n=[],e=[],r=vi;function i(o){var a=o+"",s=t.get(a);if(!s){if(r!==vi)return r;t.set(a,s=n.push(o))}return e[(s-1)%e.length]}return i.domain=function(o){if(!arguments.length)return n.slice();n=[],t=new Map;for(const a of o){const s=a+"";t.has(s)||t.set(s,n.push(a))}return i},i.range=function(o){return arguments.length?(e=Array.from(o),i):e.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Bi(n,e).unknown(r)},xt.apply(i,arguments),i}function ji(){var t=Bi().unknown(void 0),n=t.domain,e=t.range,r=0,i=1,o,a,s=!1,u=0,l=0,c=.5;delete t.unknown;function h(){var f=n().length,p=i<r,_=p?i:r,g=p?r:i;o=(g-_)/Math.max(1,f-u+l*2),s&&(o=Math.floor(o)),_+=(g-_-o*(f-u))*c,a=o*(1-u),s&&(_=Math.round(_),a=Math.round(a));var w=Kh(f).map(function(y){return _+o*y});return e(p?w.reverse():w)}return t.domain=function(f){return arguments.length?(n(f),h()):n()},t.range=function(f){return arguments.length?([r,i]=f,r=+r,i=+i,h()):[r,i]},t.rangeRound=function(f){return[r,i]=f,r=+r,i=+i,s=!0,h()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(f){return arguments.length?(s=!!f,h()):s},t.padding=function(f){return arguments.length?(u=Math.min(1,l=+f),h()):u},t.paddingInner=function(f){return arguments.length?(u=Math.min(1,f),h()):u},t.paddingOuter=function(f){return arguments.length?(l=+f,h()):l},t.align=function(f){return arguments.length?(c=Math.max(0,Math.min(1,f)),h()):c},t.copy=function(){return ji(n(),[r,i]).round(s).paddingInner(u).paddingOuter(l).align(c)},xt.apply(h(),arguments)}function wu(t){var n=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return wu(n())},t}function Jh(){return wu(ji.apply(null,arguments).paddingInner(1))}function Fn(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function pe(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function Gt(){}var sn=.7,An=1/sn,Mn="\\s*([+-]?\\d+)\\s*",ie="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",At="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",tp=/^#([0-9a-f]{3,8})$/,np=new RegExp("^rgb\\("+[Mn,Mn,Mn]+"\\)$"),ep=new RegExp("^rgb\\("+[At,At,At]+"\\)$"),rp=new RegExp("^rgba\\("+[Mn,Mn,Mn,ie]+"\\)$"),ip=new RegExp("^rgba\\("+[At,At,At,ie]+"\\)$"),op=new RegExp("^hsl\\("+[ie,At,At]+"\\)$"),ap=new RegExp("^hsla\\("+[ie,At,At,ie]+"\\)$"),ka={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Fn(Gt,Wt,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Aa,formatHex:Aa,formatHsl:sp,formatRgb:$a,toString:$a});function Aa(){return this.rgb().formatHex()}function sp(){return xu(this).formatHsl()}function $a(){return this.rgb().formatRgb()}function Wt(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=tp.exec(t))?(e=n[1].length,n=parseInt(n[1],16),e===6?Ia(n):e===3?new ot(n>>8&15|n>>4&240,n>>4&15|n&240,(n&15)<<4|n&15,1):e===8?xe(n>>24&255,n>>16&255,n>>8&255,(n&255)/255):e===4?xe(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|n&240,((n&15)<<4|n&15)/255):null):(n=np.exec(t))?new ot(n[1],n[2],n[3],1):(n=ep.exec(t))?new ot(n[1]*255/100,n[2]*255/100,n[3]*255/100,1):(n=rp.exec(t))?xe(n[1],n[2],n[3],n[4]):(n=ip.exec(t))?xe(n[1]*255/100,n[2]*255/100,n[3]*255/100,n[4]):(n=op.exec(t))?Oa(n[1],n[2]/100,n[3]/100,1):(n=ap.exec(t))?Oa(n[1],n[2]/100,n[3]/100,n[4]):ka.hasOwnProperty(t)?Ia(ka[t]):t==="transparent"?new ot(NaN,NaN,NaN,0):null}function Ia(t){return new ot(t>>16&255,t>>8&255,t&255,1)}function xe(t,n,e,r){return r<=0&&(t=n=e=NaN),new ot(t,n,e,r)}function Wi(t){return t instanceof Gt||(t=Wt(t)),t?(t=t.rgb(),new ot(t.r,t.g,t.b,t.opacity)):new ot}function oe(t,n,e,r){return arguments.length===1?Wi(t):new ot(t,n,e,r??1)}function ot(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}Fn(ot,oe,pe(Gt,{brighter:function(t){return t=t==null?An:Math.pow(An,t),new ot(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=t==null?sn:Math.pow(sn,t),new ot(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ca,formatHex:Ca,formatRgb:La,toString:La}));function Ca(){return"#"+jr(this.r)+jr(this.g)+jr(this.b)}function La(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(t===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(t===1?")":", "+t+")")}function jr(t){return t=Math.max(0,Math.min(255,Math.round(t)||0)),(t<16?"0":"")+t.toString(16)}function Oa(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new Et(t,n,e,r)}function xu(t){if(t instanceof Et)return new Et(t.h,t.s,t.l,t.opacity);if(t instanceof Gt||(t=Wt(t)),!t)return new Et;if(t instanceof Et)return t;t=t.rgb();var n=t.r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),o=Math.max(n,e,r),a=NaN,s=o-i,u=(o+i)/2;return s?(n===o?a=(e-r)/s+(e<r)*6:e===o?a=(r-n)/s+2:a=(n-e)/s+4,s/=u<.5?o+i:2-o-i,a*=60):s=u>0&&u<1?0:a,new Et(a,s,u,t.opacity)}function Ye(t,n,e,r){return arguments.length===1?xu(t):new Et(t,n,e,r??1)}function Et(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}Fn(Et,Ye,pe(Gt,{brighter:function(t){return t=t==null?An:Math.pow(An,t),new Et(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=t==null?sn:Math.pow(sn,t),new Et(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+(this.h<0)*360,n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new ot(Wr(t>=240?t-240:t+120,i,r),Wr(t,i,r),Wr(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(t===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(t===1?")":", "+t+")")}}));function Wr(t,n,e){return(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)*255}const bu=Math.PI/180,Mu=180/Math.PI,qe=18,Tu=.96422,Su=1,Nu=.82521,Eu=4/29,Tn=6/29,ku=3*Tn*Tn,up=Tn*Tn*Tn;function Au(t){if(t instanceof bt)return new bt(t.l,t.a,t.b,t.opacity);if(t instanceof kt)return Iu(t);t instanceof ot||(t=Wi(t));var n=Qr(t.r),e=Qr(t.g),r=Qr(t.b),i=Gr((.2225045*n+.7168786*e+.0606169*r)/Su),o,a;return n===e&&e===r?o=a=i:(o=Gr((.4360747*n+.3850649*e+.1430804*r)/Tu),a=Gr((.0139322*n+.0971045*e+.7141733*r)/Nu)),new bt(116*i-16,500*(o-i),200*(i-a),t.opacity)}function lp(t,n){return new bt(t,0,0,n??1)}function Ue(t,n,e,r){return arguments.length===1?Au(t):new bt(t,n,e,r??1)}function bt(t,n,e,r){this.l=+t,this.a=+n,this.b=+e,this.opacity=+r}Fn(bt,Ue,pe(Gt,{brighter:function(t){return new bt(this.l+qe*(t??1),this.a,this.b,this.opacity)},darker:function(t){return new bt(this.l-qe*(t??1),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,n=isNaN(this.a)?t:t+this.a/500,e=isNaN(this.b)?t:t-this.b/200;return n=Tu*Vr(n),t=Su*Vr(t),e=Nu*Vr(e),new ot(Zr(3.1338561*n-1.6168667*t-.4906146*e),Zr(-.9787684*n+1.9161415*t+.033454*e),Zr(.0719453*n-.2289914*t+1.4052427*e),this.opacity)}}));function Gr(t){return t>up?Math.pow(t,1/3):t/ku+Eu}function Vr(t){return t>Tn?t*t*t:ku*(t-Eu)}function Zr(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Qr(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function $u(t){if(t instanceof kt)return new kt(t.h,t.c,t.l,t.opacity);if(t instanceof bt||(t=Au(t)),t.a===0&&t.b===0)return new kt(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var n=Math.atan2(t.b,t.a)*Mu;return new kt(n<0?n+360:n,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function cp(t,n,e,r){return arguments.length===1?$u(t):new kt(e,n,t,r??1)}function Xe(t,n,e,r){return arguments.length===1?$u(t):new kt(t,n,e,r??1)}function kt(t,n,e,r){this.h=+t,this.c=+n,this.l=+e,this.opacity=+r}function Iu(t){if(isNaN(t.h))return new bt(t.l,0,0,t.opacity);var n=t.h*bu;return new bt(t.l,Math.cos(n)*t.c,Math.sin(n)*t.c,t.opacity)}Fn(kt,Xe,pe(Gt,{brighter:function(t){return new kt(this.h,this.c,this.l+qe*(t??1),this.opacity)},darker:function(t){return new kt(this.h,this.c,this.l-qe*(t??1),this.opacity)},rgb:function(){return Iu(this).rgb()}}));var Cu=-.14861,Gi=1.78277,Vi=-.29227,fr=-.90649,ae=1.97294,Pa=ae*fr,Da=ae*Gi,Ra=Gi*Vi-fr*Cu;function fp(t){if(t instanceof an)return new an(t.h,t.s,t.l,t.opacity);t instanceof ot||(t=Wi(t));var n=t.r/255,e=t.g/255,r=t.b/255,i=(Ra*r+Pa*n-Da*e)/(Ra+Pa-Da),o=r-i,a=(ae*(e-i)-Vi*o)/fr,s=Math.sqrt(a*a+o*o)/(ae*i*(1-i)),u=s?Math.atan2(a,o)*Mu-120:NaN;return new an(u<0?u+360:u,s,i,t.opacity)}function Be(t,n,e,r){return arguments.length===1?fp(t):new an(t,n,e,r??1)}function an(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}Fn(an,Be,pe(Gt,{brighter:function(t){return t=t==null?An:Math.pow(An,t),new an(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=t==null?sn:Math.pow(sn,t),new an(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*bu,n=+this.l,e=isNaN(this.s)?0:this.s*n*(1-n),r=Math.cos(t),i=Math.sin(t);return new ot(255*(n+e*(Cu*r+Gi*i)),255*(n+e*(Vi*r+fr*i)),255*(n+e*(ae*r)),this.opacity)}}));const hp=Object.freeze(Object.defineProperty({__proto__:null,color:Wt,cubehelix:Be,gray:lp,hcl:Xe,hsl:Ye,lab:Ue,lch:cp,rgb:oe},Symbol.toStringTag,{value:"Module"}));function Lu(t,n,e,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*n+(4-6*o+3*a)*e+(1+3*t+3*o-3*a)*r+a*i)/6}function Ou(t){var n=t.length-1;return function(e){var r=e<=0?e=0:e>=1?(e=1,n-1):Math.floor(e*n),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,s=r<n-1?t[r+2]:2*o-i;return Lu((e-r/n)*n,a,i,o,s)}}function Pu(t){var n=t.length;return function(e){var r=Math.floor(((e%=1)<0?++e:e)*n),i=t[(r+n-1)%n],o=t[r%n],a=t[(r+1)%n],s=t[(r+2)%n];return Lu((e-r/n)*n,i,o,a,s)}}const hr=t=>()=>t;function Du(t,n){return function(e){return t+e*n}}function pp(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}function pr(t,n){var e=n-t;return e?Du(t,e>180||e<-180?e-360*Math.round(e/360):e):hr(isNaN(t)?n:t)}function mp(t){return(t=+t)==1?tt:function(n,e){return e-n?pp(n,e,t):hr(isNaN(n)?e:n)}}function tt(t,n){var e=n-t;return e?Du(t,e):hr(isNaN(t)?n:t)}const se=function t(n){var e=mp(n);function r(i,o){var a=e((i=oe(i)).r,(o=oe(o)).r),s=e(i.g,o.g),u=e(i.b,o.b),l=tt(i.opacity,o.opacity);return function(c){return i.r=a(c),i.g=s(c),i.b=u(c),i.opacity=l(c),i+""}}return r.gamma=t,r}(1);function Ru(t){return function(n){var e=n.length,r=new Array(e),i=new Array(e),o=new Array(e),a,s;for(a=0;a<e;++a)s=oe(n[a]),r[a]=s.r||0,i[a]=s.g||0,o[a]=s.b||0;return r=t(r),i=t(i),o=t(o),s.opacity=1,function(u){return s.r=r(u),s.g=i(u),s.b=o(u),s+""}}}var dp=Ru(Ou),gp=Ru(Pu);function Zi(t,n){n||(n=[]);var e=t?Math.min(n.length,t.length):0,r=n.slice(),i;return function(o){for(i=0;i<e;++i)r[i]=t[i]*(1-o)+n[i]*o;return r}}function Fu(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function _p(t,n){return(Fu(n)?Zi:Hu)(t,n)}function Hu(t,n){var e=n?n.length:0,r=t?Math.min(e,t.length):0,i=new Array(r),o=new Array(e),a;for(a=0;a<r;++a)i[a]=mn(t[a],n[a]);for(;a<e;++a)o[a]=n[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function zu(t,n){var e=new Date;return t=+t,n=+n,function(r){return e.setTime(t*(1-r)+n*r),e}}function vt(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}function Yu(t,n){var e={},r={},i;(t===null||typeof t!="object")&&(t={}),(n===null||typeof n!="object")&&(n={});for(i in n)i in t?e[i]=mn(t[i],n[i]):r[i]=n[i];return function(o){for(i in e)r[i]=e[i](o);return r}}var wi=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Kr=new RegExp(wi.source,"g");function yp(t){return function(){return t}}function vp(t){return function(n){return t(n)+""}}function Qi(t,n){var e=wi.lastIndex=Kr.lastIndex=0,r,i,o,a=-1,s=[],u=[];for(t=t+"",n=n+"";(r=wi.exec(t))&&(i=Kr.exec(n));)(o=i.index)>e&&(o=n.slice(e,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,u.push({i:a,x:vt(r,i)})),e=Kr.lastIndex;return e<n.length&&(o=n.slice(e),s[a]?s[a]+=o:s[++a]=o),s.length<2?u[0]?vp(u[0].x):yp(n):(n=u.length,function(l){for(var c=0,h;c<n;++c)s[(h=u[c]).i]=h.x(l);return s.join("")})}function mn(t,n){var e=typeof n,r;return n==null||e==="boolean"?hr(n):(e==="number"?vt:e==="string"?(r=Wt(n))?(n=r,se):Qi:n instanceof Wt?se:n instanceof Date?zu:Fu(n)?Zi:Array.isArray(n)?Hu:typeof n.valueOf!="function"&&typeof n.toString!="function"||isNaN(n)?Yu:vt)(t,n)}function wp(t){var n=t.length;return function(e){return t[Math.max(0,Math.min(n-1,Math.floor(e*n)))]}}function xp(t,n){var e=pr(+t,+n);return function(r){var i=e(r);return i-360*Math.floor(i/360)}}function mr(t,n){return t=+t,n=+n,function(e){return Math.round(t*(1-e)+n*e)}}var Fa=180/Math.PI,xi={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function qu(t,n,e,r,i,o){var a,s,u;return(a=Math.sqrt(t*t+n*n))&&(t/=a,n/=a),(u=t*e+n*r)&&(e-=t*u,r-=n*u),(s=Math.sqrt(e*e+r*r))&&(e/=s,r/=s,u/=s),t*r<n*e&&(t=-t,n=-n,u=-u,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(n,t)*Fa,skewX:Math.atan(u)*Fa,scaleX:a,scaleY:s}}var be;function bp(t){const n=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return n.isIdentity?xi:qu(n.a,n.b,n.c,n.d,n.e,n.f)}function Mp(t){return t==null||(be||(be=document.createElementNS("http://www.w3.org/2000/svg","g")),be.setAttribute("transform",t),!(t=be.transform.baseVal.consolidate()))?xi:(t=t.matrix,qu(t.a,t.b,t.c,t.d,t.e,t.f))}function Uu(t,n,e,r){function i(l){return l.length?l.pop()+" ":""}function o(l,c,h,f,p,_){if(l!==h||c!==f){var g=p.push("translate(",null,n,null,e);_.push({i:g-4,x:vt(l,h)},{i:g-2,x:vt(c,f)})}else(h||f)&&p.push("translate("+h+n+f+e)}function a(l,c,h,f){l!==c?(l-c>180?c+=360:c-l>180&&(l+=360),f.push({i:h.push(i(h)+"rotate(",null,r)-2,x:vt(l,c)})):c&&h.push(i(h)+"rotate("+c+r)}function s(l,c,h,f){l!==c?f.push({i:h.push(i(h)+"skewX(",null,r)-2,x:vt(l,c)}):c&&h.push(i(h)+"skewX("+c+r)}function u(l,c,h,f,p,_){if(l!==h||c!==f){var g=p.push(i(p)+"scale(",null,",",null,")");_.push({i:g-4,x:vt(l,h)},{i:g-2,x:vt(c,f)})}else(h!==1||f!==1)&&p.push(i(p)+"scale("+h+","+f+")")}return function(l,c){var h=[],f=[];return l=t(l),c=t(c),o(l.translateX,l.translateY,c.translateX,c.translateY,h,f),a(l.rotate,c.rotate,h,f),s(l.skewX,c.skewX,h,f),u(l.scaleX,l.scaleY,c.scaleX,c.scaleY,h,f),l=c=null,function(p){for(var _=-1,g=f.length,w;++_<g;)h[(w=f[_]).i]=w.x(p);return h.join("")}}}var Xu=Uu(bp,"px, ","px)","deg)"),Bu=Uu(Mp,", ",")",")"),Tp=1e-12;function Ha(t){return((t=Math.exp(t))+1/t)/2}function Sp(t){return((t=Math.exp(t))-1/t)/2}function Np(t){return((t=Math.exp(2*t))-1)/(t+1)}const ju=function t(n,e,r){function i(o,a){var s=o[0],u=o[1],l=o[2],c=a[0],h=a[1],f=a[2],p=c-s,_=h-u,g=p*p+_*_,w,y;if(g<Tp)y=Math.log(f/l)/n,w=function(F){return[s+F*p,u+F*_,l*Math.exp(n*F*y)]};else{var M=Math.sqrt(g),T=(f*f-l*l+r*g)/(2*l*e*M),I=(f*f-l*l-r*g)/(2*f*e*M),C=Math.log(Math.sqrt(T*T+1)-T),b=Math.log(Math.sqrt(I*I+1)-I);y=(b-C)/n,w=function(F){var W=F*y,U=Ha(C),Q=l/(e*M)*(U*Np(n*W+C)-Sp(C));return[s+Q*p,u+Q*_,l*U/Ha(n*W+C)]}}return w.duration=y*1e3*n/Math.SQRT2,w}return i.rho=function(o){var a=Math.max(.001,+o),s=a*a,u=s*s;return t(a,s,u)},i}(Math.SQRT2,2,4);function Wu(t){return function(n,e){var r=t((n=Ye(n)).h,(e=Ye(e)).h),i=tt(n.s,e.s),o=tt(n.l,e.l),a=tt(n.opacity,e.opacity);return function(s){return n.h=r(s),n.s=i(s),n.l=o(s),n.opacity=a(s),n+""}}}const Ep=Wu(pr);var kp=Wu(tt);function Ap(t,n){var e=tt((t=Ue(t)).l,(n=Ue(n)).l),r=tt(t.a,n.a),i=tt(t.b,n.b),o=tt(t.opacity,n.opacity);return function(a){return t.l=e(a),t.a=r(a),t.b=i(a),t.opacity=o(a),t+""}}function Gu(t){return function(n,e){var r=t((n=Xe(n)).h,(e=Xe(e)).h),i=tt(n.c,e.c),o=tt(n.l,e.l),a=tt(n.opacity,e.opacity);return function(s){return n.h=r(s),n.c=i(s),n.l=o(s),n.opacity=a(s),n+""}}}const $p=Gu(pr);var Ip=Gu(tt);function Vu(t){return function n(e){e=+e;function r(i,o){var a=t((i=Be(i)).h,(o=Be(o)).h),s=tt(i.s,o.s),u=tt(i.l,o.l),l=tt(i.opacity,o.opacity);return function(c){return i.h=a(c),i.s=s(c),i.l=u(Math.pow(c,e)),i.opacity=l(c),i+""}}return r.gamma=n,r}(1)}const Cp=Vu(pr);var Lp=Vu(tt);function Zu(t,n){n===void 0&&(n=t,t=mn);for(var e=0,r=n.length-1,i=n[0],o=new Array(r<0?0:r);e<r;)o[e]=t(i,i=n[++e]);return function(a){var s=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[s](a-s)}}function Op(t,n){for(var e=new Array(n),r=0;r<n;++r)e[r]=t(r/(n-1));return e}const Pp=Object.freeze(Object.defineProperty({__proto__:null,interpolate:mn,interpolateArray:_p,interpolateBasis:Ou,interpolateBasisClosed:Pu,interpolateCubehelix:Cp,interpolateCubehelixLong:Lp,interpolateDate:zu,interpolateDiscrete:wp,interpolateHcl:$p,interpolateHclLong:Ip,interpolateHsl:Ep,interpolateHslLong:kp,interpolateHue:xp,interpolateLab:Ap,interpolateNumber:vt,interpolateNumberArray:Zi,interpolateObject:Yu,interpolateRgb:se,interpolateRgbBasis:dp,interpolateRgbBasisClosed:gp,interpolateRound:mr,interpolateString:Qi,interpolateTransformCss:Xu,interpolateTransformSvg:Bu,interpolateZoom:ju,piecewise:Zu,quantize:Op},Symbol.toStringTag,{value:"Module"}));function Dp(t){return function(){return t}}function je(t){return+t}var za=[0,1];function ht(t){return t}function bi(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:Dp(isNaN(n)?NaN:.5)}function Rp(t,n){var e;return t>n&&(e=t,t=n,n=e),function(r){return Math.max(t,Math.min(n,r))}}function Fp(t,n,e){var r=t[0],i=t[1],o=n[0],a=n[1];return i<r?(r=bi(i,r),o=e(a,o)):(r=bi(r,i),o=e(o,a)),function(s){return o(r(s))}}function Hp(t,n,e){var r=Math.min(t.length,n.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++a<r;)i[a]=bi(t[a],t[a+1]),o[a]=e(n[a],n[a+1]);return function(s){var u=he(t,s,1,r)-1;return o[u](i[u](s))}}function me(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function dr(){var t=za,n=za,e=mn,r,i,o,a=ht,s,u,l;function c(){var f=Math.min(t.length,n.length);return a!==ht&&(a=Rp(t[0],t[f-1])),s=f>2?Hp:Fp,u=l=null,h}function h(f){return f==null||isNaN(f=+f)?o:(u||(u=s(t.map(r),n,e)))(r(a(f)))}return h.invert=function(f){return a(i((l||(l=s(n,t.map(r),vt)))(f)))},h.domain=function(f){return arguments.length?(t=Array.from(f,je),c()):t.slice()},h.range=function(f){return arguments.length?(n=Array.from(f),c()):n.slice()},h.rangeRound=function(f){return n=Array.from(f),e=mr,c()},h.clamp=function(f){return arguments.length?(a=f?!0:ht,c()):a!==ht},h.interpolate=function(f){return arguments.length?(e=f,c()):e},h.unknown=function(f){return arguments.length?(o=f,h):o},function(f,p){return r=f,i=p,c()}}function Ki(){return dr()(ht,ht)}function Qu(t,n,e,r){var i=yi(t,n,e),o;switch(r=re(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(n));return r.precision==null&&!isNaN(o=du(i,a))&&(r.precision=o),Ui(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=gu(i,Math.max(Math.abs(t),Math.abs(n))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=mu(i))&&(r.precision=o-(r.type==="%")*2);break}}return cr(r)}function Vt(t){var n=t.domain;return t.ticks=function(e){var r=n();return _i(r[0],r[r.length-1],e??10)},t.tickFormat=function(e,r){var i=n();return Qu(i[0],i[i.length-1],e??10,r)},t.nice=function(e){e==null&&(e=10);var r=n(),i=0,o=r.length-1,a=r[i],s=r[o],u,l,c=10;for(s<a&&(l=a,a=s,s=l,l=i,i=o,o=l);c-- >0;){if(l=yu(a,s,e),l===u)return r[i]=a,r[o]=s,n(r);if(l>0)a=Math.floor(a/l)*l,s=Math.ceil(s/l)*l;else if(l<0)a=Math.ceil(a*l)/l,s=Math.floor(s*l)/l;else break;u=l}return t},t}function Ku(){var t=Ki();return t.copy=function(){return me(t,Ku())},xt.apply(t,arguments),Vt(t)}function Ju(t){var n;function e(r){return r==null||isNaN(r=+r)?n:r}return e.invert=e,e.domain=e.range=function(r){return arguments.length?(t=Array.from(r,je),e):t.slice()},e.unknown=function(r){return arguments.length?(n=r,e):n},e.copy=function(){return Ju(t).unknown(n)},t=arguments.length?Array.from(t,je):[0,1],Vt(e)}function tl(t,n){t=t.slice();var e=0,r=t.length-1,i=t[e],o=t[r],a;return o<i&&(a=e,e=r,r=a,a=i,i=o,o=a),t[e]=n.floor(i),t[r]=n.ceil(o),t}function Ya(t){return Math.log(t)}function qa(t){return Math.exp(t)}function zp(t){return-Math.log(-t)}function Yp(t){return-Math.exp(-t)}function qp(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Up(t){return t===10?qp:t===Math.E?Math.exp:function(n){return Math.pow(t,n)}}function Xp(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),function(n){return Math.log(n)/t})}function Ua(t){return function(n){return-t(-n)}}function Ji(t){var n=t(Ya,qa),e=n.domain,r=10,i,o;function a(){return i=Xp(r),o=Up(r),e()[0]<0?(i=Ua(i),o=Ua(o),t(zp,Yp)):t(Ya,qa),n}return n.base=function(s){return arguments.length?(r=+s,a()):r},n.domain=function(s){return arguments.length?(e(s),a()):e()},n.ticks=function(s){var u=e(),l=u[0],c=u[u.length-1],h;(h=c<l)&&(f=l,l=c,c=f);var f=i(l),p=i(c),_,g,w,y=s==null?10:+s,M=[];if(!(r%1)&&p-f<y){if(f=Math.floor(f),p=Math.ceil(p),l>0){for(;f<=p;++f)for(g=1,_=o(f);g<r;++g)if(w=_*g,!(w<l)){if(w>c)break;M.push(w)}}else for(;f<=p;++f)for(g=r-1,_=o(f);g>=1;--g)if(w=_*g,!(w<l)){if(w>c)break;M.push(w)}M.length*2<y&&(M=_i(l,c,y))}else M=_i(f,p,Math.min(p-f,y)).map(o);return h?M.reverse():M},n.tickFormat=function(s,u){if(u==null&&(u=r===10?".0e":","),typeof u!="function"&&(u=cr(u)),s===1/0)return u;s==null&&(s=10);var l=Math.max(1,r*s/n.ticks().length);return function(c){var h=c/o(Math.round(i(c)));return h*r<r-.5&&(h*=r),h<=l?u(c):""}},n.nice=function(){return e(tl(e(),{floor:function(s){return o(Math.floor(i(s)))},ceil:function(s){return o(Math.ceil(i(s)))}}))},n}function nl(){var t=Ji(dr()).domain([1,10]);return t.copy=function(){return me(t,nl()).base(t.base())},xt.apply(t,arguments),t}function Xa(t){return function(n){return Math.sign(n)*Math.log1p(Math.abs(n/t))}}function Ba(t){return function(n){return Math.sign(n)*Math.expm1(Math.abs(n))*t}}function to(t){var n=1,e=t(Xa(n),Ba(n));return e.constant=function(r){return arguments.length?t(Xa(n=+r),Ba(n)):n},Vt(e)}function el(){var t=to(dr());return t.copy=function(){return me(t,el()).constant(t.constant())},xt.apply(t,arguments)}function ja(t){return function(n){return n<0?-Math.pow(-n,t):Math.pow(n,t)}}function Bp(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function jp(t){return t<0?-t*t:t*t}function no(t){var n=t(ht,ht),e=1;function r(){return e===1?t(ht,ht):e===.5?t(Bp,jp):t(ja(e),ja(1/e))}return n.exponent=function(i){return arguments.length?(e=+i,r()):e},Vt(n)}function eo(){var t=no(dr());return t.copy=function(){return me(t,eo()).exponent(t.exponent())},xt.apply(t,arguments),t}function Wp(){return eo.apply(null,arguments).exponent(.5)}function Wa(t){return Math.sign(t)*t*t}function Gp(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function rl(){var t=Ki(),n=[0,1],e=!1,r;function i(o){var a=Gp(t(o));return isNaN(a)?r:e?Math.round(a):a}return i.invert=function(o){return t.invert(Wa(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((n=Array.from(o,je)).map(Wa)),i):n.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(e=!!o,i):e},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return rl(t.domain(),n).round(e).clamp(t.clamp()).unknown(r)},xt.apply(i,arguments),Vt(i)}function il(){var t=[],n=[],e=[],r;function i(){var a=0,s=Math.max(1,n.length);for(e=new Array(s-1);++a<s;)e[a-1]=Qh(t,a/s);return o}function o(a){return a==null||isNaN(a=+a)?r:n[he(e,a)]}return o.invertExtent=function(a){var s=n.indexOf(a);return s<0?[NaN,NaN]:[s>0?e[s-1]:t[0],s<e.length?e[s]:t[t.length-1]]},o.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let s of a)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(fe),i()},o.range=function(a){return arguments.length?(n=Array.from(a),i()):n.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return e.slice()},o.copy=function(){return il().domain(t).range(n).unknown(r)},xt.apply(o,arguments)}function ol(){var t=0,n=1,e=1,r=[.5],i=[0,1],o;function a(u){return u!=null&&u<=u?i[he(r,u,0,e)]:o}function s(){var u=-1;for(r=new Array(e);++u<e;)r[u]=((u+1)*n-(u-e)*t)/(e+1);return a}return a.domain=function(u){return arguments.length?([t,n]=u,t=+t,n=+n,s()):[t,n]},a.range=function(u){return arguments.length?(e=(i=Array.from(u)).length-1,s()):i.slice()},a.invertExtent=function(u){var l=i.indexOf(u);return l<0?[NaN,NaN]:l<1?[t,r[0]]:l>=e?[r[e-1],n]:[r[l-1],r[l]]},a.unknown=function(u){return arguments.length&&(o=u),a},a.thresholds=function(){return r.slice()},a.copy=function(){return ol().domain([t,n]).range(i).unknown(o)},xt.apply(Vt(a),arguments)}function al(){var t=[.5],n=[0,1],e,r=1;function i(o){return o!=null&&o<=o?n[he(t,o,0,r)]:e}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,n.length-1),i):t.slice()},i.range=function(o){return arguments.length?(n=Array.from(o),r=Math.min(t.length,n.length-1),i):n.slice()},i.invertExtent=function(o){var a=n.indexOf(o);return[t[a-1],t[a]]},i.unknown=function(o){return arguments.length?(e=o,i):e},i.copy=function(){return al().domain(t).range(n).unknown(e)},xt.apply(i,arguments)}var Jr=new Date,ti=new Date;function nt(t,n,e,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=function(o){return t(o=new Date(+o)),o},i.ceil=function(o){return t(o=new Date(o-1)),n(o,1),t(o),o},i.round=function(o){var a=i(o),s=i.ceil(o);return o-a<s-o?a:s},i.offset=function(o,a){return n(o=new Date(+o),a==null?1:Math.floor(a)),o},i.range=function(o,a,s){var u=[],l;if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return u;do u.push(l=new Date(+o)),n(o,s),t(o);while(l<o&&o<a);return u},i.filter=function(o){return nt(function(a){if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},function(a,s){if(a>=a)if(s<0)for(;++s<=0;)for(;n(a,-1),!o(a););else for(;--s>=0;)for(;n(a,1),!o(a););})},e&&(i.count=function(o,a){return Jr.setTime(+o),ti.setTime(+a),t(Jr),t(ti),Math.floor(e(Jr,ti))},i.every=function(o){return o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?function(a){return r(a)%o===0}:function(a){return i.count(0,a)%o===0}):i}),i}var We=nt(function(){},function(t,n){t.setTime(+t+n)},function(t,n){return n-t});We.every=function(t){return t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?nt(function(n){n.setTime(Math.floor(n/t)*t)},function(n,e){n.setTime(+n+e*t)},function(n,e){return(e-n)/t}):We};const Vp=We;We.range;const Dt=1e3,wt=Dt*60,Rt=wt*60,un=Rt*24,ro=un*7,Ga=un*30,ni=un*365;var sl=nt(function(t){t.setTime(t-t.getMilliseconds())},function(t,n){t.setTime(+t+n*Dt)},function(t,n){return(n-t)/Dt},function(t){return t.getUTCSeconds()});const bn=sl;sl.range;var ul=nt(function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*Dt)},function(t,n){t.setTime(+t+n*wt)},function(t,n){return(n-t)/wt},function(t){return t.getMinutes()});const ll=ul;ul.range;var cl=nt(function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*Dt-t.getMinutes()*wt)},function(t,n){t.setTime(+t+n*Rt)},function(t,n){return(n-t)/Rt},function(t){return t.getHours()});const fl=cl;cl.range;var hl=nt(t=>t.setHours(0,0,0,0),(t,n)=>t.setDate(t.getDate()+n),(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*wt)/un,t=>t.getDate()-1);const gr=hl;hl.range;function dn(t){return nt(function(n){n.setDate(n.getDate()-(n.getDay()+7-t)%7),n.setHours(0,0,0,0)},function(n,e){n.setDate(n.getDate()+e*7)},function(n,e){return(e-n-(e.getTimezoneOffset()-n.getTimezoneOffset())*wt)/ro})}var _r=dn(0),Ge=dn(1),Zp=dn(2),Qp=dn(3),$n=dn(4),Kp=dn(5),Jp=dn(6);_r.range;Ge.range;Zp.range;Qp.range;$n.range;Kp.range;Jp.range;var pl=nt(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,n){t.setMonth(t.getMonth()+n)},function(t,n){return n.getMonth()-t.getMonth()+(n.getFullYear()-t.getFullYear())*12},function(t){return t.getMonth()});const ml=pl;pl.range;var io=nt(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,n){t.setFullYear(t.getFullYear()+n)},function(t,n){return n.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});io.every=function(t){return!isFinite(t=Math.floor(t))||!(t>0)?null:nt(function(n){n.setFullYear(Math.floor(n.getFullYear()/t)*t),n.setMonth(0,1),n.setHours(0,0,0,0)},function(n,e){n.setFullYear(n.getFullYear()+e*t)})};const ln=io;io.range;var dl=nt(function(t){t.setUTCSeconds(0,0)},function(t,n){t.setTime(+t+n*wt)},function(t,n){return(n-t)/wt},function(t){return t.getUTCMinutes()});const gl=dl;dl.range;var _l=nt(function(t){t.setUTCMinutes(0,0,0)},function(t,n){t.setTime(+t+n*Rt)},function(t,n){return(n-t)/Rt},function(t){return t.getUTCHours()});const yl=_l;_l.range;var vl=nt(function(t){t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCDate(t.getUTCDate()+n)},function(t,n){return(n-t)/un},function(t){return t.getUTCDate()-1});const yr=vl;vl.range;function gn(t){return nt(function(n){n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-t)%7),n.setUTCHours(0,0,0,0)},function(n,e){n.setUTCDate(n.getUTCDate()+e*7)},function(n,e){return(e-n)/ro})}var vr=gn(0),Ve=gn(1),t0=gn(2),n0=gn(3),In=gn(4),e0=gn(5),r0=gn(6);vr.range;Ve.range;t0.range;n0.range;In.range;e0.range;r0.range;var wl=nt(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCMonth(t.getUTCMonth()+n)},function(t,n){return n.getUTCMonth()-t.getUTCMonth()+(n.getUTCFullYear()-t.getUTCFullYear())*12},function(t){return t.getUTCMonth()});const xl=wl;wl.range;var oo=nt(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n)},function(t,n){return n.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});oo.every=function(t){return!isFinite(t=Math.floor(t))||!(t>0)?null:nt(function(n){n.setUTCFullYear(Math.floor(n.getUTCFullYear()/t)*t),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},function(n,e){n.setUTCFullYear(n.getUTCFullYear()+e*t)})};const cn=oo;oo.range;function bl(t,n,e,r,i,o){const a=[[bn,1,Dt],[bn,5,5*Dt],[bn,15,15*Dt],[bn,30,30*Dt],[o,1,wt],[o,5,5*wt],[o,15,15*wt],[o,30,30*wt],[i,1,Rt],[i,3,3*Rt],[i,6,6*Rt],[i,12,12*Rt],[r,1,un],[r,2,2*un],[e,1,ro],[n,1,Ga],[n,3,3*Ga],[t,1,ni]];function s(l,c,h){const f=c<l;f&&([l,c]=[c,l]);const p=h&&typeof h.range=="function"?h:u(l,c,h),_=p?p.range(l,+c+1):[];return f?_.reverse():_}function u(l,c,h){const f=Math.abs(c-l)/h,p=Xi(([,,w])=>w).right(a,f);if(p===a.length)return t.every(yi(l/ni,c/ni,h));if(p===0)return Vp.every(Math.max(yi(l,c,h),1));const[_,g]=a[f/a[p-1][2]<a[p][2]/f?p-1:p];return _.every(g)}return[s,u]}const[i0,o0]=bl(cn,xl,vr,yr,yl,gl),[a0,s0]=bl(ln,ml,_r,gr,fl,ll);function ei(t){if(0<=t.y&&t.y<100){var n=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return n.setFullYear(t.y),n}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function ri(t){if(0<=t.y&&t.y<100){var n=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return n.setUTCFullYear(t.y),n}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function jn(t,n,e){return{y:t,m:n,d:e,H:0,M:0,S:0,L:0}}function u0(t){var n=t.dateTime,e=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,u=t.shortMonths,l=Wn(i),c=Gn(i),h=Wn(o),f=Gn(o),p=Wn(a),_=Gn(a),g=Wn(s),w=Gn(s),y=Wn(u),M=Gn(u),T={a:$,A:P,b:D,B:Y,c:null,d:ts,e:ts,f:I0,g:Y0,G:U0,H:k0,I:A0,j:$0,L:Ml,m:C0,M:L0,p:X,q:K,Q:rs,s:is,S:O0,u:P0,U:D0,V:R0,w:F0,W:H0,x:null,X:null,y:z0,Y:q0,Z:X0,"%":es},I={a:at,A:V,b:rt,B:ct,c:null,d:ns,e:ns,f:G0,g:im,G:am,H:B0,I:j0,j:W0,L:Sl,m:V0,M:Z0,p:it,q:ft,Q:rs,s:is,S:Q0,u:K0,U:J0,V:tm,w:nm,W:em,x:null,X:null,y:rm,Y:om,Z:sm,"%":es},C={a:Q,A:L,b:k,B:R,c:m,d:Ka,e:Ka,f:T0,g:Qa,G:Za,H:Ja,I:Ja,j:w0,L:M0,m:v0,M:x0,p:U,q:y0,Q:N0,s:E0,S:b0,u:p0,U:m0,V:d0,w:h0,W:g0,x:S,X:v,y:Qa,Y:Za,Z:_0,"%":S0};T.x=b(e,T),T.X=b(r,T),T.c=b(n,T),I.x=b(e,I),I.X=b(r,I),I.c=b(n,I);function b(N,q){return function(B){var x=[],pt=-1,J=0,mt=N.length,dt,Jt,ha;for(B instanceof Date||(B=new Date(+B));++pt<mt;)N.charCodeAt(pt)===37&&(x.push(N.slice(J,pt)),(Jt=Va[dt=N.charAt(++pt)])!=null?dt=N.charAt(++pt):Jt=dt==="e"?" ":"0",(ha=q[dt])&&(dt=ha(B,Jt)),x.push(dt),J=pt+1);return x.push(N.slice(J,pt)),x.join("")}}function F(N,q){return function(B){var x=jn(1900,void 0,1),pt=W(x,N,B+="",0),J,mt;if(pt!=B.length)return null;if("Q"in x)return new Date(x.Q);if("s"in x)return new Date(x.s*1e3+("L"in x?x.L:0));if(q&&!("Z"in x)&&(x.Z=0),"p"in x&&(x.H=x.H%12+x.p*12),x.m===void 0&&(x.m="q"in x?x.q:0),"V"in x){if(x.V<1||x.V>53)return null;"w"in x||(x.w=1),"Z"in x?(J=ri(jn(x.y,0,1)),mt=J.getUTCDay(),J=mt>4||mt===0?Ve.ceil(J):Ve(J),J=yr.offset(J,(x.V-1)*7),x.y=J.getUTCFullYear(),x.m=J.getUTCMonth(),x.d=J.getUTCDate()+(x.w+6)%7):(J=ei(jn(x.y,0,1)),mt=J.getDay(),J=mt>4||mt===0?Ge.ceil(J):Ge(J),J=gr.offset(J,(x.V-1)*7),x.y=J.getFullYear(),x.m=J.getMonth(),x.d=J.getDate()+(x.w+6)%7)}else("W"in x||"U"in x)&&("w"in x||(x.w="u"in x?x.u%7:"W"in x?1:0),mt="Z"in x?ri(jn(x.y,0,1)).getUTCDay():ei(jn(x.y,0,1)).getDay(),x.m=0,x.d="W"in x?(x.w+6)%7+x.W*7-(mt+5)%7:x.w+x.U*7-(mt+6)%7);return"Z"in x?(x.H+=x.Z/100|0,x.M+=x.Z%100,ri(x)):ei(x)}}function W(N,q,B,x){for(var pt=0,J=q.length,mt=B.length,dt,Jt;pt<J;){if(x>=mt)return-1;if(dt=q.charCodeAt(pt++),dt===37){if(dt=q.charAt(pt++),Jt=C[dt in Va?q.charAt(pt++):dt],!Jt||(x=Jt(N,B,x))<0)return-1}else if(dt!=B.charCodeAt(x++))return-1}return x}function U(N,q,B){var x=l.exec(q.slice(B));return x?(N.p=c.get(x[0].toLowerCase()),B+x[0].length):-1}function Q(N,q,B){var x=p.exec(q.slice(B));return x?(N.w=_.get(x[0].toLowerCase()),B+x[0].length):-1}function L(N,q,B){var x=h.exec(q.slice(B));return x?(N.w=f.get(x[0].toLowerCase()),B+x[0].length):-1}function k(N,q,B){var x=y.exec(q.slice(B));return x?(N.m=M.get(x[0].toLowerCase()),B+x[0].length):-1}function R(N,q,B){var x=g.exec(q.slice(B));return x?(N.m=w.get(x[0].toLowerCase()),B+x[0].length):-1}function m(N,q,B){return W(N,n,q,B)}function S(N,q,B){return W(N,e,q,B)}function v(N,q,B){return W(N,r,q,B)}function $(N){return a[N.getDay()]}function P(N){return o[N.getDay()]}function D(N){return u[N.getMonth()]}function Y(N){return s[N.getMonth()]}function X(N){return i[+(N.getHours()>=12)]}function K(N){return 1+~~(N.getMonth()/3)}function at(N){return a[N.getUTCDay()]}function V(N){return o[N.getUTCDay()]}function rt(N){return u[N.getUTCMonth()]}function ct(N){return s[N.getUTCMonth()]}function it(N){return i[+(N.getUTCHours()>=12)]}function ft(N){return 1+~~(N.getUTCMonth()/3)}return{format:function(N){var q=b(N+="",T);return q.toString=function(){return N},q},parse:function(N){var q=F(N+="",!1);return q.toString=function(){return N},q},utcFormat:function(N){var q=b(N+="",I);return q.toString=function(){return N},q},utcParse:function(N){var q=F(N+="",!0);return q.toString=function(){return N},q}}}var Va={"-":"",_:" ",0:"0"},et=/^\s*\d+/,l0=/^%/,c0=/[\\^$*+?|[\]().{}]/g;function j(t,n,e){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<e?new Array(e-o+1).join(n)+i:i)}function f0(t){return t.replace(c0,"\\$&")}function Wn(t){return new RegExp("^(?:"+t.map(f0).join("|")+")","i")}function Gn(t){return new Map(t.map((n,e)=>[n.toLowerCase(),e]))}function h0(t,n,e){var r=et.exec(n.slice(e,e+1));return r?(t.w=+r[0],e+r[0].length):-1}function p0(t,n,e){var r=et.exec(n.slice(e,e+1));return r?(t.u=+r[0],e+r[0].length):-1}function m0(t,n,e){var r=et.exec(n.slice(e,e+2));return r?(t.U=+r[0],e+r[0].length):-1}function d0(t,n,e){var r=et.exec(n.slice(e,e+2));return r?(t.V=+r[0],e+r[0].length):-1}function g0(t,n,e){var r=et.exec(n.slice(e,e+2));return r?(t.W=+r[0],e+r[0].length):-1}function Za(t,n,e){var r=et.exec(n.slice(e,e+4));return r?(t.y=+r[0],e+r[0].length):-1}function Qa(t,n,e){var r=et.exec(n.slice(e,e+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),e+r[0].length):-1}function _0(t,n,e){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(n.slice(e,e+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),e+r[0].length):-1}function y0(t,n,e){var r=et.exec(n.slice(e,e+1));return r?(t.q=r[0]*3-3,e+r[0].length):-1}function v0(t,n,e){var r=et.exec(n.slice(e,e+2));return r?(t.m=r[0]-1,e+r[0].length):-1}function Ka(t,n,e){var r=et.exec(n.slice(e,e+2));return r?(t.d=+r[0],e+r[0].length):-1}function w0(t,n,e){var r=et.exec(n.slice(e,e+3));return r?(t.m=0,t.d=+r[0],e+r[0].length):-1}function Ja(t,n,e){var r=et.exec(n.slice(e,e+2));return r?(t.H=+r[0],e+r[0].length):-1}function x0(t,n,e){var r=et.exec(n.slice(e,e+2));return r?(t.M=+r[0],e+r[0].length):-1}function b0(t,n,e){var r=et.exec(n.slice(e,e+2));return r?(t.S=+r[0],e+r[0].length):-1}function M0(t,n,e){var r=et.exec(n.slice(e,e+3));return r?(t.L=+r[0],e+r[0].length):-1}function T0(t,n,e){var r=et.exec(n.slice(e,e+6));return r?(t.L=Math.floor(r[0]/1e3),e+r[0].length):-1}function S0(t,n,e){var r=l0.exec(n.slice(e,e+1));return r?e+r[0].length:-1}function N0(t,n,e){var r=et.exec(n.slice(e));return r?(t.Q=+r[0],e+r[0].length):-1}function E0(t,n,e){var r=et.exec(n.slice(e));return r?(t.s=+r[0],e+r[0].length):-1}function ts(t,n){return j(t.getDate(),n,2)}function k0(t,n){return j(t.getHours(),n,2)}function A0(t,n){return j(t.getHours()%12||12,n,2)}function $0(t,n){return j(1+gr.count(ln(t),t),n,3)}function Ml(t,n){return j(t.getMilliseconds(),n,3)}function I0(t,n){return Ml(t,n)+"000"}function C0(t,n){return j(t.getMonth()+1,n,2)}function L0(t,n){return j(t.getMinutes(),n,2)}function O0(t,n){return j(t.getSeconds(),n,2)}function P0(t){var n=t.getDay();return n===0?7:n}function D0(t,n){return j(_r.count(ln(t)-1,t),n,2)}function Tl(t){var n=t.getDay();return n>=4||n===0?$n(t):$n.ceil(t)}function R0(t,n){return t=Tl(t),j($n.count(ln(t),t)+(ln(t).getDay()===4),n,2)}function F0(t){return t.getDay()}function H0(t,n){return j(Ge.count(ln(t)-1,t),n,2)}function z0(t,n){return j(t.getFullYear()%100,n,2)}function Y0(t,n){return t=Tl(t),j(t.getFullYear()%100,n,2)}function q0(t,n){return j(t.getFullYear()%1e4,n,4)}function U0(t,n){var e=t.getDay();return t=e>=4||e===0?$n(t):$n.ceil(t),j(t.getFullYear()%1e4,n,4)}function X0(t){var n=t.getTimezoneOffset();return(n>0?"-":(n*=-1,"+"))+j(n/60|0,"0",2)+j(n%60,"0",2)}function ns(t,n){return j(t.getUTCDate(),n,2)}function B0(t,n){return j(t.getUTCHours(),n,2)}function j0(t,n){return j(t.getUTCHours()%12||12,n,2)}function W0(t,n){return j(1+yr.count(cn(t),t),n,3)}function Sl(t,n){return j(t.getUTCMilliseconds(),n,3)}function G0(t,n){return Sl(t,n)+"000"}function V0(t,n){return j(t.getUTCMonth()+1,n,2)}function Z0(t,n){return j(t.getUTCMinutes(),n,2)}function Q0(t,n){return j(t.getUTCSeconds(),n,2)}function K0(t){var n=t.getUTCDay();return n===0?7:n}function J0(t,n){return j(vr.count(cn(t)-1,t),n,2)}function Nl(t){var n=t.getUTCDay();return n>=4||n===0?In(t):In.ceil(t)}function tm(t,n){return t=Nl(t),j(In.count(cn(t),t)+(cn(t).getUTCDay()===4),n,2)}function nm(t){return t.getUTCDay()}function em(t,n){return j(Ve.count(cn(t)-1,t),n,2)}function rm(t,n){return j(t.getUTCFullYear()%100,n,2)}function im(t,n){return t=Nl(t),j(t.getUTCFullYear()%100,n,2)}function om(t,n){return j(t.getUTCFullYear()%1e4,n,4)}function am(t,n){var e=t.getUTCDay();return t=e>=4||e===0?In(t):In.ceil(t),j(t.getUTCFullYear()%1e4,n,4)}function sm(){return"+0000"}function es(){return"%"}function rs(t){return+t}function is(t){return Math.floor(+t/1e3)}var vn,El,kl;um({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function um(t){return vn=u0(t),El=vn.format,vn.parse,kl=vn.utcFormat,vn.utcParse,vn}function lm(t){return new Date(t)}function cm(t){return t instanceof Date?+t:+new Date(+t)}function ao(t,n,e,r,i,o,a,s,u,l){var c=Ki(),h=c.invert,f=c.domain,p=l(".%L"),_=l(":%S"),g=l("%I:%M"),w=l("%I %p"),y=l("%a %d"),M=l("%b %d"),T=l("%B"),I=l("%Y");function C(b){return(u(b)<b?p:s(b)<b?_:a(b)<b?g:o(b)<b?w:r(b)<b?i(b)<b?y:M:e(b)<b?T:I)(b)}return c.invert=function(b){return new Date(h(b))},c.domain=function(b){return arguments.length?f(Array.from(b,cm)):f().map(lm)},c.ticks=function(b){var F=f();return t(F[0],F[F.length-1],b??10)},c.tickFormat=function(b,F){return F==null?C:l(F)},c.nice=function(b){var F=f();return(!b||typeof b.range!="function")&&(b=n(F[0],F[F.length-1],b??10)),b?f(tl(F,b)):c},c.copy=function(){return me(c,ao(t,n,e,r,i,o,a,s,u,l))},c}function fm(){return xt.apply(ao(a0,s0,ln,ml,_r,gr,fl,ll,bn,El).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function hm(){return xt.apply(ao(i0,o0,cn,xl,vr,yr,yl,gl,bn,kl).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function wr(){var t=0,n=1,e,r,i,o,a=ht,s=!1,u;function l(h){return h==null||isNaN(h=+h)?u:a(i===0?.5:(h=(o(h)-e)*i,s?Math.max(0,Math.min(1,h)):h))}l.domain=function(h){return arguments.length?([t,n]=h,e=o(t=+t),r=o(n=+n),i=e===r?0:1/(r-e),l):[t,n]},l.clamp=function(h){return arguments.length?(s=!!h,l):s},l.interpolator=function(h){return arguments.length?(a=h,l):a};function c(h){return function(f){var p,_;return arguments.length?([p,_]=f,a=h(p,_),l):[a(0),a(1)]}}return l.range=c(mn),l.rangeRound=c(mr),l.unknown=function(h){return arguments.length?(u=h,l):u},function(h){return o=h,e=h(t),r=h(n),i=e===r?0:1/(r-e),l}}function Zt(t,n){return n.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Al(){var t=Vt(wr()(ht));return t.copy=function(){return Zt(t,Al())},qt.apply(t,arguments)}function $l(){var t=Ji(wr()).domain([1,10]);return t.copy=function(){return Zt(t,$l()).base(t.base())},qt.apply(t,arguments)}function Il(){var t=to(wr());return t.copy=function(){return Zt(t,Il()).constant(t.constant())},qt.apply(t,arguments)}function so(){var t=no(wr());return t.copy=function(){return Zt(t,so()).exponent(t.exponent())},qt.apply(t,arguments)}function pm(){return so.apply(null,arguments).exponent(.5)}function Cl(){var t=[],n=ht;function e(r){if(r!=null&&!isNaN(r=+r))return n((he(t,r,1)-1)/(t.length-1))}return e.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(fe),e},e.interpolator=function(r){return arguments.length?(n=r,e):n},e.range=function(){return t.map((r,i)=>n(i/(t.length-1)))},e.quantiles=function(r){return Array.from({length:r+1},(i,o)=>Zh(t,o/r))},e.copy=function(){return Cl(n).domain(t)},qt.apply(e,arguments)}function xr(){var t=0,n=.5,e=1,r=1,i,o,a,s,u,l=ht,c,h=!1,f;function p(g){return isNaN(g=+g)?f:(g=.5+((g=+c(g))-o)*(r*g<r*o?s:u),l(h?Math.max(0,Math.min(1,g)):g))}p.domain=function(g){return arguments.length?([t,n,e]=g,i=c(t=+t),o=c(n=+n),a=c(e=+e),s=i===o?0:.5/(o-i),u=o===a?0:.5/(a-o),r=o<i?-1:1,p):[t,n,e]},p.clamp=function(g){return arguments.length?(h=!!g,p):h},p.interpolator=function(g){return arguments.length?(l=g,p):l};function _(g){return function(w){var y,M,T;return arguments.length?([y,M,T]=w,l=Zu(g,[y,M,T]),p):[l(0),l(.5),l(1)]}}return p.range=_(mn),p.rangeRound=_(mr),p.unknown=function(g){return arguments.length?(f=g,p):f},function(g){return c=g,i=g(t),o=g(n),a=g(e),s=i===o?0:.5/(o-i),u=o===a?0:.5/(a-o),r=o<i?-1:1,p}}function Ll(){var t=Vt(xr()(ht));return t.copy=function(){return Zt(t,Ll())},qt.apply(t,arguments)}function Ol(){var t=Ji(xr()).domain([.1,1,10]);return t.copy=function(){return Zt(t,Ol()).base(t.base())},qt.apply(t,arguments)}function Pl(){var t=to(xr());return t.copy=function(){return Zt(t,Pl()).constant(t.constant())},qt.apply(t,arguments)}function uo(){var t=no(xr());return t.copy=function(){return Zt(t,uo()).exponent(t.exponent())},qt.apply(t,arguments)}function mm(){return uo.apply(null,arguments).exponent(.5)}const dm=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:ji,scaleDiverging:Ll,scaleDivergingLog:Ol,scaleDivergingPow:uo,scaleDivergingSqrt:mm,scaleDivergingSymlog:Pl,scaleIdentity:Ju,scaleImplicit:vi,scaleLinear:Ku,scaleLog:nl,scaleOrdinal:Bi,scalePoint:Jh,scalePow:eo,scaleQuantile:il,scaleQuantize:ol,scaleRadial:rl,scaleSequential:Al,scaleSequentialLog:$l,scaleSequentialPow:so,scaleSequentialQuantile:Cl,scaleSequentialSqrt:pm,scaleSequentialSymlog:Il,scaleSqrt:Wp,scaleSymlog:el,scaleThreshold:al,scaleTime:fm,scaleUtc:hm,tickFormat:Qu},Symbol.toStringTag,{value:"Module"})),gm=Yt(dm);var ii=Array.prototype.slice;function _m(t){return t}var Ee=1,ke=2,Mi=3,Jn=4,os=1e-6;function ym(t){return"translate("+t+",0)"}function vm(t){return"translate(0,"+t+")"}function wm(t){return n=>+t(n)}function xm(t,n){return n=Math.max(0,t.bandwidth()-n*2)/2,t.round()&&(n=Math.round(n)),e=>+t(e)+n}function bm(){return!this.__axis}function br(t,n){var e=[],r=null,i=null,o=6,a=6,s=3,u=typeof window<"u"&&window.devicePixelRatio>1?0:.5,l=t===Ee||t===Jn?-1:1,c=t===Jn||t===ke?"x":"y",h=t===Ee||t===Mi?ym:vm;function f(p){var _=r??(n.ticks?n.ticks.apply(n,e):n.domain()),g=i??(n.tickFormat?n.tickFormat.apply(n,e):_m),w=Math.max(o,0)+s,y=n.range(),M=+y[0]+u,T=+y[y.length-1]+u,I=(n.bandwidth?xm:wm)(n.copy(),u),C=p.selection?p.selection():p,b=C.selectAll(".domain").data([null]),F=C.selectAll(".tick").data(_,n).order(),W=F.exit(),U=F.enter().append("g").attr("class","tick"),Q=F.select("line"),L=F.select("text");b=b.merge(b.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),F=F.merge(U),Q=Q.merge(U.append("line").attr("stroke","currentColor").attr(c+"2",l*o)),L=L.merge(U.append("text").attr("fill","currentColor").attr(c,l*w).attr("dy",t===Ee?"0em":t===Mi?"0.71em":"0.32em")),p!==C&&(b=b.transition(p),F=F.transition(p),Q=Q.transition(p),L=L.transition(p),W=W.transition(p).attr("opacity",os).attr("transform",function(k){return isFinite(k=I(k))?h(k+u):this.getAttribute("transform")}),U.attr("opacity",os).attr("transform",function(k){var R=this.parentNode.__axis;return h((R&&isFinite(R=R(k))?R:I(k))+u)})),W.remove(),b.attr("d",t===Jn||t===ke?a?"M"+l*a+","+M+"H"+u+"V"+T+"H"+l*a:"M"+u+","+M+"V"+T:a?"M"+M+","+l*a+"V"+u+"H"+T+"V"+l*a:"M"+M+","+u+"H"+T),F.attr("opacity",1).attr("transform",function(k){return h(I(k)+u)}),Q.attr(c+"2",l*o),L.attr(c,l*w).text(g),C.filter(bm).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===ke?"start":t===Jn?"end":"middle"),C.each(function(){this.__axis=I})}return f.scale=function(p){return arguments.length?(n=p,f):n},f.ticks=function(){return e=ii.call(arguments),f},f.tickArguments=function(p){return arguments.length?(e=p==null?[]:ii.call(p),f):e.slice()},f.tickValues=function(p){return arguments.length?(r=p==null?null:ii.call(p),f):r&&r.slice()},f.tickFormat=function(p){return arguments.length?(i=p,f):i},f.tickSize=function(p){return arguments.length?(o=a=+p,f):o},f.tickSizeInner=function(p){return arguments.length?(o=+p,f):o},f.tickSizeOuter=function(p){return arguments.length?(a=+p,f):a},f.tickPadding=function(p){return arguments.length?(s=+p,f):s},f.offset=function(p){return arguments.length?(u=+p,f):u},f}function Mm(t){return br(Ee,t)}function Tm(t){return br(ke,t)}function Sm(t){return br(Mi,t)}function Nm(t){return br(Jn,t)}const Em=Object.freeze(Object.defineProperty({__proto__:null,axisBottom:Sm,axisLeft:Nm,axisRight:Tm,axisTop:Mm},Symbol.toStringTag,{value:"Module"})),km=Yt(Em);var Am={value:()=>{}};function lo(){for(var t=0,n=arguments.length,e={},r;t<n;++t){if(!(r=arguments[t]+"")||r in e||/[\s.]/.test(r))throw new Error("illegal type: "+r);e[r]=[]}return new Ae(e)}function Ae(t){this._=t}function $m(t,n){return t.trim().split(/^|\s+/).map(function(e){var r="",i=e.indexOf(".");if(i>=0&&(r=e.slice(i+1),e=e.slice(0,i)),e&&!n.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:r}})}Ae.prototype=lo.prototype={constructor:Ae,on:function(t,n){var e=this._,r=$m(t+"",e),i,o=-1,a=r.length;if(arguments.length<2){for(;++o<a;)if((i=(t=r[o]).type)&&(i=Im(e[i],t.name)))return i;return}if(n!=null&&typeof n!="function")throw new Error("invalid callback: "+n);for(;++o<a;)if(i=(t=r[o]).type)e[i]=as(e[i],t.name,n);else if(n==null)for(i in e)e[i]=as(e[i],t.name,null);return this},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new Ae(t)},call:function(t,n){if((i=arguments.length-2)>0)for(var e=new Array(i),r=0,i,o;r<i;++r)e[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,i=o.length;r<i;++r)o[r].value.apply(n,e)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(n,e)}};function Im(t,n){for(var e=0,r=t.length,i;e<r;++e)if((i=t[e]).name===n)return i.value}function as(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=Am,t=t.slice(0,r).concat(t.slice(r+1));break}return e!=null&&t.push({name:n,value:e}),t}var Ti="http://www.w3.org/1999/xhtml";const Si={svg:"http://www.w3.org/2000/svg",xhtml:Ti,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function de(t){var n=t+="",e=n.indexOf(":");return e>=0&&(n=t.slice(0,e))!=="xmlns"&&(t=t.slice(e+1)),Si.hasOwnProperty(n)?{space:Si[n],local:t}:t}function Cm(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===Ti&&n.documentElement.namespaceURI===Ti?n.createElement(t):n.createElementNS(e,t)}}function Lm(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Mr(t){var n=de(t);return(n.local?Lm:Cm)(n)}function Om(){}function Tr(t){return t==null?Om:function(){return this.querySelector(t)}}function Pm(t){typeof t!="function"&&(t=Tr(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o=n[i],a=o.length,s=r[i]=new Array(a),u,l,c=0;c<a;++c)(u=o[c])&&(l=t.call(u,u.__data__,c,o))&&("__data__"in u&&(l.__data__=u.__data__),s[c]=l);return new lt(r,this._parents)}function co(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Dm(){return[]}function fo(t){return t==null?Dm:function(){return this.querySelectorAll(t)}}function Rm(t){return function(){var n=t.apply(this,arguments);return n==null?[]:co(n)}}function Fm(t){typeof t=="function"?t=Rm(t):t=fo(t);for(var n=this._groups,e=n.length,r=[],i=[],o=0;o<e;++o)for(var a=n[o],s=a.length,u,l=0;l<s;++l)(u=a[l])&&(r.push(t.call(u,u.__data__,l,a)),i.push(u));return new lt(r,i)}function ho(t){return function(){return this.matches(t)}}function Dl(t){return function(n){return n.matches(t)}}var Hm=Array.prototype.find;function zm(t){return function(){return Hm.call(this.children,t)}}function Ym(){return this.firstElementChild}function qm(t){return this.select(t==null?Ym:zm(typeof t=="function"?t:Dl(t)))}var Um=Array.prototype.filter;function Xm(){return this.children}function Bm(t){return function(){return Um.call(this.children,t)}}function jm(t){return this.selectAll(t==null?Xm:Bm(typeof t=="function"?t:Dl(t)))}function Wm(t){typeof t!="function"&&(t=ho(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o=n[i],a=o.length,s=r[i]=[],u,l=0;l<a;++l)(u=o[l])&&t.call(u,u.__data__,l,o)&&s.push(u);return new lt(r,this._parents)}function Rl(t){return new Array(t.length)}function Gm(){return new lt(this._enter||this._groups.map(Rl),this._parents)}function Ze(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}Ze.prototype={constructor:Ze,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Vm(t){return function(){return t}}function Zm(t,n,e,r,i,o){for(var a=0,s,u=n.length,l=o.length;a<l;++a)(s=n[a])?(s.__data__=o[a],r[a]=s):e[a]=new Ze(t,o[a]);for(;a<u;++a)(s=n[a])&&(i[a]=s)}function Qm(t,n,e,r,i,o,a){var s,u,l=new Map,c=n.length,h=o.length,f=new Array(c),p;for(s=0;s<c;++s)(u=n[s])&&(f[s]=p=a.call(u,u.__data__,s,n)+"",l.has(p)?i[s]=u:l.set(p,u));for(s=0;s<h;++s)p=a.call(t,o[s],s,o)+"",(u=l.get(p))?(r[s]=u,u.__data__=o[s],l.delete(p)):e[s]=new Ze(t,o[s]);for(s=0;s<c;++s)(u=n[s])&&l.get(f[s])===u&&(i[s]=u)}function Km(t){return t.__data__}function Jm(t,n){if(!arguments.length)return Array.from(this,Km);var e=n?Qm:Zm,r=this._parents,i=this._groups;typeof t!="function"&&(t=Vm(t));for(var o=i.length,a=new Array(o),s=new Array(o),u=new Array(o),l=0;l<o;++l){var c=r[l],h=i[l],f=h.length,p=co(t.call(c,c&&c.__data__,l,r)),_=p.length,g=s[l]=new Array(_),w=a[l]=new Array(_),y=u[l]=new Array(f);e(c,h,g,w,y,p,n);for(var M=0,T=0,I,C;M<_;++M)if(I=g[M]){for(M>=T&&(T=M+1);!(C=w[T])&&++T<_;);I._next=C||null}}return a=new lt(a,r),a._enter=s,a._exit=u,a}function td(){return new lt(this._exit||this._groups.map(Rl),this._parents)}function nd(t,n,e){var r=this.enter(),i=this,o=this.exit();return r=typeof t=="function"?t(r):r.append(t+""),n!=null&&(i=n(i)),e==null?o.remove():e(o),r&&i?r.merge(i).order():i}function ed(t){if(!(t instanceof lt))throw new Error("invalid merge");for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var u=n[s],l=e[s],c=u.length,h=a[s]=new Array(c),f,p=0;p<c;++p)(f=u[p]||l[p])&&(h[p]=f);for(;s<r;++s)a[s]=n[s];return new lt(a,this._parents)}function rd(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r=t[n],i=r.length-1,o=r[i],a;--i>=0;)(a=r[i])&&(o&&a.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(a,o),o=a);return this}function id(t){t||(t=od);function n(h,f){return h&&f?t(h.__data__,f.__data__):!h-!f}for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var a=e[o],s=a.length,u=i[o]=new Array(s),l,c=0;c<s;++c)(l=a[c])&&(u[c]=l);u.sort(n)}return new lt(i,this._parents).order()}function od(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function ad(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function sd(){return Array.from(this)}function ud(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null}function ld(){let t=0;for(const n of this)++t;return t}function cd(){return!this.node()}function fd(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i=n[e],o=0,a=i.length,s;o<a;++o)(s=i[o])&&t.call(s,s.__data__,o,i);return this}function hd(t){return function(){this.removeAttribute(t)}}function pd(t){return function(){this.removeAttributeNS(t.space,t.local)}}function md(t,n){return function(){this.setAttribute(t,n)}}function dd(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function gd(t,n){return function(){var e=n.apply(this,arguments);e==null?this.removeAttribute(t):this.setAttribute(t,e)}}function _d(t,n){return function(){var e=n.apply(this,arguments);e==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function yd(t,n){var e=de(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((n==null?e.local?pd:hd:typeof n=="function"?e.local?_d:gd:e.local?dd:md)(e,n))}function po(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function vd(t){return function(){this.style.removeProperty(t)}}function wd(t,n,e){return function(){this.style.setProperty(t,n,e)}}function xd(t,n,e){return function(){var r=n.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function bd(t,n,e){return arguments.length>1?this.each((n==null?vd:typeof n=="function"?xd:wd)(t,n,e??"")):fn(this.node(),t)}function fn(t,n){return t.style.getPropertyValue(n)||po(t).getComputedStyle(t,null).getPropertyValue(n)}function Md(t){return function(){delete this[t]}}function Td(t,n){return function(){this[t]=n}}function Sd(t,n){return function(){var e=n.apply(this,arguments);e==null?delete this[t]:this[t]=e}}function Nd(t,n){return arguments.length>1?this.each((n==null?Md:typeof n=="function"?Sd:Td)(t,n)):this.node()[t]}function Fl(t){return t.trim().split(/^|\s+/)}function mo(t){return t.classList||new Hl(t)}function Hl(t){this._node=t,this._names=Fl(t.getAttribute("class")||"")}Hl.prototype={add:function(t){var n=this._names.indexOf(t);n<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function zl(t,n){for(var e=mo(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function Yl(t,n){for(var e=mo(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function Ed(t){return function(){zl(this,t)}}function kd(t){return function(){Yl(this,t)}}function Ad(t,n){return function(){(n.apply(this,arguments)?zl:Yl)(this,t)}}function $d(t,n){var e=Fl(t+"");if(arguments.length<2){for(var r=mo(this.node()),i=-1,o=e.length;++i<o;)if(!r.contains(e[i]))return!1;return!0}return this.each((typeof n=="function"?Ad:n?Ed:kd)(e,n))}function Id(){this.textContent=""}function Cd(t){return function(){this.textContent=t}}function Ld(t){return function(){var n=t.apply(this,arguments);this.textContent=n??""}}function Od(t){return arguments.length?this.each(t==null?Id:(typeof t=="function"?Ld:Cd)(t)):this.node().textContent}function Pd(){this.innerHTML=""}function Dd(t){return function(){this.innerHTML=t}}function Rd(t){return function(){var n=t.apply(this,arguments);this.innerHTML=n??""}}function Fd(t){return arguments.length?this.each(t==null?Pd:(typeof t=="function"?Rd:Dd)(t)):this.node().innerHTML}function Hd(){this.nextSibling&&this.parentNode.appendChild(this)}function zd(){return this.each(Hd)}function Yd(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function qd(){return this.each(Yd)}function Ud(t){var n=typeof t=="function"?t:Mr(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})}function Xd(){return null}function Bd(t,n){var e=typeof t=="function"?t:Mr(t),r=n==null?Xd:typeof n=="function"?n:Tr(n);return this.select(function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)})}function jd(){var t=this.parentNode;t&&t.removeChild(this)}function Wd(){return this.each(jd)}function Gd(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function Vd(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function Zd(t){return this.select(t?Vd:Gd)}function Qd(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Kd(t){return function(n){t.call(this,n,this.__data__)}}function Jd(t){return t.trim().split(/^|\s+/).map(function(n){var e="",r=n.indexOf(".");return r>=0&&(e=n.slice(r+1),n=n.slice(0,r)),{type:n,name:e}})}function tg(t){return function(){var n=this.__on;if(n){for(var e=0,r=-1,i=n.length,o;e<i;++e)o=n[e],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):n[++r]=o;++r?n.length=r:delete this.__on}}}function ng(t,n,e){return function(){var r=this.__on,i,o=Kd(n);if(r){for(var a=0,s=r.length;a<s;++a)if((i=r[a]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=e),i.value=n;return}}this.addEventListener(t.type,o,e),i={type:t.type,name:t.name,value:n,listener:o,options:e},r?r.push(i):this.__on=[i]}}function eg(t,n,e){var r=Jd(t+""),i,o=r.length,a;if(arguments.length<2){var s=this.node().__on;if(s){for(var u=0,l=s.length,c;u<l;++u)for(i=0,c=s[u];i<o;++i)if((a=r[i]).type===c.type&&a.name===c.name)return c.value}return}for(s=n?ng:tg,i=0;i<o;++i)this.each(s(r[i],n,e));return this}function ql(t,n,e){var r=po(t),i=r.CustomEvent;typeof i=="function"?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function rg(t,n){return function(){return ql(this,t,n)}}function ig(t,n){return function(){return ql(this,t,n.apply(this,arguments))}}function og(t,n){return this.each((typeof n=="function"?ig:rg)(t,n))}function*ag(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length,a;i<o;++i)(a=r[i])&&(yield a)}var go=[null];function lt(t,n){this._groups=t,this._parents=n}function Hn(){return new lt([[document.documentElement]],go)}function sg(){return this}lt.prototype=Hn.prototype={constructor:lt,select:Pm,selectAll:Fm,selectChild:qm,selectChildren:jm,filter:Wm,data:Jm,enter:Gm,exit:td,join:nd,merge:ed,selection:sg,order:rd,sort:id,call:ad,nodes:sd,node:ud,size:ld,empty:cd,each:fd,attr:yd,style:bd,property:Nd,classed:$d,text:Od,html:Fd,raise:zd,lower:qd,append:Ud,insert:Bd,remove:Wd,clone:Zd,datum:Qd,on:eg,dispatch:og,[Symbol.iterator]:ag};function Pt(t){return typeof t=="string"?new lt([[document.querySelector(t)]],[document.documentElement]):new lt([[t]],go)}function ug(t){return Pt(Mr(t).call(document.documentElement))}var lg=0;function Ul(){return new Ni}function Ni(){this._="@"+(++lg).toString(36)}Ni.prototype=Ul.prototype={constructor:Ni,get:function(t){for(var n=this._;!(n in t);)if(!(t=t.parentNode))return;return t[n]},set:function(t,n){return t[this._]=n},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};function Xl(t){let n;for(;n=t.sourceEvent;)t=n;return t}function Lt(t,n){if(t=Xl(t),n===void 0&&(n=t.currentTarget),n){var e=n.ownerSVGElement||n;if(e.createSVGPoint){var r=e.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(n.getScreenCTM().inverse()),[r.x,r.y]}if(n.getBoundingClientRect){var i=n.getBoundingClientRect();return[t.clientX-i.left-n.clientLeft,t.clientY-i.top-n.clientTop]}}return[t.pageX,t.pageY]}function cg(t,n){return t.target&&(t=Xl(t),n===void 0&&(n=t.currentTarget),t=t.touches||[t]),Array.from(t,e=>Lt(e,n))}function fg(t){return typeof t=="string"?new lt([document.querySelectorAll(t)],[document.documentElement]):new lt([t==null?[]:co(t)],go)}const hg=Object.freeze(Object.defineProperty({__proto__:null,create:ug,creator:Mr,local:Ul,matcher:ho,namespace:de,namespaces:Si,pointer:Lt,pointers:cg,select:Pt,selectAll:fg,selection:Hn,selector:Tr,selectorAll:fo,style:fn,window:po},Symbol.toStringTag,{value:"Module"}));function Ei(t){t.preventDefault(),t.stopImmediatePropagation()}function pg(t){var n=t.document.documentElement,e=Pt(t).on("dragstart.drag",Ei,!0);"onselectstart"in n?e.on("selectstart.drag",Ei,!0):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")}function mg(t,n){var e=t.document.documentElement,r=Pt(t).on("dragstart.drag",null);n&&(r.on("click.drag",Ei,!0),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in e?r.on("selectstart.drag",null):(e.style.MozUserSelect=e.__noselect,delete e.__noselect)}var Cn=0,te=0,Vn=0,Bl=1e3,Qe,ne,Ke=0,hn=0,Sr=0,ue=typeof performance=="object"&&performance.now?performance:Date,jl=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function _o(){return hn||(jl(dg),hn=ue.now()+Sr)}function dg(){hn=0}function Je(){this._call=this._time=this._next=null}Je.prototype=Wl.prototype={constructor:Je,restart:function(t,n,e){if(typeof t!="function")throw new TypeError("callback is not a function");e=(e==null?_o():+e)+(n==null?0:+n),!this._next&&ne!==this&&(ne?ne._next=this:Qe=this,ne=this),this._call=t,this._time=e,ki()},stop:function(){this._call&&(this._call=null,this._time=1/0,ki())}};function Wl(t,n,e){var r=new Je;return r.restart(t,n,e),r}function gg(){_o(),++Cn;for(var t=Qe,n;t;)(n=hn-t._time)>=0&&t._call.call(null,n),t=t._next;--Cn}function ss(){hn=(Ke=ue.now())+Sr,Cn=te=0;try{gg()}finally{Cn=0,yg(),hn=0}}function _g(){var t=ue.now(),n=t-Ke;n>Bl&&(Sr-=n,Ke=t)}function yg(){for(var t,n=Qe,e,r=1/0;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Qe=e);ne=t,ki(r)}function ki(t){if(!Cn){te&&(te=clearTimeout(te));var n=t-hn;n>24?(t<1/0&&(te=setTimeout(ss,t-ue.now()-Sr)),Vn&&(Vn=clearInterval(Vn))):(Vn||(Ke=ue.now(),Vn=setInterval(_g,Bl)),Cn=1,jl(ss))}}function us(t,n,e){var r=new Je;return n=n==null?0:+n,r.restart(i=>{r.stop(),t(i+n)},n,e),r}var vg=lo("start","end","cancel","interrupt"),wg=[],Gl=0,ls=1,Ai=2,$e=3,cs=4,$i=5,Ie=6;function Nr(t,n,e,r,i,o){var a=t.__transition;if(!a)t.__transition={};else if(e in a)return;xg(t,e,{name:n,index:r,group:i,on:vg,tween:wg,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Gl})}function yo(t,n){var e=Tt(t,n);if(e.state>Gl)throw new Error("too late; already scheduled");return e}function It(t,n){var e=Tt(t,n);if(e.state>$e)throw new Error("too late; already running");return e}function Tt(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function xg(t,n,e){var r=t.__transition,i;r[n]=e,e.timer=Wl(o,0,e.time);function o(l){e.state=ls,e.timer.restart(a,e.delay,e.time),e.delay<=l&&a(l-e.delay)}function a(l){var c,h,f,p;if(e.state!==ls)return u();for(c in r)if(p=r[c],p.name===e.name){if(p.state===$e)return us(a);p.state===cs?(p.state=Ie,p.timer.stop(),p.on.call("interrupt",t,t.__data__,p.index,p.group),delete r[c]):+c<n&&(p.state=Ie,p.timer.stop(),p.on.call("cancel",t,t.__data__,p.index,p.group),delete r[c])}if(us(function(){e.state===$e&&(e.state=cs,e.timer.restart(s,e.delay,e.time),s(l))}),e.state=Ai,e.on.call("start",t,t.__data__,e.index,e.group),e.state===Ai){for(e.state=$e,i=new Array(f=e.tween.length),c=0,h=-1;c<f;++c)(p=e.tween[c].value.call(t,t.__data__,e.index,e.group))&&(i[++h]=p);i.length=h+1}}function s(l){for(var c=l<e.duration?e.ease.call(null,l/e.duration):(e.timer.restart(u),e.state=$i,1),h=-1,f=i.length;++h<f;)i[h].call(t,c);e.state===$i&&(e.on.call("end",t,t.__data__,e.index,e.group),u())}function u(){e.state=Ie,e.timer.stop(),delete r[n];for(var l in r)return;delete t.__transition}}function Ce(t,n){var e=t.__transition,r,i,o=!0,a;if(e){n=n==null?null:n+"";for(a in e){if((r=e[a]).name!==n){o=!1;continue}i=r.state>Ai&&r.state<$i,r.state=Ie,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete e[a]}o&&delete t.__transition}}function bg(t){return this.each(function(){Ce(this,t)})}function Mg(t,n){var e,r;return function(){var i=It(this,t),o=i.tween;if(o!==e){r=e=o;for(var a=0,s=r.length;a<s;++a)if(r[a].name===n){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function Tg(t,n,e){var r,i;if(typeof e!="function")throw new Error;return function(){var o=It(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:n,value:e},u=0,l=i.length;u<l;++u)if(i[u].name===n){i[u]=s;break}u===l&&i.push(s)}o.tween=i}}function Sg(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r=Tt(this.node(),e).tween,i=0,o=r.length,a;i<o;++i)if((a=r[i]).name===t)return a.value;return null}return this.each((n==null?Mg:Tg)(e,t,n))}function vo(t,n,e){var r=t._id;return t.each(function(){var i=It(this,r);(i.value||(i.value={}))[n]=e.apply(this,arguments)}),function(i){return Tt(i,r).value[n]}}function Vl(t,n){var e;return(typeof n=="number"?vt:n instanceof Wt?se:(e=Wt(n))?(n=e,se):Qi)(t,n)}function Ng(t){return function(){this.removeAttribute(t)}}function Eg(t){return function(){this.removeAttributeNS(t.space,t.local)}}function kg(t,n,e){var r,i=e+"",o;return function(){var a=this.getAttribute(t);return a===i?null:a===r?o:o=n(r=a,e)}}function Ag(t,n,e){var r,i=e+"",o;return function(){var a=this.getAttributeNS(t.space,t.local);return a===i?null:a===r?o:o=n(r=a,e)}}function $g(t,n,e){var r,i,o;return function(){var a,s=e(this),u;return s==null?void this.removeAttribute(t):(a=this.getAttribute(t),u=s+"",a===u?null:a===r&&u===i?o:(i=u,o=n(r=a,s)))}}function Ig(t,n,e){var r,i,o;return function(){var a,s=e(this),u;return s==null?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local),u=s+"",a===u?null:a===r&&u===i?o:(i=u,o=n(r=a,s)))}}function Cg(t,n){var e=de(t),r=e==="transform"?Bu:Vl;return this.attrTween(t,typeof n=="function"?(e.local?Ig:$g)(e,r,vo(this,"attr."+t,n)):n==null?(e.local?Eg:Ng)(e):(e.local?Ag:kg)(e,r,n))}function Lg(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}function Og(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}function Pg(t,n){var e,r;function i(){var o=n.apply(this,arguments);return o!==r&&(e=(r=o)&&Og(t,o)),e}return i._value=n,i}function Dg(t,n){var e,r;function i(){var o=n.apply(this,arguments);return o!==r&&(e=(r=o)&&Lg(t,o)),e}return i._value=n,i}function Rg(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(n==null)return this.tween(e,null);if(typeof n!="function")throw new Error;var r=de(t);return this.tween(e,(r.local?Pg:Dg)(r,n))}function Fg(t,n){return function(){yo(this,t).delay=+n.apply(this,arguments)}}function Hg(t,n){return n=+n,function(){yo(this,t).delay=n}}function zg(t){var n=this._id;return arguments.length?this.each((typeof t=="function"?Fg:Hg)(n,t)):Tt(this.node(),n).delay}function Yg(t,n){return function(){It(this,t).duration=+n.apply(this,arguments)}}function qg(t,n){return n=+n,function(){It(this,t).duration=n}}function Ug(t){var n=this._id;return arguments.length?this.each((typeof t=="function"?Yg:qg)(n,t)):Tt(this.node(),n).duration}function Xg(t,n){if(typeof n!="function")throw new Error;return function(){It(this,t).ease=n}}function Bg(t){var n=this._id;return arguments.length?this.each(Xg(n,t)):Tt(this.node(),n).ease}function jg(t,n){return function(){var e=n.apply(this,arguments);if(typeof e!="function")throw new Error;It(this,t).ease=e}}function Wg(t){if(typeof t!="function")throw new Error;return this.each(jg(this._id,t))}function Gg(t){typeof t!="function"&&(t=ho(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o=n[i],a=o.length,s=r[i]=[],u,l=0;l<a;++l)(u=o[l])&&t.call(u,u.__data__,l,o)&&s.push(u);return new zt(r,this._parents,this._name,this._id)}function Vg(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var u=n[s],l=e[s],c=u.length,h=a[s]=new Array(c),f,p=0;p<c;++p)(f=u[p]||l[p])&&(h[p]=f);for(;s<r;++s)a[s]=n[s];return new zt(a,this._parents,this._name,this._id)}function Zg(t){return(t+"").trim().split(/^|\s+/).every(function(n){var e=n.indexOf(".");return e>=0&&(n=n.slice(0,e)),!n||n==="start"})}function Qg(t,n,e){var r,i,o=Zg(n)?yo:It;return function(){var a=o(this,t),s=a.on;s!==r&&(i=(r=s).copy()).on(n,e),a.on=i}}function Kg(t,n){var e=this._id;return arguments.length<2?Tt(this.node(),e).on.on(t):this.each(Qg(e,t,n))}function Jg(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}function t_(){return this.on("end.remove",Jg(this._id))}function n_(t){var n=this._name,e=this._id;typeof t!="function"&&(t=Tr(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s=r[a],u=s.length,l=o[a]=new Array(u),c,h,f=0;f<u;++f)(c=s[f])&&(h=t.call(c,c.__data__,f,s))&&("__data__"in c&&(h.__data__=c.__data__),l[f]=h,Nr(l[f],n,e,f,l,Tt(c,e)));return new zt(o,this._parents,n,e)}function e_(t){var n=this._name,e=this._id;typeof t!="function"&&(t=fo(t));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var u=r[s],l=u.length,c,h=0;h<l;++h)if(c=u[h]){for(var f=t.call(c,c.__data__,h,u),p,_=Tt(c,e),g=0,w=f.length;g<w;++g)(p=f[g])&&Nr(p,n,e,g,f,_);o.push(f),a.push(c)}return new zt(o,a,n,e)}var r_=Hn.prototype.constructor;function i_(){return new r_(this._groups,this._parents)}function o_(t,n){var e,r,i;return function(){var o=fn(this,t),a=(this.style.removeProperty(t),fn(this,t));return o===a?null:o===e&&a===r?i:i=n(e=o,r=a)}}function Zl(t){return function(){this.style.removeProperty(t)}}function a_(t,n,e){var r,i=e+"",o;return function(){var a=fn(this,t);return a===i?null:a===r?o:o=n(r=a,e)}}function s_(t,n,e){var r,i,o;return function(){var a=fn(this,t),s=e(this),u=s+"";return s==null&&(u=s=(this.style.removeProperty(t),fn(this,t))),a===u?null:a===r&&u===i?o:(i=u,o=n(r=a,s))}}function u_(t,n){var e,r,i,o="style."+n,a="end."+o,s;return function(){var u=It(this,t),l=u.on,c=u.value[o]==null?s||(s=Zl(n)):void 0;(l!==e||i!==c)&&(r=(e=l).copy()).on(a,i=c),u.on=r}}function l_(t,n,e){var r=(t+="")=="transform"?Xu:Vl;return n==null?this.styleTween(t,o_(t,r)).on("end.style."+t,Zl(t)):typeof n=="function"?this.styleTween(t,s_(t,r,vo(this,"style."+t,n))).each(u_(this._id,t)):this.styleTween(t,a_(t,r,n),e).on("end.style."+t,null)}function c_(t,n,e){return function(r){this.style.setProperty(t,n.call(this,r),e)}}function f_(t,n,e){var r,i;function o(){var a=n.apply(this,arguments);return a!==i&&(r=(i=a)&&c_(t,a,e)),r}return o._value=n,o}function h_(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(n==null)return this.tween(r,null);if(typeof n!="function")throw new Error;return this.tween(r,f_(t,n,e??""))}function p_(t){return function(){this.textContent=t}}function m_(t){return function(){var n=t(this);this.textContent=n??""}}function d_(t){return this.tween("text",typeof t=="function"?m_(vo(this,"text",t)):p_(t==null?"":t+""))}function g_(t){return function(n){this.textContent=t.call(this,n)}}function __(t){var n,e;function r(){var i=t.apply(this,arguments);return i!==e&&(n=(e=i)&&g_(i)),n}return r._value=t,r}function y_(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,__(t))}function v_(){for(var t=this._name,n=this._id,e=Ql(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],s=a.length,u,l=0;l<s;++l)if(u=a[l]){var c=Tt(u,n);Nr(u,t,e,l,a,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new zt(r,this._parents,t,e)}function w_(){var t,n,e=this,r=e._id,i=e.size();return new Promise(function(o,a){var s={value:a},u={value:function(){--i===0&&o()}};e.each(function(){var l=It(this,r),c=l.on;c!==t&&(n=(t=c).copy(),n._.cancel.push(s),n._.interrupt.push(s),n._.end.push(u)),l.on=n}),i===0&&o()})}var x_=0;function zt(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function Ql(){return++x_}var nn=Hn.prototype;zt.prototype={constructor:zt,select:n_,selectAll:e_,filter:Gg,merge:Vg,selection:i_,transition:v_,call:nn.call,nodes:nn.nodes,node:nn.node,size:nn.size,empty:nn.empty,each:nn.each,on:Kg,attr:Cg,attrTween:Rg,style:l_,styleTween:h_,text:d_,textTween:y_,remove:t_,tween:Sg,delay:zg,duration:Ug,ease:Bg,easeVarying:Wg,end:w_,[Symbol.iterator]:nn[Symbol.iterator]};function b_(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var M_={time:null,delay:0,duration:250,ease:b_};function T_(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))throw new Error(`transition ${n} not found`);return e}function S_(t){var n,e;t instanceof zt?(n=t._id,t=t._name):(n=Ql(),(e=M_).time=_o(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],s=a.length,u,l=0;l<s;++l)(u=a[l])&&Nr(u,t,n,l,a,e||T_(u,n));return new zt(r,this._parents,t,n)}Hn.prototype.interrupt=bg;Hn.prototype.transition=S_;const Me=t=>()=>t;function N_(t,{sourceEvent:n,target:e,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:e,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function Ft(t,n,e){this.k=t,this.x=n,this.y=e}Ft.prototype={constructor:Ft,scale:function(t){return t===1?this:new Ft(this.k*t,this.x,this.y)},translate:function(t,n){return t===0&n===0?this:new Ft(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Er=new Ft(1,0,0);Kl.prototype=Ft.prototype;function Kl(t){for(;!t.__zoom;)if(!(t=t.parentNode))return Er;return t.__zoom}function oi(t){t.stopImmediatePropagation()}function Zn(t){t.preventDefault(),t.stopImmediatePropagation()}function E_(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function k_(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function fs(){return this.__zoom||Er}function A_(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function $_(){return navigator.maxTouchPoints||"ontouchstart"in this}function I_(t,n,e){var r=t.invertX(n[0][0])-e[0][0],i=t.invertX(n[1][0])-e[1][0],o=t.invertY(n[0][1])-e[0][1],a=t.invertY(n[1][1])-e[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}function C_(){var t=E_,n=k_,e=I_,r=A_,i=$_,o=[0,1/0],a=[[-1/0,-1/0],[1/0,1/0]],s=250,u=ju,l=lo("start","zoom","end"),c,h,f,p=500,_=150,g=0,w=10;function y(m){m.property("__zoom",fs).on("wheel.zoom",W).on("mousedown.zoom",U).on("dblclick.zoom",Q).filter(i).on("touchstart.zoom",L).on("touchmove.zoom",k).on("touchend.zoom touchcancel.zoom",R).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}y.transform=function(m,S,v,$){var P=m.selection?m.selection():m;P.property("__zoom",fs),m!==P?C(m,S,v,$):P.interrupt().each(function(){b(this,arguments).event($).start().zoom(null,typeof S=="function"?S.apply(this,arguments):S).end()})},y.scaleBy=function(m,S,v,$){y.scaleTo(m,function(){var P=this.__zoom.k,D=typeof S=="function"?S.apply(this,arguments):S;return P*D},v,$)},y.scaleTo=function(m,S,v,$){y.transform(m,function(){var P=n.apply(this,arguments),D=this.__zoom,Y=v==null?I(P):typeof v=="function"?v.apply(this,arguments):v,X=D.invert(Y),K=typeof S=="function"?S.apply(this,arguments):S;return e(T(M(D,K),Y,X),P,a)},v,$)},y.translateBy=function(m,S,v,$){y.transform(m,function(){return e(this.__zoom.translate(typeof S=="function"?S.apply(this,arguments):S,typeof v=="function"?v.apply(this,arguments):v),n.apply(this,arguments),a)},null,$)},y.translateTo=function(m,S,v,$,P){y.transform(m,function(){var D=n.apply(this,arguments),Y=this.__zoom,X=$==null?I(D):typeof $=="function"?$.apply(this,arguments):$;return e(Er.translate(X[0],X[1]).scale(Y.k).translate(typeof S=="function"?-S.apply(this,arguments):-S,typeof v=="function"?-v.apply(this,arguments):-v),D,a)},$,P)};function M(m,S){return S=Math.max(o[0],Math.min(o[1],S)),S===m.k?m:new Ft(S,m.x,m.y)}function T(m,S,v){var $=S[0]-v[0]*m.k,P=S[1]-v[1]*m.k;return $===m.x&&P===m.y?m:new Ft(m.k,$,P)}function I(m){return[(+m[0][0]+ +m[1][0])/2,(+m[0][1]+ +m[1][1])/2]}function C(m,S,v,$){m.on("start.zoom",function(){b(this,arguments).event($).start()}).on("interrupt.zoom end.zoom",function(){b(this,arguments).event($).end()}).tween("zoom",function(){var P=this,D=arguments,Y=b(P,D).event($),X=n.apply(P,D),K=v==null?I(X):typeof v=="function"?v.apply(P,D):v,at=Math.max(X[1][0]-X[0][0],X[1][1]-X[0][1]),V=P.__zoom,rt=typeof S=="function"?S.apply(P,D):S,ct=u(V.invert(K).concat(at/V.k),rt.invert(K).concat(at/rt.k));return function(it){if(it===1)it=rt;else{var ft=ct(it),N=at/ft[2];it=new Ft(N,K[0]-ft[0]*N,K[1]-ft[1]*N)}Y.zoom(null,it)}})}function b(m,S,v){return!v&&m.__zooming||new F(m,S)}function F(m,S){this.that=m,this.args=S,this.active=0,this.sourceEvent=null,this.extent=n.apply(m,S),this.taps=0}F.prototype={event:function(m){return m&&(this.sourceEvent=m),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(m,S){return this.mouse&&m!=="mouse"&&(this.mouse[1]=S.invert(this.mouse[0])),this.touch0&&m!=="touch"&&(this.touch0[1]=S.invert(this.touch0[0])),this.touch1&&m!=="touch"&&(this.touch1[1]=S.invert(this.touch1[0])),this.that.__zoom=S,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(m){var S=Pt(this.that).datum();l.call(m,this.that,new N_(m,{sourceEvent:this.sourceEvent,target:y,type:m,transform:this.that.__zoom,dispatch:l}),S)}};function W(m,...S){if(!t.apply(this,arguments))return;var v=b(this,S).event(m),$=this.__zoom,P=Math.max(o[0],Math.min(o[1],$.k*Math.pow(2,r.apply(this,arguments)))),D=Lt(m);if(v.wheel)(v.mouse[0][0]!==D[0]||v.mouse[0][1]!==D[1])&&(v.mouse[1]=$.invert(v.mouse[0]=D)),clearTimeout(v.wheel);else{if($.k===P)return;v.mouse=[D,$.invert(D)],Ce(this),v.start()}Zn(m),v.wheel=setTimeout(Y,_),v.zoom("mouse",e(T(M($,P),v.mouse[0],v.mouse[1]),v.extent,a));function Y(){v.wheel=null,v.end()}}function U(m,...S){if(f||!t.apply(this,arguments))return;var v=b(this,S,!0).event(m),$=Pt(m.view).on("mousemove.zoom",K,!0).on("mouseup.zoom",at,!0),P=Lt(m,D),D=m.currentTarget,Y=m.clientX,X=m.clientY;pg(m.view),oi(m),v.mouse=[P,this.__zoom.invert(P)],Ce(this),v.start();function K(V){if(Zn(V),!v.moved){var rt=V.clientX-Y,ct=V.clientY-X;v.moved=rt*rt+ct*ct>g}v.event(V).zoom("mouse",e(T(v.that.__zoom,v.mouse[0]=Lt(V,D),v.mouse[1]),v.extent,a))}function at(V){$.on("mousemove.zoom mouseup.zoom",null),mg(V.view,v.moved),Zn(V),v.event(V).end()}}function Q(m,...S){if(t.apply(this,arguments)){var v=this.__zoom,$=Lt(m.changedTouches?m.changedTouches[0]:m,this),P=v.invert($),D=v.k*(m.shiftKey?.5:2),Y=e(T(M(v,D),$,P),n.apply(this,S),a);Zn(m),s>0?Pt(this).transition().duration(s).call(C,Y,$,m):Pt(this).call(y.transform,Y,$,m)}}function L(m,...S){if(t.apply(this,arguments)){var v=m.touches,$=v.length,P=b(this,S,m.changedTouches.length===$).event(m),D,Y,X,K;for(oi(m),Y=0;Y<$;++Y)X=v[Y],K=Lt(X,this),K=[K,this.__zoom.invert(K),X.identifier],P.touch0?!P.touch1&&P.touch0[2]!==K[2]&&(P.touch1=K,P.taps=0):(P.touch0=K,D=!0,P.taps=1+!!c);c&&(c=clearTimeout(c)),D&&(P.taps<2&&(h=K[0],c=setTimeout(function(){c=null},p)),Ce(this),P.start())}}function k(m,...S){if(this.__zooming){var v=b(this,S).event(m),$=m.changedTouches,P=$.length,D,Y,X,K;for(Zn(m),D=0;D<P;++D)Y=$[D],X=Lt(Y,this),v.touch0&&v.touch0[2]===Y.identifier?v.touch0[0]=X:v.touch1&&v.touch1[2]===Y.identifier&&(v.touch1[0]=X);if(Y=v.that.__zoom,v.touch1){var at=v.touch0[0],V=v.touch0[1],rt=v.touch1[0],ct=v.touch1[1],it=(it=rt[0]-at[0])*it+(it=rt[1]-at[1])*it,ft=(ft=ct[0]-V[0])*ft+(ft=ct[1]-V[1])*ft;Y=M(Y,Math.sqrt(it/ft)),X=[(at[0]+rt[0])/2,(at[1]+rt[1])/2],K=[(V[0]+ct[0])/2,(V[1]+ct[1])/2]}else if(v.touch0)X=v.touch0[0],K=v.touch0[1];else return;v.zoom("touch",e(T(Y,X,K),v.extent,a))}}function R(m,...S){if(this.__zooming){var v=b(this,S).event(m),$=m.changedTouches,P=$.length,D,Y;for(oi(m),f&&clearTimeout(f),f=setTimeout(function(){f=null},p),D=0;D<P;++D)Y=$[D],v.touch0&&v.touch0[2]===Y.identifier?delete v.touch0:v.touch1&&v.touch1[2]===Y.identifier&&delete v.touch1;if(v.touch1&&!v.touch0&&(v.touch0=v.touch1,delete v.touch1),v.touch0)v.touch0[1]=this.__zoom.invert(v.touch0[0]);else if(v.end(),v.taps===2&&(Y=Lt(Y,this),Math.hypot(h[0]-Y[0],h[1]-Y[1])<w)){var X=Pt(this).on("dblclick.zoom");X&&X.apply(this,arguments)}}}return y.wheelDelta=function(m){return arguments.length?(r=typeof m=="function"?m:Me(+m),y):r},y.filter=function(m){return arguments.length?(t=typeof m=="function"?m:Me(!!m),y):t},y.touchable=function(m){return arguments.length?(i=typeof m=="function"?m:Me(!!m),y):i},y.extent=function(m){return arguments.length?(n=typeof m=="function"?m:Me([[+m[0][0],+m[0][1]],[+m[1][0],+m[1][1]]]),y):n},y.scaleExtent=function(m){return arguments.length?(o[0]=+m[0],o[1]=+m[1],y):[o[0],o[1]]},y.translateExtent=function(m){return arguments.length?(a[0][0]=+m[0][0],a[1][0]=+m[1][0],a[0][1]=+m[0][1],a[1][1]=+m[1][1],y):[[a[0][0],a[0][1]],[a[1][0],a[1][1]]]},y.constrain=function(m){return arguments.length?(e=m,y):e},y.duration=function(m){return arguments.length?(s=+m,y):s},y.interpolate=function(m){return arguments.length?(u=m,y):u},y.on=function(){var m=l.on.apply(l,arguments);return m===l?y:m},y.clickDistance=function(m){return arguments.length?(g=(m=+m)*m,y):Math.sqrt(g)},y.tapDistance=function(m){return arguments.length?(w=+m,y):w},y}const L_=Object.freeze(Object.defineProperty({__proto__:null,zoom:C_,zoomIdentity:Er,zoomTransform:Kl},Symbol.toStringTag,{value:"Module"})),O_=Yt(L_),Ut=Yt(hg),P_=Yt(Pp);var wo={exports:{}},Sn=typeof Reflect=="object"?Reflect:null,hs=Sn&&typeof Sn.apply=="function"?Sn.apply:function(n,e,r){return Function.prototype.apply.call(n,e,r)},Le;Sn&&typeof Sn.ownKeys=="function"?Le=Sn.ownKeys:Object.getOwnPropertySymbols?Le=function(n){return Object.getOwnPropertyNames(n).concat(Object.getOwnPropertySymbols(n))}:Le=function(n){return Object.getOwnPropertyNames(n)};function D_(t){console&&console.warn&&console.warn(t)}var Jl=Number.isNaN||function(n){return n!==n};function Z(){Z.init.call(this)}wo.exports=Z;wo.exports.once=z_;Z.EventEmitter=Z;Z.prototype._events=void 0;Z.prototype._eventsCount=0;Z.prototype._maxListeners=void 0;var ps=10;function kr(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(Z,"defaultMaxListeners",{enumerable:!0,get:function(){return ps},set:function(t){if(typeof t!="number"||t<0||Jl(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");ps=t}});Z.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Z.prototype.setMaxListeners=function(n){if(typeof n!="number"||n<0||Jl(n))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+n+".");return this._maxListeners=n,this};function tc(t){return t._maxListeners===void 0?Z.defaultMaxListeners:t._maxListeners}Z.prototype.getMaxListeners=function(){return tc(this)};Z.prototype.emit=function(n){for(var e=[],r=1;r<arguments.length;r++)e.push(arguments[r]);var i=n==="error",o=this._events;if(o!==void 0)i=i&&o.error===void 0;else if(!i)return!1;if(i){var a;if(e.length>0&&(a=e[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var u=o[n];if(u===void 0)return!1;if(typeof u=="function")hs(u,this,e);else for(var l=u.length,c=oc(u,l),r=0;r<l;++r)hs(c[r],this,e);return!0};function nc(t,n,e,r){var i,o,a;if(kr(e),o=t._events,o===void 0?(o=t._events=Object.create(null),t._eventsCount=0):(o.newListener!==void 0&&(t.emit("newListener",n,e.listener?e.listener:e),o=t._events),a=o[n]),a===void 0)a=o[n]=e,++t._eventsCount;else if(typeof a=="function"?a=o[n]=r?[e,a]:[a,e]:r?a.unshift(e):a.push(e),i=tc(t),i>0&&a.length>i&&!a.warned){a.warned=!0;var s=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(n)+" listeners added. Use emitter.setMaxListeners() to increase limit");s.name="MaxListenersExceededWarning",s.emitter=t,s.type=n,s.count=a.length,D_(s)}return t}Z.prototype.addListener=function(n,e){return nc(this,n,e,!1)};Z.prototype.on=Z.prototype.addListener;Z.prototype.prependListener=function(n,e){return nc(this,n,e,!0)};function R_(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function ec(t,n,e){var r={fired:!1,wrapFn:void 0,target:t,type:n,listener:e},i=R_.bind(r);return i.listener=e,r.wrapFn=i,i}Z.prototype.once=function(n,e){return kr(e),this.on(n,ec(this,n,e)),this};Z.prototype.prependOnceListener=function(n,e){return kr(e),this.prependListener(n,ec(this,n,e)),this};Z.prototype.removeListener=function(n,e){var r,i,o,a,s;if(kr(e),i=this._events,i===void 0)return this;if(r=i[n],r===void 0)return this;if(r===e||r.listener===e)--this._eventsCount===0?this._events=Object.create(null):(delete i[n],i.removeListener&&this.emit("removeListener",n,r.listener||e));else if(typeof r!="function"){for(o=-1,a=r.length-1;a>=0;a--)if(r[a]===e||r[a].listener===e){s=r[a].listener,o=a;break}if(o<0)return this;o===0?r.shift():F_(r,o),r.length===1&&(i[n]=r[0]),i.removeListener!==void 0&&this.emit("removeListener",n,s||e)}return this};Z.prototype.off=Z.prototype.removeListener;Z.prototype.removeAllListeners=function(n){var e,r,i;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[n]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[n]),this;if(arguments.length===0){var o=Object.keys(r),a;for(i=0;i<o.length;++i)a=o[i],a!=="removeListener"&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(e=r[n],typeof e=="function")this.removeListener(n,e);else if(e!==void 0)for(i=e.length-1;i>=0;i--)this.removeListener(n,e[i]);return this};function rc(t,n,e){var r=t._events;if(r===void 0)return[];var i=r[n];return i===void 0?[]:typeof i=="function"?e?[i.listener||i]:[i]:e?H_(i):oc(i,i.length)}Z.prototype.listeners=function(n){return rc(this,n,!0)};Z.prototype.rawListeners=function(n){return rc(this,n,!1)};Z.listenerCount=function(t,n){return typeof t.listenerCount=="function"?t.listenerCount(n):ic.call(t,n)};Z.prototype.listenerCount=ic;function ic(t){var n=this._events;if(n!==void 0){var e=n[t];if(typeof e=="function")return 1;if(e!==void 0)return e.length}return 0}Z.prototype.eventNames=function(){return this._eventsCount>0?Le(this._events):[]};function oc(t,n){for(var e=new Array(n),r=0;r<n;++r)e[r]=t[r];return e}function F_(t,n){for(;n+1<t.length;n++)t[n]=t[n+1];t.pop()}function H_(t){for(var n=new Array(t.length),e=0;e<n.length;++e)n[e]=t[e].listener||t[e];return n}function z_(t,n){return new Promise(function(e,r){function i(a){t.removeListener(n,o),r(a)}function o(){typeof t.removeListener=="function"&&t.removeListener("error",i),e([].slice.call(arguments))}ac(t,n,o,{once:!0}),n!=="error"&&Y_(t,i,{once:!0})})}function Y_(t,n,e){typeof t.on=="function"&&ac(t,"error",n,e)}function ac(t,n,e,r){if(typeof t.on=="function")r.once?t.once(n,e):t.on(n,e);else if(typeof t.addEventListener=="function")t.addEventListener(n,function i(o){r.once&&t.removeEventListener(n,i),e(o)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}var q_=wo.exports,xo={};Object.defineProperty(xo,"__esModule",{value:!0});const U_=ur,X_=Ut;function B_(t){const n=t.owner.meta.xScale,e=t.owner.meta.yScale,r=(0,U_.line)().x(function(i){return i[0]}).y(function(i){return i[1]});return function(i){i.each(function(){const a=(0,X_.select)(this).selectAll("g.annotations").data(function(f){return f.annotations||[]}),s=a.enter().append("g").attr("class","annotations"),u=e.range(),l=n.range(),c=a.merge(s).selectAll("path").data(function(f){return"x"in f?[[[0,u[0]],[0,u[1]]]]:[[[l[0],0],[l[1],0]]]});c.enter().append("path").attr("stroke","#eee").attr("d",r),c.exit().remove();const h=a.merge(s).selectAll("text").data(function(f){return[{text:f.text||"",hasX:"x"in f}]});h.enter().append("text").attr("y",function(f){return f.hasX?3:0}).attr("x",function(f){return f.hasX?0:3}).attr("dy",function(f){return f.hasX?5:-5}).attr("text-anchor",function(f){return f.hasX?"end":""}).attr("transform",function(f){return f.hasX?"rotate(-90)":""}).text(function(f){return f.text}),h.exit().remove(),a.merge(s).attr("transform",function(f){return"x"in f?"translate("+n(f.x)+", 0)":"translate(0, "+e(f.y)+")"}),a.exit().remove()})}}xo.default=B_;var bo={},Mo=j_;function j_(t,n,e){return n<e?t<n?n:t>e?e:t:t<e?e:t>n?n:t}var Qt={},zn={};const sc=Yt(hp);Object.defineProperty(zn,"__esModule",{value:!0});const W_=sc,tr={COLORS:["steelblue","red","#05b378","orange","#4040e8","yellow","brown","magenta","cyan"].map(function(t){return(0,W_.hsl)(t)}),DEFAULT_WIDTH:550,DEFAULT_HEIGHT:350,TIP_X_EPS:1,DEFAULT_ITERATIONS:1/0,MAX_ITERATIONS:0};tr.DEFAULT_ITERATIONS=null;tr.MAX_ITERATIONS=tr.DEFAULT_WIDTH*10;zn.default=tr;var G_=H&&H.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Qt,"__esModule",{value:!0});const V_=G_(zn),Z_={linspace:function(t,n,e){const r=(n-t)/(e-1);return Array.from({length:e},(i,o)=>t+r*o)},logspace:function(t,n,e){return this.linspace(t,n,e).map(r=>Math.pow(10,r))},isValidNumber:function(t){return typeof t=="number"&&!isNaN(t)},space:function(t,n,e){const r=n[0],i=n[1];return t.options.xAxis.type==="log"?this.logspace(Math.log10(r),Math.log10(i),e):this.linspace(r,i,e)},getterSetter:function(t,n){const e=this;this[n]=function(r){return arguments.length?(t[n]=r,e):t[n]}},sgn:function(t){return t<0?-1:t>0?1:0},color:function(t,n){return t.color||V_.default.COLORS[n].hex()}};Qt.default=Z_;var Mt={},To={exports:{}},_n={},uc={EOF:0,DELIMITER:1,NUMBER:2,STRING:3,SYMBOL:4},en=uc,Q_={n:`
`,f:"\f",r:"\r",t:"	",v:"\v","'":"'",'"':'"'},K_={",":!0,"(":!0,")":!0,"[":!0,"]":!0,";":!0,"~":!0,"!":!0,"+":!0,"-":!0,"*":!0,"/":!0,"%":!0,"^":!0,"**":!0,"|":!0,"&":!0,"^|":!0,"=":!0,":":!0,"?":!0,"||":!0,"&&":!0,xor:!0,"==":!0,"!=":!0,"===":!0,"!==":!0,"<":!0,">":!0,">=":!0,"<=":!0,">>>":!0,"<<":!0,">>":!0};function Ot(t){return t>="0"&&t<="9"}function lc(t){return t>="a"&&t<="z"||t>="A"&&t<="Z"||t==="$"||t==="_"}function J_(t){return t===" "||t==="\r"||t==="	"||t===`
`||t==="\v"||t===" "}function ai(t){return K_[t]}function ty(t){return t==="'"||t==='"'}function Kt(){}Kt.prototype.throwError=function(t,n){n=typeof n>"u"?this.index:n;var e=new Error(t+" at index "+n);throw e.index=n,e.description=t,e};Kt.prototype.lex=function(t){for(this.text=t,this.index=0,this.tokens=[];this.index<this.text.length;){for(;J_(this.peek());)this.consume();var n=this.peek(),e=n+this.peek(1),r=e+this.peek(2);ai(r)?(this.tokens.push({type:en.DELIMITER,value:r}),this.consume(),this.consume(),this.consume()):ai(e)?(this.tokens.push({type:en.DELIMITER,value:e}),this.consume(),this.consume()):ai(n)?(this.tokens.push({type:en.DELIMITER,value:n}),this.consume()):Ot(n)||n==="."&&Ot(this.peek(1))?this.tokens.push({type:en.NUMBER,value:this.readNumber()}):ty(n)?this.tokens.push({type:en.STRING,value:this.readString()}):lc(n)?this.tokens.push({type:en.SYMBOL,value:this.readIdentifier()}):this.throwError("unexpected character "+n)}return this.tokens.push({type:en.EOF}),this.tokens};Kt.prototype.peek=function(t){if(t=t||0,!(this.index+t>=this.text.length))return this.text.charAt(this.index+t)};Kt.prototype.consume=function(){var t=this.peek();return this.index+=1,t};Kt.prototype.readNumber=function(){var t="";if(this.peek()===".")t+=this.consume(),Ot(this.peek())||this.throwError("number expected");else{for(;Ot(this.peek());)t+=this.consume();this.peek()==="."&&(t+=this.consume())}for(;Ot(this.peek());)t+=this.consume();if(this.peek()==="e"||this.peek()==="E")for(t+=this.consume(),Ot(this.peek())||this.peek()==="+"||this.peek()==="-"||this.throwError(),(this.peek()==="+"||this.peek()==="-")&&(t+=this.consume()),Ot(this.peek())||this.throwError("number expected");Ot(this.peek());)t+=this.consume();return t};Kt.prototype.readIdentifier=function(){for(var t="";lc(this.peek())||Ot(this.peek());)t+=this.consume();return t};Kt.prototype.readString=function(){for(var t=this.consume(),n="",e;;){var r=this.consume();if(r||this.throwError("string is not closed"),e){if(r==="u"){var i=this.text.substring(this.index+1,this.index+5);i.match(/[\da-f]{4}/i)||this.throwError("invalid unicode escape"),this.index+=4,n+=String.fromCharCode(parseInt(i,16))}else{var o=Q_[r];o?n+=o:n+=r}e=!1}else{if(r===t)break;r==="\\"?e=!0:n+=r}}return n};var cc=Kt;function fc(){}fc.prototype.type="Node";var Ct=fc,ny=Ct,ey={number:!0,string:!0,boolean:!0,undefined:!0,null:!0};function So(t,n){if(!ey[n])throw Error("unsupported type '"+n+"'");this.value=t,this.valueType=n}So.prototype=Object.create(ny.prototype);So.prototype.type="ConstantNode";var hc=So,ry=Ct;function No(t,n){this.op=t,this.args=n||[]}No.prototype=Object.create(ry.prototype);No.prototype.type="OperatorNode";var pc=No,iy=Ct;function Eo(t,n){this.op=t,this.argument=n}Eo.prototype=Object.create(iy.prototype);Eo.prototype.type="UnaryNode";var mc=Eo,oy=Ct;function ko(t){this.name=t}ko.prototype=Object.create(oy.prototype);ko.prototype.type="SymbolNode";var dc=ko,ay=Ct;function Ao(t,n){this.name=t,this.args=n}Ao.prototype=Object.create(ay.prototype);Ao.prototype.type="FunctionNode";var gc=Ao,sy=Ct;function $o(t){this.nodes=t}$o.prototype=Object.create(sy.prototype);$o.prototype.type="ArrayNode";var _c=$o,uy=Ct;function Io(t,n,e){this.condition=t,this.trueExpr=n,this.falseExpr=e}Io.prototype=Object.create(uy.prototype);Io.prototype.type="ConditionalNode";var yc=Io,ly=Ct;function Co(t,n){this.name=t,this.expr=n}Co.prototype=Object.create(ly.prototype);Co.prototype.type="AssignmentNode";var vc=Co,cy=Ct;function Lo(t){this.blocks=t}Lo.prototype=Object.create(cy.prototype);Lo.prototype.type="BlockNode";var wc=Lo,pn=uc,fy=cc,Oo=hc,gt=pc,hy=mc,xc=dc,py=gc,my=_c,dy=yc,gy=vc,_y=wc;function G(){this.lexer=new fy,this.tokens=null}G.prototype.current=function(){return this.tokens[0]};G.prototype.next=function(){return this.tokens[1]};G.prototype.peek=function(){if(this.tokens.length){for(var t=this.tokens[0],n=0;n<arguments.length;n+=1)if(t.value===arguments[n])return!0}};G.prototype.consume=function(t){return this.tokens.shift()};G.prototype.expect=function(t){if(!this.peek(t))throw Error("expected "+t);return this.consume()};G.prototype.isEOF=function(){return this.current().type===pn.EOF};G.prototype.parse=function(t){return this.tokens=this.lexer.lex(t),this.program()};G.prototype.program=function(){for(var t=[];!this.isEOF();)t.push(this.assignment()),this.peek(";")&&this.consume();return this.end(),new _y(t)};G.prototype.assignment=function(){var t=this.ternary();return t instanceof xc&&this.peek("=")?(this.consume(),new gy(t.name,this.assignment())):t};G.prototype.ternary=function(){var t=this.logicalOR();if(this.peek("?")){this.consume();var n=this.ternary();this.expect(":");var e=this.ternary();return new dy(t,n,e)}return t};G.prototype.logicalOR=function(){var t=this.logicalXOR();if(this.peek("||")){var n=this.consume(),e=this.logicalOR();return new gt(n.value,[t,e])}return t};G.prototype.logicalXOR=function(){var t=this.logicalAND();if(this.current().value==="xor"){var n=this.consume(),e=this.logicalXOR();return new gt(n.value,[t,e])}return t};G.prototype.logicalAND=function(){var t=this.bitwiseOR();if(this.peek("&&")){var n=this.consume(),e=this.logicalAND();return new gt(n.value,[t,e])}return t};G.prototype.bitwiseOR=function(){var t=this.bitwiseXOR();if(this.peek("|")){var n=this.consume(),e=this.bitwiseOR();return new gt(n.value,[t,e])}return t};G.prototype.bitwiseXOR=function(){var t=this.bitwiseAND();if(this.peek("^|")){var n=this.consume(),e=this.bitwiseXOR();return new gt(n.value,[t,e])}return t};G.prototype.bitwiseAND=function(){var t=this.relational();if(this.peek("&")){var n=this.consume(),e=this.bitwiseAND();return new gt(n.value,[t,e])}return t};G.prototype.relational=function(){var t=this.shift();if(this.peek("==","===","!=","!==",">=","<=",">","<")){var n=this.consume(),e=this.shift();return new gt(n.value,[t,e])}return t};G.prototype.shift=function(){var t=this.additive();if(this.peek(">>","<<",">>>")){var n=this.consume(),e=this.shift();return new gt(n.value,[t,e])}return t};G.prototype.additive=function(){for(var t=this.multiplicative();this.peek("+","-");){var n=this.consume();t=new gt(n.value,[t,this.multiplicative()])}return t};G.prototype.multiplicative=function(){for(var t,n,e=this.unary();this.peek("*","/","%");)t=this.consume(),e=new gt(t.value,[e,this.unary()]);return this.current().type===pn.SYMBOL||this.peek("(")||!(e.type instanceof Oo)&&this.current().type===pn.NUMBER?(n=this.multiplicative(),new gt("*",[e,n])):e};G.prototype.unary=function(){if(this.peek("-","+","~")){var t=this.consume(),n=this.unary();return new hy(t.value,n)}return this.pow()};G.prototype.pow=function(){var t=this.factorial();if(this.peek("^","**")){var n=this.consume(),e=this.unary();return new gt(n.value,[t,e])}return t};G.prototype.factorial=function(){var t=this.symbol();if(this.peek("!")){var n=this.consume();return new gt(n.value,[t])}return t};G.prototype.symbol=function(){var t=this.current();if(t.type===pn.SYMBOL){var n=this.consume(),e=this.functionCall(n);return e}return this.string()};G.prototype.functionCall=function(t){var n=t.value;if(this.peek("(")){this.consume();for(var e=[];!this.peek(")")&&!this.isEOF();)e.push(this.assignment()),this.peek(",")&&this.consume();return this.expect(")"),new py(n,e)}return new xc(n)};G.prototype.string=function(){return this.current().type===pn.STRING?new Oo(this.consume().value,"string"):this.array()};G.prototype.array=function(){if(this.peek("[")){this.consume();for(var t=[];!this.peek("]")&&!this.isEOF();)t.push(this.assignment()),this.peek(",")&&this.consume();return this.expect("]"),new my(t)}return this.number()};G.prototype.number=function(){var t=this.current();return t.type===pn.NUMBER?new Oo(this.consume().value,"number"):this.parentheses()};G.prototype.parentheses=function(){var t=this.current();if(t.value==="("){this.consume();var n=this.assignment();return this.expect(")"),n}return this.end()};G.prototype.end=function(){var t=this.current();if(t.type!==pn.EOF)throw Error("unexpected end of expression")};var yy=G,vy={ArrayNode:_c,AssignmentNode:vc,BlockNode:wc,ConditionalNode:yc,ConstantNode:hc,FunctionNode:gc,Node:Ct,OperatorNode:pc,SymbolNode:dc,UnaryNode:mc};_n.Lexer=cc;_n.Parser=yy;_n.nodeTypes=vy;var Oe=Object.prototype.hasOwnProperty,bc=Object.prototype.toString,ms=Object.defineProperty,ds=Object.getOwnPropertyDescriptor,gs=function(n){return typeof Array.isArray=="function"?Array.isArray(n):bc.call(n)==="[object Array]"},_s=function(n){if(!n||bc.call(n)!=="[object Object]")return!1;var e=Oe.call(n,"constructor"),r=n.constructor&&n.constructor.prototype&&Oe.call(n.constructor.prototype,"isPrototypeOf");if(n.constructor&&!e&&!r)return!1;var i;for(i in n);return typeof i>"u"||Oe.call(n,i)},ys=function(n,e){ms&&e.name==="__proto__"?ms(n,e.name,{enumerable:!0,configurable:!0,value:e.newValue,writable:!0}):n[e.name]=e.newValue},vs=function(n,e){if(e==="__proto__")if(Oe.call(n,e)){if(ds)return ds(n,e).value}else return;return n[e]},Ar=function t(){var n,e,r,i,o,a,s=arguments[0],u=1,l=arguments.length,c=!1;for(typeof s=="boolean"&&(c=s,s=arguments[1]||{},u=2),(s==null||typeof s!="object"&&typeof s!="function")&&(s={});u<l;++u)if(n=arguments[u],n!=null)for(e in n)r=vs(s,e),i=vs(n,e),s!==i&&(c&&i&&(_s(i)||(o=gs(i)))?(o?(o=!1,a=r&&gs(r)?r:[]):a=r&&_s(r)?r:{},ys(s,{name:e,newValue:t(c,a,i)})):typeof i<"u"&&ys(s,{name:e,newValue:i}));return s},wy=function(t){var n=this,e=[];this.rawify(this.options.rawArrayExpressionElements,function(){e=t.nodes.map(function(i){return n.next(i)})});var r="["+e.join(",")+"]";return this.options.raw?r:this.options.factory+"("+r+")"},xy=function(t){return'scope["'+t.name+'"] = '+this.next(t.expr)},by=function(t){var n="!!("+this.next(t.condition)+")",e=this.next(t.trueExpr),r=this.next(t.falseExpr);return"("+n+" ? ("+e+") : ("+r+") )"},My=function(t){return this.options.raw?t.value:this.options.factory+"("+t.value+")"},Po={exports:{}},Ty=_n.nodeTypes.SymbolNode,Mc=function(t){return"$$mathCodegen.functionProxy("+this.next(new Ty(t.name))+', "'+t.name+'")'};Po.exports=function(t){var n=this,e=Mc.call(this,t),r=[];return this.rawify(this.options.rawCallExpressionElements,function(){r=t.args.map(function(i){return n.next(i)})}),e+"("+r.join(", ")+")"};Po.exports.functionProxy=Mc;var Sy=Po.exports,Ny={"+":"add","-":"sub","*":"mul","/":"div","^":"pow","%":"mod","!":"factorial","|":"bitwiseOR","^|":"bitwiseXOR","&":"bitwiseAND","||":"logicalOR",xor:"logicalXOR","&&":"logicalAND","<":"lessThan",">":"greaterThan","<=":"lessEqualThan",">=":"greaterEqualThan","===":"strictlyEqual","==":"equal","!==":"strictlyNotEqual","!=":"notEqual",">>":"shiftRight","<<":"shiftLeft",">>>":"unsignedRightShift"},Ey=Ny,ky=function(t){if(this.options.raw)return["("+this.next(t.args[0]),t.op,this.next(t.args[1])+")"].join(" ");var n=Ey[t.op];if(!n)throw TypeError("unidentified operator");return this.FunctionNode({name:n,args:t.args})},Ay=function(t){var n=t.name;return'$$mathCodegen.getProperty("'+n+'", scope, ns)'},$y={"+":"positive","-":"negative","~":"oneComplement"},ws=$y,Iy=function(t){if(this.options.raw)return t.op+this.next(t.argument);if(!(t.op in ws))throw new SyntaxError(t.op+" not implemented");var n=ws[t.op];return this.FunctionNode({name:n,args:[t.argument]})},Tc=Ar,Cy={ArrayNode:wy,AssignmentNode:xy,ConditionalNode:by,ConstantNode:My,FunctionNode:Sy,OperatorNode:ky,SymbolNode:Ay,UnaryNode:Iy},$r=function(t,n){this.owner=t,this.options=Tc({factory:"ns.factory",raw:!1,rawArrayExpressionElements:!0,rawCallExpressionElements:!1},n)};Tc($r.prototype,Cy);$r.prototype.next=function(t){if(!(t.type in this))throw new TypeError("the node type "+t.type+" is not implemented");return this[t.type](t)};$r.prototype.rawify=function(t,n){var e=this.options.raw;t&&(this.options.raw=!0),n(),t&&(this.options.raw=e)};var Ly=$r,Oy=_n.Parser,Py=Ly,Dy=Ar;function Ir(t,n){this.statements=[],this.defs=n||{},this.interpreter=new Py(this,t)}Ir.prototype.setDefs=function(t){return this.defs=Dy(this.defs,t),this};Ir.prototype.compile=function(t){if(!t||!(typeof t=="object"||typeof t=="function"))throw TypeError("namespace must be an object");if(typeof t.factory!="function")throw TypeError("namespace.factory must be a function");this.defs.ns=t,this.defs.$$mathCodegen={getProperty:function(o,a,s){if(o in a)return a[o];if(o in s)return s[o];throw SyntaxError('symbol "'+o+'" is undefined')},functionProxy:function(o,a){if(typeof o!="function")throw SyntaxError('symbol "'+a+'" must be a function');return o}},this.defs.$$processScope=this.defs.$$processScope||function(){};var n=Object.keys(this.defs).map(function(o){return"var "+o+' = defs["'+o+'"]'});if(!this.statements.length)throw Error("there are no statements saved in this generator, make sure you parse an expression before compiling it");this.statements[this.statements.length-1]="return "+this.statements[this.statements.length-1];var e=this.statements.join(";"),r=n.join(`
`)+`
`+["return {","  eval: function (scope) {","    scope = scope || {}","    $$processScope(scope)","    "+e,"  },","  code: '"+e+"'","}"].join(`
`),i=new Function("defs",r);return i(this.defs)};Ir.prototype.parse=function(t){var n=this,e=new Oy().parse(t);return this.statements=e.blocks.map(function(r){return n.interpreter.next(r)}),this};var Ry=Ir,Fy=Ry,Hy=function(){var t=Object.create(Math);return t.factory=function(n){if(typeof n!="number")throw new TypeError("built-in math factory only accepts numbers");return Number(n)},t.add=function(n,e){return n+e},t.sub=function(n,e){return n-e},t.mul=function(n,e){return n*e},t.div=function(n,e){return n/e},t.mod=function(n,e){return n%e},t.factorial=function(n){for(var e=1,r=2;r<=n;r+=1)e*=r;return e},t.nthRoot=function(n,e){var r=e<0;if(r&&(e=-e),e===0)throw new Error("Root must be non-zero");if(n<0&&Math.abs(e)%2!==1)throw new Error("Root must be odd when a is negative.");if(n===0)return 0;if(!isFinite(n))return r?0:n;var i=Math.pow(Math.abs(n),1/e);return i=n<0?-i:i,r?1/i:i},t.logicalOR=function(n,e){return n||e},t.logicalXOR=function(n,e){return n!=e},t.logicalAND=function(n,e){return n&&e},t.bitwiseOR=function(n,e){return n|e},t.bitwiseXOR=function(n,e){return n^e},t.bitwiseAND=function(n,e){return n&e},t.lessThan=function(n,e){return n<e},t.lessEqualThan=function(n,e){return n<=e},t.greaterThan=function(n,e){return n>e},t.greaterEqualThan=function(n,e){return n>=e},t.equal=function(n,e){return n==e},t.strictlyEqual=function(n,e){return n===e},t.notEqual=function(n,e){return n!=e},t.strictlyNotEqual=function(n,e){return n!==e},t.shiftRight=function(n,e){return n>>e},t.shiftLeft=function(n,e){return n<<e},t.unsignedRightShift=function(n,e){return n>>>e},t.negative=function(n){return-n},t.positive=function(n){return n},t},zy=Fy,Do=Hy();function Yy(t){Object.keys(t).forEach(function(n){var e=t[n];t[n]=Do.factory(e)})}To.exports=function(t){return new zy().setDefs({$$processScope:Yy}).parse(t).compile(Do)};To.exports.math=Do;var qy=To.exports,Uy=qy,Cr={exports:{}},Xy=function(t){var n=this,e=[];this.rawify(this.options.rawArrayExpressionElements,function(){e=t.nodes.map(function(i){return n.next(i)})});var r="["+e.join(",")+"]";return this.options.raw?r:this.options.factory+"("+r+")"},By=function(t){return'scope["'+t.name+'"] = '+this.next(t.expr)},jy=function(t){var n="!!("+this.next(t.condition)+")",e=this.next(t.trueExpr),r=this.next(t.falseExpr);return"("+n+" ? ("+e+") : ("+r+") )"},Wy=function(t){return this.options.raw?t.value:this.options.factory+"("+t.value+")"},Ro={exports:{}},Gy=_n.nodeTypes.SymbolNode,Sc=function(t){return"$$mathCodegen.functionProxy("+this.next(new Gy(t.name))+', "'+t.name+'")'};Ro.exports=function(t){var n=this,e=Sc.call(this,t),r=[];return this.rawify(this.options.rawCallExpressionElements,function(){r=t.args.map(function(i){return n.next(i)})}),e+"("+r.join(", ")+")"};Ro.exports.functionProxy=Sc;var Vy=Ro.exports,Zy={"+":"add","-":"sub","*":"mul","/":"div","^":"pow","%":"mod","!":"factorial","|":"bitwiseOR","^|":"bitwiseXOR","&":"bitwiseAND","||":"logicalOR",xor:"logicalXOR","&&":"logicalAND","<":"lessThan",">":"greaterThan","<=":"lessEqualThan",">=":"greaterEqualThan","===":"strictlyEqual","==":"equal","!==":"strictlyNotEqual","!=":"notEqual",">>":"shiftRight","<<":"shiftLeft",">>>":"unsignedRightShift"},Qy=Zy,Ky=function(t){if(this.options.raw)return["("+this.next(t.args[0]),t.op,this.next(t.args[1])+")"].join(" ");var n=Qy[t.op];if(!n)throw TypeError("unidentified operator");return this.FunctionNode({name:n,args:t.args})},Jy=function(t){var n=t.name;return'$$mathCodegen.getProperty("'+n+'", scope, ns)'},tv={"+":"positive","-":"negative","~":"oneComplement"},xs=tv,nv=function(t){if(this.options.raw)return t.op+this.next(t.argument);if(!(t.op in xs))throw new SyntaxError(t.op+" not implemented");var n=xs[t.op];return this.FunctionNode({name:n,args:[t.argument]})},Nc=Ar,ev={ArrayNode:Xy,AssignmentNode:By,ConditionalNode:jy,ConstantNode:Wy,FunctionNode:Vy,OperatorNode:Ky,SymbolNode:Jy,UnaryNode:nv},Lr=function(t,n){this.owner=t,this.options=Nc({factory:"ns.factory",raw:!1,rawArrayExpressionElements:!0,rawCallExpressionElements:!1,applyFactoryToScope:!1},n)};Nc(Lr.prototype,ev);Lr.prototype.next=function(t){if(!(t.type in this))throw new TypeError("the node type "+t.type+" is not implemented");return this[t.type](t)};Lr.prototype.rawify=function(t,n){var e=this.options.raw;t&&(this.options.raw=!0),n(),t&&(this.options.raw=e)};var rv=Lr,iv=_n.Parser,ov=rv,av=Ar;function Or(t,n){this.statements=[],this.defs=n||{},this.interpreter=new ov(this,t)}Or.prototype.setDefs=function(t){return this.defs=av(this.defs,t),this};Or.prototype.compile=function(t){var n=this;if(!t||!(typeof t=="object"||typeof t=="function"))throw TypeError("namespace must be an object");if(typeof t.factory!="function")throw TypeError("namespace.factory must be a function");this.defs.ns=t,this.defs.$$mathCodegen={getProperty:function(a,s,u){function l(c){return n.interpreter.options.applyFactoryToScope&&typeof c!="function"?u.factory(c):c}if(a in s)return l(s[a]);if(a in u)return l(u[a]);throw SyntaxError('symbol "'+a+'" is undefined')},functionProxy:function(a,s){if(typeof a!="function")throw SyntaxError('symbol "'+s+'" must be a function');return a}},this.defs.$$processScope=this.defs.$$processScope||function(){};var e=Object.keys(this.defs).map(function(a){return"var "+a+' = defs["'+a+'"]'});if(!this.statements.length)throw Error("there are no statements saved in this generator, make sure you parse an expression before compiling it");this.statements[this.statements.length-1]="return "+this.statements[this.statements.length-1];var r=this.statements.join(";"),i=e.join(`
`)+`
`+["return {","  eval: function (scope) {","    scope = scope || {}","    $$processScope(scope)","    "+r,"  },","  code: '"+r+"'","}"].join(`
`),o=new Function("defs",i);return o(this.defs)};Or.prototype.parse=function(t){var n=this,e=new iv().parse(t);return this.statements=e.blocks.map(function(r){return n.interpreter.next(r)}),this};var sv=Or,uv=sv;function nr(t){return typeof t=="object"&&typeof t.lo=="number"&&typeof t.hi=="number"}function O(t){return t.lo>t.hi}function Pr(t){return t.lo===-1/0&&t.hi===1/0}function Ln(t){return t.lo===t.hi}function Yn(t){return Fo(t,0)}function Fo(t,n){return O(t)?!1:t.lo<=n&&n<=t.hi}function Ec(t,n){return O(t)?!0:!O(n)&&n.lo<=t.lo&&t.hi<=n.hi}function Dr(t,n){return O(t)||O(n)?!1:t.lo<=n.lo&&n.lo<=t.hi||n.lo<=t.lo&&t.lo<=n.hi}const lv=Object.freeze(Object.defineProperty({__proto__:null,hasInterval:Ec,hasValue:Fo,intervalsOverlap:Dr,isEmpty:O,isInterval:nr,isSingleton:Ln,isWhole:Pr,zeroIn:Yn},Symbol.toStringTag,{value:"Module"}));var Ho={exports:{}};Ho.exports;(function(t){var n=!1;if(typeof Float64Array<"u"){var e=new Float64Array(1),r=new Uint32Array(e.buffer);if(e[0]=1,n=!0,r[1]===1072693248){let o=function(u,l){return r[0]=u,r[1]=l,e[0]},a=function(u){return e[0]=u,r[0]},s=function(u){return e[0]=u,r[1]};t.exports=function(l){return e[0]=l,[r[0],r[1]]},t.exports.pack=o,t.exports.lo=a,t.exports.hi=s}else if(r[0]===1072693248){let o=function(u,l){return r[1]=u,r[0]=l,e[0]},a=function(u){return e[0]=u,r[1]},s=function(u){return e[0]=u,r[0]};t.exports=function(l){return e[0]=l,[r[1],r[0]]},t.exports.pack=o,t.exports.lo=a,t.exports.hi=s}else n=!1}if(!n){let o=function(u,l){return i.writeUInt32LE(u,0,!0),i.writeUInt32LE(l,4,!0),i.readDoubleLE(0,!0)},a=function(u){return i.writeDoubleLE(u,0,!0),i.readUInt32LE(0,!0)},s=function(u){return i.writeDoubleLE(u,0,!0),i.readUInt32LE(4,!0)};var i=new Tf(8);t.exports=function(l){return i.writeDoubleLE(l,0,!0),[i.readUInt32LE(0,!0),i.readUInt32LE(4,!0)]},t.exports.pack=o,t.exports.lo=a,t.exports.hi=s}t.exports.sign=function(o){return t.exports.hi(o)>>>31},t.exports.exponent=function(o){var a=t.exports.hi(o);return(a<<1>>>21)-1023},t.exports.fraction=function(o){var a=t.exports.lo(o),s=t.exports.hi(o),u=s&(1<<20)-1;return s&2146435072&&(u+=1<<20),[a,u]},t.exports.denormalized=function(o){var a=t.exports.hi(o);return!(a&2146435072)}})(Ho);var cv=Ho.exports,si=cv,bs=Math.pow(2,-1074),Ms=-1>>>0,fv=hv;function hv(t,n){if(isNaN(t)||isNaN(n))return NaN;if(t===n)return t;if(t===0)return n<0?-bs:bs;var e=si.hi(t),r=si.lo(t);return n>t==t>0?r===Ms?(e+=1,r=0):r+=1:r===0?(r=Ms,e-=1):r-=1,si.pack(r,e)}const kc=Mf(fv);function pv(t){return t}function Ii(t){return t===1/0?t:kc(t,-1/0)}function Ci(t){return t===-1/0?t:kc(t,1/0)}function Ts(t){return t<0?Math.ceil(t):Math.floor(t)}const wn={prev:Ii,next:Ci},d={safePrev:Ii,safeNext:Ci,prev(t){return wn.prev(t)},next(t){return wn.next(t)},addLo(t,n){return d.prev(t+n)},addHi(t,n){return d.next(t+n)},subLo(t,n){return d.prev(t-n)},subHi(t,n){return d.next(t-n)},mulLo(t,n){return d.prev(t*n)},mulHi(t,n){return d.next(t*n)},divLo(t,n){return d.prev(t/n)},divHi(t,n){return d.next(t/n)},intLo(t){return Ts(d.prev(t))},intHi(t){return Ts(d.next(t))},logLo(t){return d.prev(Math.log(t))},logHi(t){return d.next(Math.log(t))},expLo(t){return d.prev(Math.exp(t))},expHi(t){return d.next(Math.exp(t))},sinLo(t){return d.prev(Math.sin(t))},sinHi(t){return d.next(Math.sin(t))},cosLo(t){return d.prev(Math.cos(t))},cosHi(t){return d.next(Math.cos(t))},tanLo(t){return d.prev(Math.tan(t))},tanHi(t){return d.next(Math.tan(t))},asinLo(t){return d.prev(Math.asin(t))},asinHi(t){return d.next(Math.asin(t))},acosLo(t){return d.prev(Math.acos(t))},acosHi(t){return d.next(Math.acos(t))},atanLo(t){return d.prev(Math.atan(t))},atanHi(t){return d.next(Math.atan(t))},sinhLo(t){return d.prev(Math.sinh(t))},sinhHi(t){return d.next(Math.sinh(t))},coshLo(t){return d.prev(Math.cosh(t))},coshHi(t){return d.next(Math.cosh(t))},tanhLo(t){return d.prev(Math.tanh(t))},tanhHi(t){return d.next(Math.tanh(t))},powLo(t,n){if(n%1!==0)return d.prev(Math.pow(t,n));let e=(n&1)===1?t:1;for(n>>=1;n>0;)t=d.mulLo(t,t),(n&1)===1&&(e=d.mulLo(t,e)),n>>=1;return e},powHi(t,n){if(n%1!==0)return d.next(Math.pow(t,n));let e=(n&1)===1?t:1;for(n>>=1;n>0;)t=d.mulHi(t,t),(n&1)===1&&(e=d.mulHi(t,e)),n>>=1;return e},sqrtLo(t){return d.prev(Math.sqrt(t))},sqrtHi(t){return d.next(Math.sqrt(t))},disable(){wn.next=wn.prev=pv},enable(){wn.next=Ci,wn.prev=Ii}};class le{constructor(n,e){if(this.lo=0,this.hi=0,!(this instanceof le))return console.log("calling with new"),console.log(n,e),new le(n,e);if(typeof n<"u"&&typeof e<"u"){if(nr(n)){if(!Ln(n))throw new TypeError("Interval: interval `lo` must be a singleton");n=n.lo}if(nr(e)){if(!Ln(e))throw TypeError("Interval: interval `hi` must be a singleton");e=e.hi}}else{if(typeof n<"u")return Array.isArray(n)?new E(n[0],n[1]):new E(n,n);n=e=0}this.assign(n,e)}singleton(n){return this.set(n,n)}bounded(n,e){return this.set(d.prev(n),d.next(e))}boundedSingleton(n){return this.bounded(n,n)}set(n,e){return this.lo=n,this.hi=e,this}assign(n,e){if(typeof n!="number"||typeof e!="number")throw TypeError("Interval#assign: arguments must be numbers");return isNaN(n)||isNaN(e)||n>e?this.setEmpty():this.set(n,e)}setEmpty(){return this.set(Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY)}setWhole(){return this.set(Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY)}open(n,e){return this.assign(d.safeNext(n),d.safePrev(e))}halfOpenLeft(n,e){return this.assign(d.safeNext(n),e)}halfOpenRight(n,e){return this.assign(n,d.safePrev(e))}toArray(){return[this.lo,this.hi]}clone(){return new E().set(this.lo,this.hi)}}function mv(t){function n(){for(var e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=arguments[i];return new(Function.prototype.bind.apply(t,[null].concat(r)))}return n.prototype=t.prototype,n}const E=mv(le);E.factory=E;const Te=(3373259426+273688/(1<<21))/(1<<30),Se=(3373259426+273689/(1<<21))/(1<<30),A={PI_LOW:Te,PI_HIGH:Se,PI_HALF_LOW:Te/2,PI_HALF_HIGH:Se/2,PI_TWICE_LOW:Te*2,PI_TWICE_HIGH:Se*2,get E(){return new E(d.prev(Math.E),d.next(Math.E))},get PI(){return new E(Te,Se)},get PI_HALF(){return new E(A.PI_HALF_LOW,A.PI_HALF_HIGH)},get PI_TWICE(){return new E(A.PI_TWICE_LOW,A.PI_TWICE_HIGH)},get ZERO(){return new E(0)},get ONE(){return new E(1)},get WHOLE(){return new E().setWhole()},get EMPTY(){return new E().setEmpty()}};function Ac(t,n){return O(t)?O(n):!O(n)&&t.lo===n.lo&&t.hi===n.hi}const dv=1e-7;function er(t,n){if(!t)throw new Error(n||"assertion failed")}function Ss(t,n){if(!isFinite(t))return er(t===n,`[Infinity] expected ${t} to be ${n}`);er(Math.abs(t-n)<dv,`expected ${t} to be close to ${n}`)}function zo(t,n){t=Array.isArray(t)?t:t.toArray(),n=Array.isArray(n)?n:n.toArray(),Ss(t[0],n[0]),Ss(t[1],n[1])}function $c(t,n){zo(t,n),t=Array.isArray(t)?t:t.toArray(),n=Array.isArray(n)?n:n.toArray(),er(t[0]<=n[0],`${t[0]} should be less/equal than ${n[0]}`),er(n[1]<=t[1],`${n[1]} should be less/equal than ${t[1]}`)}function Ic(t,n){return O(t)?!O(n):O(n)||t.hi<n.lo||t.lo>n.hi}function Yo(t,n){return O(t)||O(n)?!1:t.hi<n.lo}const Cc=Yo;function qo(t,n){return O(t)||O(n)?!1:t.lo>n.hi}const Lc=qo;function Uo(t,n){return O(t)||O(n)?!1:t.hi<=n.lo}const Oc=Uo;function Xo(t,n){return O(t)||O(n)?!1:t.lo>=n.hi}const Pc=Xo,gv=Object.freeze(Object.defineProperty({__proto__:null,almostEqual:zo,assertIncludes:$c,equal:Ac,geq:Pc,greaterEqualThan:Xo,greaterThan:qo,gt:Lc,leq:Oc,lessEqualThan:Uo,lessThan:Yo,lt:Cc,notEqual:Ic},Symbol.toStringTag,{value:"Module"}));function _v(t,n){const e=t.lo,r=t.hi,i=n.lo,o=n.hi,a=new E;return r<0?o<0?(a.lo=d.divLo(r,i),a.hi=d.divHi(e,o)):(a.lo=d.divLo(e,i),a.hi=d.divHi(r,o)):e<0?o<0?(a.lo=d.divLo(r,o),a.hi=d.divHi(e,o)):(a.lo=d.divLo(e,i),a.hi=d.divHi(r,i)):o<0?(a.lo=d.divLo(r,o),a.hi=d.divHi(e,i)):(a.lo=d.divLo(e,o),a.hi=d.divHi(r,i)),a}function yv(t,n){return t.lo===0&&t.hi===0?t:Yn(t)?A.WHOLE:t.hi<0?new E(Number.NEGATIVE_INFINITY,d.divHi(t.hi,n)):new E(d.divLo(t.lo,n),Number.POSITIVE_INFINITY)}function vv(t,n){return t.lo===0&&t.hi===0?t:Yn(t)?A.WHOLE:t.hi<0?new E(d.divLo(t.hi,n),Number.POSITIVE_INFINITY):new E(Number.NEGATIVE_INFINITY,d.divHi(t.lo,n))}function wv(t){return t.lo===0&&t.hi===0?t:A.WHOLE}function Dc(t,n){return new E(d.addLo(t.lo,n.lo),d.addHi(t.hi,n.hi))}function Bo(t,n){return new E(d.subLo(t.lo,n.hi),d.subHi(t.hi,n.lo))}const qn=Bo;function jo(t,n){if(O(t)||O(n))return A.EMPTY;const e=t.lo,r=t.hi,i=n.lo,o=n.hi,a=new E;return e<0?r>0?i<0?o>0?(a.lo=Math.min(d.mulLo(e,o),d.mulLo(r,i)),a.hi=Math.max(d.mulHi(e,i),d.mulHi(r,o))):(a.lo=d.mulLo(r,i),a.hi=d.mulHi(e,i)):o>0?(a.lo=d.mulLo(e,o),a.hi=d.mulHi(r,o)):(a.lo=0,a.hi=0):i<0?o>0?(a.lo=d.mulLo(e,o),a.hi=d.mulHi(e,i)):(a.lo=d.mulLo(r,o),a.hi=d.mulHi(e,i)):o>0?(a.lo=d.mulLo(e,o),a.hi=d.mulHi(r,i)):(a.lo=0,a.hi=0):r>0?i<0?o>0?(a.lo=d.mulLo(r,i),a.hi=d.mulHi(r,o)):(a.lo=d.mulLo(r,i),a.hi=d.mulHi(e,o)):o>0?(a.lo=d.mulLo(e,i),a.hi=d.mulHi(r,o)):(a.lo=0,a.hi=0):(a.lo=0,a.hi=0),a}const Wo=jo;function Go(t,n){return O(t)||O(n)?A.EMPTY:Yn(n)?n.lo!==0?n.hi!==0?wv(t):vv(t,n.lo):n.hi!==0?yv(t,n.hi):A.EMPTY:_v(t,n)}const Rr=Go;function Rc(t){return new E(t.lo,t.hi)}function Fr(t){return new E(-t.hi,-t.lo)}const xv=Object.freeze(Object.defineProperty({__proto__:null,add:Dc,div:Rr,divide:Go,mul:Wo,multiply:jo,negative:Fr,positive:Rc,sub:qn,subtract:Bo},Symbol.toStringTag,{value:"Module"}));function Hr(t,n){if(O(t)||O(n))return A.EMPTY;const e=t.lo<0?n.lo:n.hi;let r=t.lo/e;return r<0?r=Math.ceil(r):r=Math.floor(r),qn(t,Wo(n,new E(r)))}function Vo(t){return O(t)?A.EMPTY:Yn(t)?t.lo!==0?t.hi!==0?A.WHOLE:new E(Number.NEGATIVE_INFINITY,d.divHi(1,t.lo)):t.hi!==0?new E(d.divLo(1,t.hi),Number.POSITIVE_INFINITY):A.EMPTY:new E(d.divLo(1,t.hi),d.divHi(1,t.lo))}function Zo(t,n){if(O(t))return A.EMPTY;if(typeof n=="object"){if(!Ln(n))return A.EMPTY;n=n.lo}if(n===0)return t.lo===0&&t.hi===0?A.EMPTY:A.ONE;if(n<0)return Zo(Vo(t),-n);if(Number.isSafeInteger(n))if(t.hi<0){const e=d.powLo(-t.hi,n),r=d.powHi(-t.lo,n);return(n&1)===1?new E(-r,-e):new E(e,r)}else return t.lo<0?(n&1)===1?new E(-d.powLo(-t.lo,n),d.powHi(t.hi,n)):new E(0,d.powHi(Math.max(-t.lo,t.hi),n)):new E(d.powLo(t.lo,n),d.powHi(t.hi,n));else return console.warn("power is not an integer, you should use nth-root instead, returning an empty interval"),A.EMPTY}function Fc(t){return Qo(t,2)}function Qo(t,n){if(O(t)||n<0)return A.EMPTY;if(typeof n=="object"){if(!Ln(n))return A.EMPTY;n=n.lo}const e=1/n;if(t.hi<0){if(Number.isSafeInteger(n)&&(n&1)===1){const r=d.powHi(-t.lo,e),i=d.powLo(-t.hi,e);return new E(-r,-i)}return A.EMPTY}else if(t.lo<0){const r=d.powHi(t.hi,e);if(Number.isSafeInteger(n)&&(n&1)===1){const i=-d.powHi(-t.lo,e);return new E(i,r)}return new E(0,r)}else return new E(d.powLo(t.lo,e),d.powHi(t.hi,e))}const bv=Object.freeze(Object.defineProperty({__proto__:null,fmod:Hr,multiplicativeInverse:Vo,nthRoot:Qo,pow:Zo,sqrt:Fc},Symbol.toStringTag,{value:"Module"}));function Hc(t){return O(t)?A.EMPTY:new E(d.expLo(t.lo),d.expHi(t.hi))}function yn(t){if(O(t))return A.EMPTY;const n=t.lo<=0?Number.NEGATIVE_INFINITY:d.logLo(t.lo);return new E(n,d.logHi(t.hi))}const zc=yn,Ko=yn(new E(10,10));function Yc(t){return O(t)?A.EMPTY:Rr(yn(t),Ko)}const Jo=yn(new E(2,2));function qc(t){return O(t)?A.EMPTY:Rr(yn(t),Jo)}function Uc(t,n){const e=O(t),r=O(n);return e&&r?A.EMPTY:e?n.clone():r?t.clone():new E(Math.min(t.lo,n.lo),Math.max(t.hi,n.hi))}function Xc(t,n){if(O(t)||O(n))return A.EMPTY;const e=Math.max(t.lo,n.lo),r=Math.min(t.hi,n.hi);return e<=r?new E(e,r):A.EMPTY}function Bc(t,n){if(!Dr(t,n))throw Error("Interval#union: intervals do not overlap");return new E(Math.min(t.lo,n.lo),Math.max(t.hi,n.hi))}function jc(t,n){if(O(t)||Pr(n))return A.EMPTY;if(Dr(t,n)){if(t.lo<n.lo&&n.hi<t.hi)throw Error("Interval.difference: difference creates multiple intervals");return n.lo<=t.lo&&n.hi===1/0||n.hi>=t.hi&&n.lo===-1/0?A.EMPTY:n.lo<=t.lo?new E().halfOpenLeft(n.hi,t.hi):new E().halfOpenRight(t.lo,n.lo)}return t.clone()}function zr(t){return O(t)?0:d.subHi(t.hi,t.lo)}const Wc=zr;function Gc(t){return O(t)||Pr(t)?A.EMPTY:t.lo>=0?t.clone():t.hi<=0?Fr(t):new E(0,Math.max(-t.lo,t.hi))}function Vc(t,n){const e=O(t),r=O(n);return e&&r?A.EMPTY:e?n.clone():r?t.clone():new E(Math.max(t.lo,n.lo),Math.max(t.hi,n.hi))}function Zc(t,n){const e=O(t),r=O(n);return e&&r?A.EMPTY:e?n.clone():r?t.clone():new E(Math.min(t.lo,n.lo),Math.min(t.hi,n.hi))}function Qc(t){return new E().set(t.lo,t.hi)}const Mv=Object.freeze(Object.defineProperty({__proto__:null,LOG_EXP_10:Ko,LOG_EXP_2:Jo,abs:Gc,clone:Qc,difference:jc,exp:Hc,hull:Uc,intersection:Xc,ln:zc,log:yn,log10:Yc,log2:qc,max:Vc,min:Zc,union:Bc,wid:Wc,width:zr},Symbol.toStringTag,{value:"Module"}));function ta(t){return!isFinite(t.lo)&&t.lo===t.hi}function Kc(t){if(t.lo<0)if(t.lo===-1/0)t.lo=0,t.hi=1/0;else{const n=Math.ceil(-t.lo/A.PI_TWICE_LOW);t.lo+=A.PI_TWICE_LOW*n,t.hi+=A.PI_TWICE_LOW*n}return t}function Yr(t){if(O(t)||ta(t))return A.EMPTY;const n=new E().set(t.lo,t.hi);Kc(n);const e=A.PI_TWICE,r=Hr(n,e);if(zr(r)>=e.lo)return new E(-1,1);if(r.lo>=A.PI_HIGH){const u=Yr(qn(r,A.PI));return Fr(u)}const i=r.lo,o=r.hi,a=d.cosLo(o),s=d.cosHi(i);return o<=A.PI_LOW?new E(a,s):o<=e.lo?new E(-1,Math.max(a,s)):new E(-1,1)}function Jc(t){return O(t)||ta(t)?A.EMPTY:Yr(qn(t,A.PI_HALF))}function tf(t){if(O(t)||ta(t))return A.EMPTY;const n=new E().set(t.lo,t.hi);Kc(n);const e=A.PI;let r=Hr(n,e);return r.lo>=A.PI_HALF_LOW&&(r=qn(r,e)),r.lo<=-A.PI_HALF_LOW||r.hi>=A.PI_HALF_LOW?A.WHOLE:new E(d.tanLo(r.lo),d.tanHi(r.hi))}function nf(t){if(O(t)||t.hi<-1||t.lo>1)return A.EMPTY;const n=t.lo<=-1?-A.PI_HALF_HIGH:d.asinLo(t.lo),e=t.hi>=1?A.PI_HALF_HIGH:d.asinHi(t.hi);return new E(n,e)}function ef(t){if(O(t)||t.hi<-1||t.lo>1)return A.EMPTY;const n=t.hi>=1?0:d.acosLo(t.hi),e=t.lo<=-1?A.PI_HIGH:d.acosHi(t.lo);return new E(n,e)}function rf(t){return O(t)?A.EMPTY:new E(d.atanLo(t.lo),d.atanHi(t.hi))}function of(t){return O(t)?A.EMPTY:new E(d.sinhLo(t.lo),d.sinhHi(t.hi))}function af(t){return O(t)?A.EMPTY:t.hi<0?new E(d.coshLo(t.hi),d.coshHi(t.lo)):t.lo>=0?new E(d.coshLo(t.lo),d.coshHi(t.hi)):new E(1,d.coshHi(-t.lo>t.hi?t.lo:t.hi))}function sf(t){return O(t)?A.EMPTY:new E(d.tanhLo(t.lo),d.tanhHi(t.hi))}const Tv=Object.freeze(Object.defineProperty({__proto__:null,acos:ef,asin:nf,atan:rf,cos:Yr,cosh:af,sin:Jc,sinh:of,tan:tf,tanh:sf},Symbol.toStringTag,{value:"Module"})),Sv=Object.assign(E,A,d,Mv,lv,gv,xv,bv,Tv,{round:d}),Nv=Object.freeze(Object.defineProperty({__proto__:null,Interval:le,LOG_EXP_10:Ko,LOG_EXP_2:Jo,abs:Gc,acos:ef,add:Dc,almostEqual:zo,asin:nf,assertIncludes:$c,atan:rf,clone:Qc,constants:A,cos:Yr,cosh:af,default:Sv,difference:jc,div:Rr,divide:Go,equal:Ac,exp:Hc,fmod:Hr,geq:Pc,greaterEqualThan:Xo,greaterThan:qo,gt:Lc,hasInterval:Ec,hasValue:Fo,hull:Uc,intersection:Xc,intervalsOverlap:Dr,isEmpty:O,isInterval:nr,isSingleton:Ln,isWhole:Pr,leq:Oc,lessEqualThan:Uo,lessThan:Yo,ln:zc,log:yn,log10:Yc,log2:qc,lt:Cc,max:Vc,min:Zc,mul:Wo,multiplicativeInverse:Vo,multiply:jo,negative:Fr,notEqual:Ic,nthRoot:Qo,positive:Rc,pow:Zo,round:d,sin:Jc,sinh:of,sqrt:Fc,sub:qn,subtract:Bo,tan:tf,tanh:sf,union:Bc,wid:Wc,width:zr,zeroIn:Yn},Symbol.toStringTag,{value:"Module"})),Ev=Yt(Nv);var kv=function(t){t.mod=t.fmod,t.lessThan=t.lt,t.lessEqualThan=t.leq,t.greaterThan=t.gt,t.greaterEqualThan=t.geq,t.strictlyEqual=t.equal,t.strictlyNotEqual=t.notEqual,t.logicalAND=function(n,e){return n&&e},t.logicalXOR=function(n,e){return n^e},t.logicalOR=function(n,e){return n||e}},Av=function(t){return{disableRounding:function(){t.round.disable()},enableRounding:function(){t.round.enable()}}};const $v=uv,On=Ev.default;kv(On);function Iv(t){Object.keys(t).forEach(function(n){const e=t[n];typeof e=="number"||Array.isArray(e)?t[n]=On.factory(e):typeof e=="object"&&"lo"in e&&"hi"in e&&(t[n]=On.factory(e.lo,e.hi))})}Cr.exports=function(t){return new $v().setDefs({$$processScope:Iv}).parse(t).compile(On)};Cr.exports.policies=Av(On);Cr.exports.Interval=On;var Cv=Cr.exports,uf=Cv,lf=H&&H.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Mt,"__esModule",{value:!0});Mt.interval=Mt.builtIn=void 0;const Lv=lf(Uy),Ov=lf(uf),cf={interval:Ov.default,builtIn:Lv.default};H.math&&(cf.builtIn=H.math.compile);function ff(t){function n(o){if(typeof o=="string"){const a=cf[t](o);return H.math&&t==="builtIn"?{eval:a.evaluate||a.eval}:a}else{if(typeof o=="function")return{eval:o};throw Error("expression must be a string or a function")}}function e(o,a){const s=o[a],u=t+"_Expression_"+a,l=t+"_Compiled_"+a;s!==o[u]&&(o[u]=s,o[l]=n(s))}function r(o,a){return o[t+"_Compiled_"+a]}function i(o,a,s){return e(o,a),r(o,a).eval(Object.assign({},o.scope||{},s))}return i}const Pv=ff("builtIn");Mt.builtIn=Pv;const Dv=ff("interval");Mt.interval=Dv;var na=H&&H.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(bo,"__esModule",{value:!0});const Rv=ur,Fv=Ut,Ns=na(Mo),ui=na(Qt),Es=na(zn),ks=Mt;function Hv(t){t=Object.assign({xLine:!1,yLine:!1,renderer:function(s,u){return"("+s.toFixed(3)+", "+u.toFixed(3)+")"},owner:null},t);const n=20,e=(0,Rv.line)().x(function(s){return s[0]}).y(function(s){return s[1]});function r(s,u){return s.append("path").datum(u).attr("stroke","grey").attr("stroke-dasharray","5,5").attr("opacity",.5).attr("d",e)}let i,o;function a(s){const u=s.selectAll("g.tip").data(function(c){return[c]}),l=u.enter().append("g").attr("class","tip").attr("clip-path","url(#function-plot-clip-"+t.owner.id+")");i=u.merge(l).selectAll("g.inner-tip").data(function(c){return[c]}),o=i.enter().append("g").attr("class","inner-tip").style("display","none").each(function(){const c=(0,Fv.select)(this);r(c,[[0,-t.owner.meta.height-n],[0,t.owner.meta.height+n]]).attr("class","tip-x-line").style("display","none"),r(c,[[-t.owner.meta.width-n,0],[t.owner.meta.width+n,0]]).attr("class","tip-y-line").style("display","none"),c.append("circle").attr("r",3),c.append("text").attr("transform","translate(5,-5)")}),i.merge(o).selectAll(".tip-x-line").style("display",t.xLine?null:"none"),i.merge(o).selectAll(".tip-y-line").style("display",t.yLine?null:"none")}return a.move=function(s){let u,l=1/0,c=-1,h,f;const p=i.merge(o),_=1e8,g=t.owner.meta,w=p.datum().data,y=g.xScale,M=g.yScale,T=g.width,I=g.height,C=s.x,b=s.y;for(u=0;u<w.length;u+=1){if(w[u].skipTip||w[u].fnType!=="linear")continue;const F=w[u].range||[-_,_];let W;if(C>F[0]-Es.default.TIP_X_EPS&&C<F[1]+Es.default.TIP_X_EPS){try{W=(0,ks.builtIn)(w[u],"fn",{x:C})}catch{}if(ui.default.isValidNumber(W)){const U=Math.abs(W-b);U<l&&(l=U,c=u)}}}if(c!==-1){h=C,w[c].range&&(h=Math.max(h,w[c].range[0]),h=Math.min(h,w[c].range[1])),f=(0,ks.builtIn)(w[c],"fn",{x:h}),a.show(),t.owner.emit("tip:update",{x:h,y:f,index:c});const F=(0,Ns.default)(h,y.invert(-n),y.invert(T+n)),W=(0,Ns.default)(f,M.invert(I+n),M.invert(-n)),U=ui.default.color(w[c],c);p.style("color","red"),p.attr("transform","translate("+y(F)+","+M(W)+")"),p.select("circle").attr("fill",U),p.select("text").attr("fill",U).text(t.renderer(h,f,c))}else a.hide()},a.show=function(){i.merge(o).style("display",null)},a.hide=function(){i.merge(o).style("display","none")},Object.keys(t).forEach(function(s){ui.default.getterSetter.call(a,t,s)}),a}bo.default=Hv;var ea={},ra={},$t={},ia={},ge={},Pn={},oa={},hf=H&&H.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(oa,"__esModule",{value:!0});const zv=hf(Mo),Ht=hf(Qt),ce=Mt;function pf(t,n,e,r,i){if(!i)return{asymptote:!0,d0:t,d1:n};const o=10,a=t[0],s=n[0],u=Ht.default.linspace(a,s,o);let l,c;for(let h=0;h<o;h+=1){const f=u[h],p=(0,ce.builtIn)(e,"fn",{x:f});if(h&&l){const _=p-l;if(Ht.default.sgn(_)===r)return pf([c,l],[f,p],e,r,i-1)}l=p,c=f}return{asymptote:!1,d0:t,d1:n}}function Yv(t,n,e){let r,i,o,a=[];const s=[],u=t.meta.yScale.domain(),l=u[0],c=u[1];e[0]&&(a.push(e[0]),o=e[1][0]-e[0][0],i=Ht.default.sgn(e[1][1]-e[0][1]));function h(f){return f[1]=Math.min(f[1],c),f[1]=Math.max(f[1],l),f}for(r=1;r<e.length;){const f=e[r-1][1],_=e[r][1]-f,g=Ht.default.sgn(_);if(i!==g&&Math.abs(_/o)>1/1){const w=pf(e[r-1],e[r],n,g,3);w.asymptote&&(a.push(h(w.d0)),s.push(a),a=[h(w.d1)])}i=g,a.push(e[r]),++r}return a.length&&s.push(a),s}function qv(t,n,e,r){const i=Ht.default.space(t,e,r),o=t.meta.yScale.domain(),a=o[1]-o[0],s=o[0]-a*1e5,u=o[1]+a*1e5;let l=[];for(let c=0;c<i.length;c+=1){const h=i[c],f=(0,ce.builtIn)(n,"fn",{x:h});Ht.default.isValidNumber(h)&&Ht.default.isValidNumber(f)&&l.push([h,(0,zv.default)(f,s,u)])}return l=Yv(t,n,l),l}function Uv(t,n,e,r){const i=n.range||[0,2*Math.PI],o=Ht.default.space(t,i,r),a=[];for(let s=0;s<o.length;s+=1){const u=o[s],l=(0,ce.builtIn)(n,"x",{t:u}),c=(0,ce.builtIn)(n,"y",{t:u});a.push([l,c])}return[a]}function Xv(t,n,e,r){const i=n.range||[-Math.PI,Math.PI],o=Ht.default.space(t,i,r),a=[];for(let s=0;s<o.length;s+=1){const u=o[s],l=(0,ce.builtIn)(n,"r",{theta:u}),c=l*Math.cos(u),h=l*Math.sin(u);a.push([c,h])}return[a]}function Bv(t,n,e,r){return[n.points]}function jv(t,n,e,r){return n.offset=n.offset||[0,0],[[n.offset,[n.vector[0]+n.offset[0],n.vector[1]+n.offset[1]]]]}const Wv=function(t,n,e,r){const i={parametric:Uv,polar:Xv,points:Bv,vector:jv,linear:qv};if(!(n.fnType in i))throw Error(n.fnType+" is not supported in the `builtIn` sampler");return i[n.fnType].apply(null,arguments)};oa.default=Wv;var aa={},Gv=H&&H.__createBinding||(Object.create?function(t,n,e,r){r===void 0&&(r=e);var i=Object.getOwnPropertyDescriptor(n,e);(!i||("get"in i?!n.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return n[e]}}),Object.defineProperty(t,r,i)}:function(t,n,e,r){r===void 0&&(r=e),t[r]=n[e]}),Vv=H&&H.__setModuleDefault||(Object.create?function(t,n){Object.defineProperty(t,"default",{enumerable:!0,value:n})}:function(t,n){t.default=n}),Zv=H&&H.__importStar||function(t){if(t&&t.__esModule)return t;var n={};if(t!=null)for(var e in t)e!=="default"&&Object.prototype.hasOwnProperty.call(t,e)&&Gv(n,t,e);return Vv(n,t),n},Qv=H&&H.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(aa,"__esModule",{value:!0});const on=Zv(uf),mf=Mt,Kv=Qv(Qt);on.default.policies.disableRounding();function Jv(t,n,e,r){const i=Kv.default.space(t,e,r),o=t.meta.xScale,a=t.meta.yScale,s=a.domain()[0],u=a.domain()[1],l=[];let c;for(c=0;c<i.length-1;c+=1){const h={lo:i[c],hi:i[c+1]},f=(0,mf.interval)(n,"fn",{x:h});!on.Interval.isEmpty(f)&&!on.Interval.isWhole(f)&&l.push([h,f]),on.Interval.isWhole(f)&&l.push(null)}for(c=1;c<l.length-1;c+=1)if(!l[c]){const h=l[c-1],f=l[c+1];h&&f&&!on.Interval.intervalsOverlap(h[1],f[1])&&(h[1].lo>f[1].hi&&(h[1].hi=Math.max(u,h[1].hi),f[1].lo=Math.min(s,f[1].lo)),h[1].hi<f[1].lo&&(h[1].lo=Math.min(s,h[1].lo),f[1].hi=Math.max(u,f[1].hi)))}return l.scaledDx=o(i[1])-o(i[0]),[l]}let df;function t1(t,n){return on.Interval.width(t)<df}function ee(t,n,e){const r=(0,mf.interval)(e,"fn",{x:t,y:n});if(!on.Interval.zeroIn(r))return this;if(t1(t))return this.push([t,n]),this;const o=t.lo+(t.hi-t.lo)/2,a=n.lo+(n.hi-n.lo)/2,s={lo:o,hi:t.hi},u={lo:t.lo,hi:o},l={lo:a,hi:n.hi},c={lo:n.lo,hi:a};ee.call(this,s,l,e),ee.call(this,s,c,e),ee.call(this,u,l,e),ee.call(this,u,c,e)}function n1(t,n){const e=t.meta.xScale,r=t.meta.xScale.domain(),i=t.meta.yScale.domain(),o={lo:r[0],hi:r[1]},a={lo:i[0],hi:i[1]},s=[];return df=e.invert(1)-e.invert(0),ee.call(s,o,a,n),s.scaledDx=1,[s]}const e1=function(t,n,e,r){const i={implicit:n1,linear:Jv};if(!i.hasOwnProperty(n.fnType))throw Error(n.fnType+" is not supported in the `interval` sampler");return i[n.fnType].apply(null,arguments)};aa.default=e1;var gf=H&&H.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Pn,"__esModule",{value:!0});Pn.interval=Pn.builtIn=void 0;const r1=gf(oa);Pn.builtIn=r1.default;const i1=gf(aa);Pn.interval=i1.default;var o1=H&&H.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ge,"__esModule",{value:!0});const As=o1(zn),$s=Pn,a1={interval:$s.interval,builtIn:$s.builtIn};function s1(t,n){const e=n.range||[-1/0,1/0],r=Math.max(t.domain()[0],e[0]),i=Math.min(t.domain()[1],e[1]);return[r,i]}function u1(t,n){const e=s1(t.meta.xScale,n),r=a1[n.sampler],i=n.nSamples||Math.min(As.default.MAX_ITERATIONS,As.default.DEFAULT_ITERATIONS||t.meta.width*2),o=r(t,n,e,i);return t.emit("eval",o,n.index,n.isHelper),o}ge.default=u1;var sa=H&&H.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ia,"__esModule",{value:!0});const Is=Ut,li=ur,l1=sa(Mo),c1=sa(Qt),f1=sa(ge);function h1(t){function n(e){e.each(function(r){const i=n.el=(0,Is.select)(this),o=r.index,a=(0,f1.default)(t,r),s=c1.default.color(r,o),u=i.selectAll(":scope > path.line").data(a),l=t.meta.yScale.range();let c=l[0],h=l[1];const f=c-h;c+=f*1e6,h-=f*1e6,r.skipBoundsCheck&&(c=1/0,h=-1/0);function p(y){return(0,l1.default)(t.meta.yScale(y[1]),h,c)}const _=(0,li.line)().curve(li.curveLinear).x(function(y){return t.meta.xScale(y[0])}).y(p),g=(0,li.area)().x(function(y){return t.meta.yScale(y[0])}).y0(t.meta.yScale(0)).y1(p),w=u.enter().append("path").attr("class","line line-"+o).attr("stroke-width",1).attr("stroke-linecap","round");u.merge(w).each(function(){const y=(0,Is.select)(this);let M;if(r.closed?(y.attr("fill",s),y.attr("fill-opacity",.3),M=g):(y.attr("fill","none"),M=_),y.attr("stroke",s).attr("marker-end",function(){return r.fnType==="vector"?"url(#"+t.markerId+")":null}).attr("d",M),r.attr)for(let T in r.attr)r.attr.hasOwnProperty(T)&&y.attr(T,r.attr[T])}),u.exit().remove()})}return n}ia.default=h1;var ua={},_f=H&&H.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ua,"__esModule",{value:!0});const p1=Ut,m1=_f(ge),d1=_f(Qt);function g1(t){let n;const e=t.meta.xScale,r=t.meta.yScale;function i(s,u,l,c){if(l>c){const p=l;l=c,c=p}const h=Math.min(u,c),f=Math.max(s,l);return f>h?[-n,0]:[f,h]}const o=function(s,u){let l="";const c=r.range(),h=Math.min.apply(Math,c),f=Math.max.apply(Math,c);for(let p=0,_=s.length;p<_;p+=1)if(s[p]){const g=s[p][0],w=s[p][1];let y=w.lo,M=w.hi;u&&(y=Math.min(y,0),M=Math.max(M,0));const T=e(g.lo)+s.scaledDx/2,I=i(h,f,isFinite(M)?r(M):-1/0,isFinite(y)?r(y):1/0),C=I[0],b=I[1];l+=" M "+T+" "+C,l+=" v "+Math.max(b-C,n)}return l};function a(s){s.each(function(u){const l=a.el=(0,p1.select)(this),c=u.index,h=u.closed,f=(0,m1.default)(t,u),p=l.selectAll(":scope > path.line").data(f);n=Math.max(f[0].scaledDx,1);const _=p.enter().append("path").attr("class","line line-"+c).attr("fill","none"),g=p.merge(_).attr("stroke-width",n).attr("stroke",d1.default.color(u,c)).attr("opacity",h?.5:1).attr("d",function(w){return o(w,h)});if(u.attr)for(let w in u.attr)u.attr.hasOwnProperty(w)&&g.attr(w,u.attr[w]);p.exit().remove()})}return a}ua.default=g1;var la={},yf=H&&H.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(la,"__esModule",{value:!0});const _1=Ut,y1=sc,v1=yf(Qt),w1=yf(ge);function x1(t){const n=t.meta.xScale,e=t.meta.yScale;function r(i){i.each(function(o){let a,s;const u=o.index,l=v1.default.color(o,u),c=(0,w1.default)(t,o),h=[];for(a=0;a<c.length;a+=1)for(s=0;s<c[a].length;s+=1)h.push(c[a][s]);const f=(0,_1.select)(this).selectAll(":scope > circle").data(h),p=f.enter().append("circle"),_=f.merge(p).attr("fill",(0,y1.hsl)(l.toString()).brighter(1.5).hex()).attr("stroke",l).attr("opacity",.7).attr("r",1).attr("cx",function(g){return n(g[0])}).attr("cy",function(g){return e(g[1])});if(o.attr)for(let g in o.attr)o.attr.hasOwnProperty(g)&&_.attr(g,o.attr[g]);f.exit().remove()})}return r}la.default=x1;var ca=H&&H.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty($t,"__esModule",{value:!0});$t.scatter=$t.interval=$t.polyline=void 0;const b1=ca(ia);$t.polyline=b1.default;const M1=ca(ua);$t.interval=M1.default;const T1=ca(la);$t.scatter=T1.default;var _e={};Object.defineProperty(_e,"__esModule",{value:!0});function S1(t){return"graphType"in t||(t.graphType="interval"),"sampler"in t||(t.sampler=t.graphType!=="interval"?"builtIn":"interval"),"fnType"in t||(t.fnType="linear"),t}_e.default=S1;var N1=H&&H.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ra,"__esModule",{value:!0});const E1=Ut,k1=$t,Cs=Mt,A1=N1(_e);function $1(t){const n=(0,A1.default)({isHelper:!0,skipTip:!0,skipBoundsCheck:!0,nSamples:2,graphType:"polyline"});function e(o){if(!o.derivative)return[];const a=typeof o.derivative.x0=="number"?o.derivative.x0:1/0;return n.index=o.index,n.scope={m:(0,Cs.builtIn)(o.derivative,"fn",{x:a}),x0:a,y0:(0,Cs.builtIn)(o,"fn",{x:a})},n.fn="m * (x - x0) + y0",[n]}function r(o){const a=this;o.derivative&&o.derivative.updateOnMouseMove&&!o.derivative.$$mouseListener&&(o.derivative.$$mouseListener=function({x:s}){o.derivative&&(o.derivative.x0=s),i(a)},t.on("tip:update",o.derivative.$$mouseListener))}const i=function(o){o.each(function(a){const s=(0,E1.select)(this),u=e.call(o,a);r.call(o,a);const l=s.selectAll("g.derivative").data(u),c=l.enter().append("g").attr("class","derivative");l.merge(c).call((0,k1.polyline)(t)),l.merge(c).selectAll("path").attr("opacity",.5),l.exit().remove()})};return i}ra.default=$1;var fa={},I1=H&&H.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(fa,"__esModule",{value:!0});const C1=Ut,Ls=Mt,L1=I1(_e),O1=$t;function P1(t){const n=(0,L1.default)({isHelper:!0,skipTip:!0,skipBoundsCheck:!0,nSamples:2,graphType:"polyline"});function e(u){u.m=(u.y1-u.y0)/(u.x1-u.x0)}function r(u,l){if(!("x0"in l))throw Error("secant must have the property `x0` defined");l.scope=l.scope||{};const c=l.x0,h=typeof l.x1=="number"?l.x1:1/0;Object.assign(l.scope,{x0:c,x1:h,y0:(0,Ls.builtIn)(u,"fn",{x:c}),y1:(0,Ls.builtIn)(u,"fn",{x:h})}),e(l.scope)}function i(u,l){r(u,l),l.fn="m * (x - x0) + y0"}function o(u,l){const c=this;l.updateOnMouseMove&&!l.$$mouseListener&&(l.$$mouseListener=function({x:h}){l.x1=h,r(u,l),s(c)},t.on("tip:update",l.$$mouseListener))}function a(u){const l=this,c=[];u.secants=u.secants||[];for(let h=0;h<u.secants.length;h+=1){const f=u.secants[h]=Object.assign({},n,u.secants[h]);f.index=u.index,f.fn||(i.call(l,u,f),o.call(l,u,f)),c.push(f)}return c}const s=function(u){u.each(function(l){const c=(0,C1.select)(this),h=a.call(u,l),f=c.selectAll("g.secant").data(h),p=f.enter().append("g").attr("class","secant");f.merge(p).call((0,O1.polyline)(t)),f.merge(p).selectAll("path").attr("opacity",.5),f.exit().remove()})};return s}fa.default=P1;var vf=H&&H.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ea,"__esModule",{value:!0});const D1=Ut,R1=vf(ra),F1=vf(fa);function H1(t){function n(e){e.each(function(){const r=(0,D1.select)(this);r.call((0,R1.default)(t)),r.call((0,F1.default)(t))})}return n}ea.default=H1;typeof window<"u"&&function(t,n){try{t.querySelector(":scope body")}catch{["querySelector","querySelectorAll"].forEach(function(r){const i=n[r];n[r]=function(o){if(/(^|,)\s*:scope/.test(o)){const a=this.id;this.id="ID_"+Date.now(),o=o.replace(/((^|,)\s*):scope/g,"$1#"+this.id);const s=t[r](o);return this.id=a,s}else return i.call(this,o)}})}}(window.document,Element.prototype);var z1=H&&H.__createBinding||(Object.create?function(t,n,e,r){r===void 0&&(r=e);var i=Object.getOwnPropertyDescriptor(n,e);(!i||("get"in i?!n.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return n[e]}}),Object.defineProperty(t,r,i)}:function(t,n,e,r){r===void 0&&(r=e),t[r]=n[e]}),Y1=H&&H.__setModuleDefault||(Object.create?function(t,n){Object.defineProperty(t,"default",{enumerable:!0,value:n})}:function(t,n){t.default=n}),wf=H&&H.__importStar||function(t){if(t&&t.__esModule)return t;var n={};if(t!=null)for(var e in t)e!=="default"&&Object.prototype.hasOwnProperty.call(t,e)&&z1(n,t,e);return Y1(n,t),n},Un=H&&H.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(rr,"__esModule",{value:!0});rr.Chart=void 0;const q1=ur,Os=Bh,Ps=gm,Ds=km,U1=O_,Ne=Ut,Rs=P_,X1=Un(q_),B1=Un(xo),j1=Un(bo),W1=Un(ea),G1=Un(_e),Pe=Un(zn),xf=wf($t),V1=wf(Mt),Fs={linear:Ps.scaleLinear,log:Ps.scaleLog};class Dn extends X1.default.EventEmitter{constructor(n){super();const e=Math.random(),r=String.fromCharCode(Math.floor(e*26)+97);this.options=n,this.id=r+e.toString(16).substr(2),this.options.id=this.id,this.markerId=this.id+"-marker",Dn.cache[this.id]=this,this.linkedGraphs=[this],this.meta={},this.setUpEventListeners()}build(){return this.internalVars(),this.drawGraphWrapper(),this}getDraggableNode(){return(0,Ne.select)(this.options.target).select(".zoom-and-drag").node()}getEmitInstance(){let n=this;const e=this.getDraggableNode();return e&&(n=e.instance),n}internalVars(){const n=this.meta.margin={left:40,right:20,top:20,bottom:20};this.options.title&&(this.meta.margin.top=40),this.meta.width=(this.options.width||Pe.default.DEFAULT_WIDTH)-n.left-n.right,this.meta.height=(this.options.height||Pe.default.DEFAULT_HEIGHT)-n.top-n.bottom,this.initializeAxes()}initializeAxes(){const n=this,e=(0,Os.format)("~s");(0,Os.format)("~e");function r(s){return Math.abs(s)-Math.floor(Math.abs(s))>0?s.toString():e(s)}function i(s){const u=s[1]-s[0];return n.meta.height*u/n.meta.width}this.options.xAxis=this.options.xAxis||{},this.options.xAxis.type=this.options.xAxis.type||"linear",this.options.yAxis=this.options.yAxis||{},this.options.yAxis.type=this.options.yAxis.type||"linear";const o=this.meta.xDomain=function(s){if(s.domain)return s.domain;if(s.type==="linear")return[-12/2,12/2];if(s.type==="log")return[1,10];throw Error("axis type "+s.type+" unsupported")}(this.options.xAxis),a=this.meta.yDomain=function(s){if(s.domain)return s.domain;const u=i(o);if(s.type==="linear")return[-u/2,u/2];if(s.type==="log")return[1,10];throw Error("axis type "+s.type+" unsupported")}(this.options.yAxis);this.meta.xScale||(this.meta.xScale=Fs[this.options.xAxis.type]()),this.meta.xScale.domain(o).range(this.options.xAxis.invert?[this.meta.width,0]:[0,this.meta.width]),this.meta.yScale||(this.meta.yScale=Fs[this.options.yAxis.type]()),this.meta.yScale.domain(a).range(this.options.yAxis.invert?[0,this.meta.height]:[this.meta.height,0]),this.meta.xAxis||(this.meta.xAxis=(0,Ds.axisBottom)(this.meta.xScale)),this.meta.xAxis.tickSize(this.options.grid?-this.meta.height:0).tickFormat(r),this.meta.yAxis||(this.meta.yAxis=(0,Ds.axisLeft)(this.meta.yScale)),this.meta.yAxis.tickSize(this.options.grid?-this.meta.width:0).tickFormat(r),this.line=(0,q1.line)().x(function(s){return n.meta.xScale(s[0])}).y(function(s){return n.meta.yScale(s[1])})}drawGraphWrapper(){const n=this.root=(0,Ne.select)(this.options.target).selectAll("svg").data([this.options]);this.root.enter=n.enter().append("svg").attr("class","function-plot").attr("font-size",this.getFontSize()),n.merge(this.root.enter).attr("width",this.meta.width+this.meta.margin.left+this.meta.margin.right).attr("height",this.meta.height+this.meta.margin.top+this.meta.margin.bottom),this.buildTitle(),this.buildLegend(),this.buildCanvas(),this.buildClip(),this.buildAxis(),this.buildAxisLabel(),this.draw();const e=this.tip=(0,j1.default)(Object.assign(this.options.tip||{},{owner:this}));this.canvas.merge(this.canvas.enter).call(e),this.buildZoomHelper(),this.setUpPlugins()}buildTitle(){const n=this.root.merge(this.root.enter).selectAll("text.title").data(function(r){return[r.title].filter(Boolean)});n.enter().append("text").merge(n).attr("class","title").attr("y",this.meta.margin.top/2).attr("x",this.meta.margin.left+this.meta.width/2).attr("font-size",25).attr("text-anchor","middle").attr("alignment-baseline","middle").text(this.options.title),n.exit().remove()}buildLegend(){this.root.enter.append("text").attr("class","top-right-legend").attr("text-anchor","end"),this.root.merge(this.root.enter).select(".top-right-legend").attr("y",this.meta.margin.top/2).attr("x",this.meta.width+this.meta.margin.left)}buildCanvas(){const n=this.canvas=this.root.merge(this.root.enter).selectAll(".canvas").data(function(e){return[e]});this.canvas.enter=n.enter().append("g").attr("class","canvas")}buildClip(){const n=this.id,e=this.canvas.enter.append("defs");e.append("clipPath").attr("id","function-plot-clip-"+n).append("rect").attr("class","clip static-clip"),this.canvas.merge(this.canvas.enter).selectAll(".clip").attr("width",this.meta.width).attr("height",this.meta.height),e.append("clipPath").append("marker").attr("id",this.markerId).attr("viewBox","0 -5 10 10").attr("refX",10).attr("markerWidth",5).attr("markerHeight",5).attr("orient","auto").append("svg:path").attr("d","M0,-5L10,0L0,5L0,0").attr("stroke-width","0px").attr("fill-opacity",1).attr("fill","#777")}buildAxis(){const n=this.canvas.enter;n.append("g").attr("class","x axis"),n.append("g").attr("class","y axis"),this.canvas.merge(this.canvas.enter).select(".x.axis").attr("transform","translate(0,"+this.meta.height+")").call(this.meta.xAxis),this.canvas.merge(this.canvas.enter).select(".y.axis").call(this.meta.yAxis)}buildAxisLabel(){const n=this.canvas,e=n.merge(n.enter).selectAll("text.x.axis-label").data(function(a){return[a.xAxis.label].filter(Boolean)}),r=e.enter().append("text").attr("class","x axis-label").attr("text-anchor","end");e.merge(r).attr("x",this.meta.width).attr("y",this.meta.height-6).text(function(a){return a}),e.exit().remove();const i=n.merge(n.enter).selectAll("text.y.axis-label").data(function(a){return[a.yAxis.label].filter(Boolean)}),o=i.enter().append("text").attr("class","y axis-label").attr("y",6).attr("dy",".75em").attr("text-anchor","end").attr("transform","rotate(-90)");i.merge(o).text(function(a){return a}),i.exit().remove()}buildContent(){const n=this,e=this.canvas;e.merge(e.enter).attr("transform","translate("+this.meta.margin.left+","+this.meta.margin.top+")");const r=this.content=e.merge(e.enter).selectAll(":scope > g.content").data(function(s){return[s]}),i=r.enter().append("g").attr("clip-path","url(#function-plot-clip-"+this.id+")").attr("class","content");if(this.options.xAxis.type==="linear"){const s=r.merge(i).selectAll(":scope > path.y.origin").data([[[0,this.meta.yScale.domain()[0]],[0,this.meta.yScale.domain()[1]]]]),u=s.enter().append("path").attr("class","y origin").attr("stroke","black").attr("opacity",.2);s.merge(u).attr("d",this.line)}if(this.options.yAxis.type==="linear"){const s=r.merge(i).selectAll(":scope > path.x.origin").data([[[this.meta.xScale.domain()[0],0],[this.meta.xScale.domain()[1],0]]]),u=s.enter().append("path").attr("class","x origin").attr("stroke","black").attr("opacity",.2);s.merge(u).attr("d",this.line)}r.merge(i).call((0,B1.default)({owner:n}));const o=r.merge(i).selectAll(":scope > g.graph").data(s=>s.data.map(G1.default)),a=o.enter().append("g").attr("class","graph");o.merge(a).each(function(s,u){s.index=u;const l=(0,Ne.select)(this);l.call(xf[s.graphType](n)),l.call((0,W1.default)(n))})}buildZoomHelper(){const n=this;this.meta.zoomBehavior||(this.meta.zoomBehavior=(0,U1.zoom)().on("zoom",function(r){n.getEmitInstance().emit("all:zoom",r)}),n.meta.zoomBehavior.xScale=n.meta.xScale.copy(),n.meta.zoomBehavior.yScale=n.meta.yScale.copy()),n.meta.zoomBehavior.xScale.range(n.meta.xScale.range()),n.meta.zoomBehavior.yScale.range(n.meta.yScale.range()),this.canvas.enter.append("rect").call(this.meta.zoomBehavior).attr("class","zoom-and-drag").style("fill","none").style("pointer-events","all").on("mouseover",function(e){n.getEmitInstance().emit("all:mouseover",e)}).on("mouseout",function(e){n.getEmitInstance().emit("all:mouseout",e)}).on("mousemove",function(e){n.getEmitInstance().emit("all:mousemove",e)}),this.draggable=this.canvas.merge(this.canvas.enter).select(".zoom-and-drag").call(e=>{e.node()&&(e.node().instance=n)}).attr("width",this.meta.width).attr("height",this.meta.height)}setUpPlugins(){const n=this.options.plugins||[],e=this;n.forEach(function(r){r(e)})}addLink(){for(let n=0;n<arguments.length;n+=1)this.linkedGraphs.push(arguments[n])}updateAxes(){const n=this,e=n.canvas.merge(n.canvas.enter);e.select(".x.axis").call(n.meta.xAxis),e.select(".y.axis").call(n.meta.yAxis),e.selectAll(".axis path, .axis line").attr("fill","none").attr("stroke","black").attr("shape-rendering","crispedges").attr("opacity",.1)}syncOptions(){this.options.xAxis.domain=this.meta.xScale.domain(),this.options.yAxis.domain=this.meta.yScale.domain()}getFontSize(){return Math.max(Math.max(this.meta.width,this.meta.height)/50,8)}draw(){const n=this;n.emit("before:draw"),n.syncOptions(),n.updateAxes(),n.buildContent(),n.emit("after:draw")}setUpEventListeners(){const n=this,e=this.getEmitInstance();e&&e.removeAllListeners();const r={mousemove:function(o){n.tip.move(o)},mouseover:function(){n.tip.show()},mouseout:function(){n.tip.hide()},zoom:function({transform:a}){if(n.options.disableZoom)return;const s=a.rescaleX(n.meta.zoomBehavior.xScale).interpolate(Rs.interpolateRound),u=a.rescaleY(n.meta.zoomBehavior.yScale).interpolate(Rs.interpolateRound);n.meta.xScale.domain(s.domain()).range(s.range()),n.meta.yScale.domain(u.domain()).range(u.range())},"tip:update":function({x:o,y:a,index:s}){const u=n.root.merge(n.root.enter).datum().data[s],l=u.title||"",c=u.renderer||function(f,p){return f.toFixed(3)+", "+p.toFixed(3)},h=[];l&&h.push(l),h.push(c(o,a)),n.root.select(".top-right-legend").attr("fill",Pe.default.COLORS[s]).text(h.join(" "))}},i={mousemove:function(o){const a=(0,Ne.pointer)(o,n.draggable.node()),s={x:n.meta.xScale.invert(a[0]),y:n.meta.yScale.invert(a[1])};n.linkedGraphs.forEach(function(u){u.emit("before:mousemove",s),u.emit("mousemove",s)})},zoom:function(o){n.linkedGraphs.forEach(function(a){a.draggable.node().__zoom=n.draggable.node().__zoom,a.emit("zoom",o),a.draw()}),n.emit("all:mousemove",o)}};Object.keys(r).forEach(function(o){!i[o]&&n.on("all:"+o,function(){const a=Array.prototype.slice.call(arguments);n.linkedGraphs.forEach(function(s){const u=a.slice();u.unshift(o),s.emit.apply(s,u)})}),n.on(o,r[o])}),Object.keys(i).forEach(function(o){n.on("all:"+o,i[o])})}}rr.Chart=Dn;Dn.cache={};function qr(t={target:null}){t.data=t.data||[];let n=Dn.cache[t.id];return n||(n=new Dn(t)),n.build()}qr.globals=Pe.default;qr.$eval=V1;qr.graphTypes=xf;var Z1=rr.default=qr;const Q1=[1e4,5e3,2e3,1e3,800,600,400,200,100,50],K1={name:"NewtonMethodDemo",props:{id:String},data:()=>({ys:[.1],x:23,slope:-2e3,px:.1,py:77,answer:.208514,width:800,height:500,playingIntervalId:null,playSpeed:7}),methods:{increment(){this.value++},togglePlay(){if(this.playingIntervalId){clearInterval(this.playingIntervalId),this.playingIntervalId=null;return}this.playingIntervalId=setInterval(()=>{this.ys.length>2&&Math.abs(this.ys[this.n-1]-this.ys[this.n-2])<1e-7?this.reset():this.nextIteration()},Q1[this.playSpeed-1])},draw(){this.slope=-2*Math.pow(this.yn,-3),this.py=1/Math.pow(this.yn,2)-this.x,this.px=this.yn,Z1({target:`#${this.fullID}`,width:this.width,height:this.height,xAxis:{domain:[0,1]},yAxis:{domain:[-40,40]},grid:!0,data:[{fn:`1/x^2 - ${this.x}`},{fn:`${this.slope}*x + ${this.py-this.slope*this.px}`},{x:`${this.px-this.py/this.slope}`,y:"100000t-1",skipTip:!0,fnType:"parametric",graphType:"polyline"}]})},nextIteration(){this.ys.push(this.px-this.py/this.slope),this.draw()},reset(){this.ys=[Math.random()*.3],this.x=Math.random()*49+1,this.answer=(1/Math.sqrt(this.x)).toFixed(6),this.draw()}},watch:{playSpeed(){this.playingIntervalId&&(this.togglePlay(),this.togglePlay())}},computed:{n(){return this.ys.length-1},yn(){return this.ys[this.n]},fullID(){return`newton-method-demo${this.id}`}},mounted(){let n=document.body.getBoundingClientRect().width/this.width/1.1,e=this.width*n;e<this.width&&(this.width=e,this.height*=n),this.draw()}},bf=t=>($f("data-v-06eb618e"),t=t(),If(),t),J1={class:"newton-method-demo"},tw=["id"],nw={style:{"padding-left":"10px"}},ew=bf(()=>Nt("b",null,"number:",-1)),rw=bf(()=>Nt("b",null,"actual:",-1));function iw(t,n,e,r,i,o){return Nf(),Ef("div",J1,[Nt("div",{id:o.fullID},null,8,tw),Nt("div",nw,[ew,ye(" "+Xn(t.x.toFixed(3))+"; ",1),Nt("b",null,"y"+Xn(o.n)+":",1),ye(" "+Xn(o.yn.toFixed(6))+"; ",1),rw,ye(" "+Xn(t.answer),1)]),Nt("button",{onClick:n[0]||(n[0]=(...a)=>o.nextIteration&&o.nextIteration(...a))},"next"),Nt("button",{onClick:n[1]||(n[1]=(...a)=>o.reset&&o.reset(...a))},"reset"),Nt("button",{onClick:n[2]||(n[2]=(...a)=>o.togglePlay&&o.togglePlay(...a))},Xn(t.playingIntervalId?"pause":"play"),1),Nt("div",null,[ye(" Speed: "),kf(Nt("input",{type:"range",min:"1",max:"10","onUpdate:modelValue":n[3]||(n[3]=a=>t.playSpeed=a)},null,512),[[Af,t.playSpeed]])])])}const sw=Sf(K1,[["render",iw],["__scopeId","data-v-06eb618e"]]);export{sw as default};
