{"_path":"/posts/chatgpt-over-whatsapp","_dir":"posts","_draft":false,"_partial":false,"_locale":"","title":"Using ChatGPT on an airplane through free Whatsapp - ChatGPT Over Whatsapp (COW)","description":"ChatGPT is pretty useful and I didn't want to give up access when I flew. Most airlines give messaging access for free... so ChatGPT over Whatsapp was born.","link":"chatgpt-over-whatsapp","date":"2025-01-14T00:00:00.000Z","timeToRead":"7","tags":["Programming"],"body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"I had a handful of flights coming up and knew that it would be convenient to have ChatGPT in the air - something to talk to if I ended up having a random question, wanted to know more about a movie before watching it (the summary blurbs rarely cut it), or just wanted to learn something new."}]},{"type":"element","tag":"side-by-side","props":{"left-width":"50%"},"children":[{"type":"element","tag":"template","props":{"v-slot:left":""},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Unfortunately for me, even though ChatGPT is purely text based like any other messaging app, airlines don't allow free access to OpenAI. Fortunately for me, ChatGPT is purely text based - so I built my own interface using the "},{"type":"element","tag":"a","props":{"href":"https://www.southwest.com/inflight-entertainment-portal","rel":["nofollow"],"target":"_blank"},"children":[{"type":"text","value":"free messaging"}]},{"type":"text","value":" provided."}]}]},{"type":"element","tag":"template","props":{"v-slot:right":""},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"Free Messaging on Southwest","src":"/posts/chatgpt-over-whatsapp/free_messaging.png"},"children":[]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"Architecture diagram","src":"/posts/chatgpt-over-whatsapp/architecture.png"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The architecture was simple:"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"use a free Twilio account with some developer credits"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"add a webhook to my server to process the messages and serve the response from ChatGPT"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"use the openai chat completions API to get responses back for my messages"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"???"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"profit"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Usually at this point I end up hitting a bunch of roadblocks with the implementation but surprisingly this time, none of that happened. The Twilio sandbox account wasn't too hard to set up and even provided a really basic tutorial to make sure that everything was set up properly:\n"},{"type":"element","tag":"img","props":{"alt":"Join the Twilio sandbox in a single message","src":"/posts/chatgpt-over-whatsapp/setup1.png"},"children":[]},{"type":"element","tag":"img","props":{"alt":"Send messages from Twilio to Whatsapp","src":"/posts/chatgpt-over-whatsapp/setup2.png"},"children":[]},{"type":"element","tag":"img","props":{"alt":"Get messages from Whatsapp to Twilio using webhook","src":"/posts/chatgpt-over-whatsapp/setup3.png"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Now if I was trying to doing this legitimately to provide a service for others, I would probably have to do a lot more in order to register my identity and prove that I'm an actual business (I'm not). But a sandbox account was able to do everything I needed. The only downside was that every 72 hours, I'd need to reconnect my phone number with Twilio by sending the \"Connect to WhatsApp Sandbox\" message."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Now that I knew it was possible to send and receive Whatsapp messages from a webhook server, it was time to build that server. I haven't worked with Flask or the openai API before, but ChatGPT was kind enough to guide me in the right direction. After a few prompts, I was able to build a simple endpoint which would fetch the message parameters (From and Body). Then using the opanai chat completions API I get a response and return that back to the Twilio caller."}]},{"type":"element","tag":"pre","props":{"className":"language-python shiki shiki-themes github-dark github-light solarized-light","code":"@app.route('/webhook', methods=['POST'])\ndef webhook():\n  sender_number = request.values.get('From', '').strip()\n  incoming_msg = request.values.get('Body', '').strip()\n  response = openai.chat.completions.create(\n    model=model,\n    messages=[\n      {\"role\": \"user\", \"content\": incoming_msg}\n    ]\n  )\n  bot_reply = response.choices[0].message.content.strip()\n\n  twilio_resp = MessagingResponse()\n  twilio_resp.message(body=bot_reply)\n  return str(twilio_resp)\n","language":"python","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0;--shiki-light:#6F42C1;--shiki-sepia:#268BD2"},"children":[{"type":"text","value":"@app.route"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"},"children":[{"type":"text","value":"'/webhook'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#FFAB70;--shiki-light:#E36209;--shiki-sepia:#657B83"},"children":[{"type":"text","value":"methods"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583;--shiki-light:#D73A49;--shiki-sepia:#859900"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":"["}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"},"children":[{"type":"text","value":"'POST'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":"])\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583;--shiki-light:#D73A49;--shiki-sepia:#586E75;--shiki-default-font-weight:inherit;--shiki-light-font-weight:inherit;--shiki-sepia-font-weight:bold"},"children":[{"type":"text","value":"def"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0;--shiki-light:#6F42C1;--shiki-sepia:#268BD2"},"children":[{"type":"text","value":" webhook"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":"():\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":"  sender_number "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583;--shiki-light:#D73A49;--shiki-sepia:#859900"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":" request.values.get("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"},"children":[{"type":"text","value":"'From'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"},"children":[{"type":"text","value":"''"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":").strip()\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":"  incoming_msg "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583;--shiki-light:#D73A49;--shiki-sepia:#859900"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":" request.values.get("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"},"children":[{"type":"text","value":"'Body'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"},"children":[{"type":"text","value":"''"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":").strip()\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":"  response "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583;--shiki-light:#D73A49;--shiki-sepia:#859900"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":" openai.chat.completions.create(\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#FFAB70;--shiki-light:#E36209;--shiki-sepia:#657B83"},"children":[{"type":"text","value":"    model"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583;--shiki-light:#D73A49;--shiki-sepia:#859900"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":"model,\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#FFAB70;--shiki-light:#E36209;--shiki-sepia:#657B83"},"children":[{"type":"text","value":"    messages"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583;--shiki-light:#D73A49;--shiki-sepia:#859900"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":"[\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":"      {"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"},"children":[{"type":"text","value":"\"role\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"},"children":[{"type":"text","value":"\"user\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"},"children":[{"type":"text","value":"\"content\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":": incoming_msg}\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":"    ]\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":"  )\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":"  bot_reply "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583;--shiki-light:#D73A49;--shiki-sepia:#859900"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":" response.choices["}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF;--shiki-light:#005CC5;--shiki-sepia:#D33682"},"children":[{"type":"text","value":"0"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":"].message.content.strip()\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":12},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":13},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":"  twilio_resp "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583;--shiki-light:#D73A49;--shiki-sepia:#859900"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":" MessagingResponse()\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":14},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":"  twilio_resp.message("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#FFAB70;--shiki-light:#E36209;--shiki-sepia:#657B83"},"children":[{"type":"text","value":"body"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583;--shiki-light:#D73A49;--shiki-sepia:#859900"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":"bot_reply)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":15},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583;--shiki-light:#D73A49;--shiki-sepia:#859900"},"children":[{"type":"text","value":"  return"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF;--shiki-light:#005CC5;--shiki-sepia:#859900"},"children":[{"type":"text","value":" str"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":"(twilio_resp)\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Time to test."}]},{"type":"element","tag":"side-by-side","props":{},"children":[{"type":"element","tag":"template","props":{"v-slot:left":""},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In the sandbox settings, I was able to configure the webhook URL which would process the API. Super simple! Only problem was that I wasn't sure how to expose my local development environment to Twilio. "},{"type":"element","tag":"a","props":{"href":"http://localhost:5000","rel":["nofollow"],"target":"_blank"},"children":[{"type":"text","value":"http://localhost:5000"}]},{"type":"text","value":" wasn't going to cut it... Enter ngrok. The installation and setup for this was just as easy"},{"type":"element","tag":"sup","props":{},"children":[{"type":"element","tag":"a","props":{"href":"#user-content-fn-1","ariaDescribedBy":["footnote-label"],"dataFootnoteRef":"","id":"user-content-fnref-1"},"children":[{"type":"text","value":"1"}]}]},{"type":"text","value":". I copied one command to install ngrok and one to configure my auth-token and in 3 minutes I was ready to start testing."}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark github-light solarized-light","code":"$ ngrok http http://localhost:5000\nSession Status                online                                                                          \nAccount                       Preetham (Plan: Free)\nVersion                       3.18.0                               \nRegion                        United States (California) (us-cal-1)    \nLatency                       24ms                             \nWeb Interface                 http://127.0.0.1:4040          \nForwarding                    https://xxxx-12-34-56-789.ngrok-free.app \n                              -> http://localhost:5000  \nHTTP Requests                                                                                            \n19:22:24.771 PDT POST /webhook                  200 OK               \n19:06:56.130 PDT POST /webhook                  200 OK              \n19:06:07.251 PDT POST /                         200 OK              \n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0;--shiki-light:#6F42C1;--shiki-sepia:#268BD2"},"children":[{"type":"text","value":"$"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"},"children":[{"type":"text","value":" ngrok"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"},"children":[{"type":"text","value":" http"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"},"children":[{"type":"text","value":" http://localhost:5000\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0;--shiki-light:#6F42C1;--shiki-sepia:#268BD2"},"children":[{"type":"text","value":"Session"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"},"children":[{"type":"text","value":" Status"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"},"children":[{"type":"text","value":"                online"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":"                                                                          \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0;--shiki-light:#6F42C1;--shiki-sepia:#268BD2"},"children":[{"type":"text","value":"Account"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"},"children":[{"type":"text","value":"                       Preetham"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":" (Plan: "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"},"children":[{"type":"text","value":"Free"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0;--shiki-light:#6F42C1;--shiki-sepia:#268BD2"},"children":[{"type":"text","value":"Version"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF;--shiki-light:#005CC5;--shiki-sepia:#D33682"},"children":[{"type":"text","value":"                       3.18"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"},"children":[{"type":"text","value":".0"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":"                               \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0;--shiki-light:#6F42C1;--shiki-sepia:#268BD2"},"children":[{"type":"text","value":"Region"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"},"children":[{"type":"text","value":"                        United"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"},"children":[{"type":"text","value":" States"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":" (California) ("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0;--shiki-light:#6F42C1;--shiki-sepia:#268BD2"},"children":[{"type":"text","value":"us-cal-1"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":")    \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0;--shiki-light:#6F42C1;--shiki-sepia:#268BD2"},"children":[{"type":"text","value":"Latency"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF;--shiki-light:#005CC5;--shiki-sepia:#D33682"},"children":[{"type":"text","value":"                       24"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"},"children":[{"type":"text","value":"ms"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":"                             \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0;--shiki-light:#6F42C1;--shiki-sepia:#268BD2"},"children":[{"type":"text","value":"Web"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"},"children":[{"type":"text","value":" Interface"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"},"children":[{"type":"text","value":"                 http://127.0.0.1:4040"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":"          \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0;--shiki-light:#6F42C1;--shiki-sepia:#268BD2"},"children":[{"type":"text","value":"Forwarding"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"},"children":[{"type":"text","value":"                    https://xxxx-12-34-56-789.ngrok-free.app"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":" \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0;--shiki-light:#6F42C1;--shiki-sepia:#268BD2"},"children":[{"type":"text","value":"                              ->"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"},"children":[{"type":"text","value":" http://localhost:5000"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":"  \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0;--shiki-light:#6F42C1;--shiki-sepia:#268BD2"},"children":[{"type":"text","value":"HTTP"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"},"children":[{"type":"text","value":" Requests"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":"                                                                                            \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0;--shiki-light:#6F42C1;--shiki-sepia:#268BD2"},"children":[{"type":"text","value":"19:22:24.771"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"},"children":[{"type":"text","value":" PDT"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"},"children":[{"type":"text","value":" POST"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"},"children":[{"type":"text","value":" /webhook"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF;--shiki-light:#005CC5;--shiki-sepia:#D33682"},"children":[{"type":"text","value":"                  200"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"},"children":[{"type":"text","value":" OK"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":"               \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":12},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0;--shiki-light:#6F42C1;--shiki-sepia:#268BD2"},"children":[{"type":"text","value":"19:06:56.130"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"},"children":[{"type":"text","value":" PDT"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"},"children":[{"type":"text","value":" POST"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"},"children":[{"type":"text","value":" /webhook"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF;--shiki-light:#005CC5;--shiki-sepia:#D33682"},"children":[{"type":"text","value":"                  200"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"},"children":[{"type":"text","value":" OK"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":"              \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":13},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0;--shiki-light:#6F42C1;--shiki-sepia:#268BD2"},"children":[{"type":"text","value":"19:06:07.251"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"},"children":[{"type":"text","value":" PDT"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"},"children":[{"type":"text","value":" POST"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"},"children":[{"type":"text","value":" /"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF;--shiki-light:#005CC5;--shiki-sepia:#D33682"},"children":[{"type":"text","value":"                         200"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"},"children":[{"type":"text","value":" OK\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"I copied the Forwarding URL into my Twilio sandbox settings and tried it out... It didn't work. Checking the logs made the error pretty clear though. I forgot to add the "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"/webhook"}]},{"type":"text","value":" suffix where my endpoint was located."}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark github-light solarized-light","code":"Creating chatgpt-whatsapp_web_1 ... done\nAttaching to chatgpt-whatsapp_web_1\nweb_1  |  * Serving Flask app 'app'\nweb_1  |  * Debug mode: off\nweb_1  | WARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.\nweb_1  |  * Running on all addresses (0.0.0.0)\nweb_1  |  * Running on http://127.0.0.1:5000\nweb_1  |  * Running on http://172.19.0.2:5000\nweb_1  | Press CTRL+C to quit\nweb_1  | 172.19.0.1 - - [20/Oct/2024 02:06:09] \"POST / HTTP/1.1\" 404 -\nweb_1  | 172.19.0.1 - - [20/Oct/2024 02:06:58] \"POST /webhook HTTP/1.1\" 200 -\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0;--shiki-light:#6F42C1;--shiki-sepia:#268BD2"},"children":[{"type":"text","value":"Creating"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"},"children":[{"type":"text","value":" chatgpt-whatsapp_web_1"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"},"children":[{"type":"text","value":" ..."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"},"children":[{"type":"text","value":" done\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0;--shiki-light:#6F42C1;--shiki-sepia:#268BD2"},"children":[{"type":"text","value":"Attaching"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"},"children":[{"type":"text","value":" to"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"},"children":[{"type":"text","value":" chatgpt-whatsapp_web_1\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0;--shiki-light:#6F42C1;--shiki-sepia:#268BD2"},"children":[{"type":"text","value":"web_1"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583;--shiki-light:#D73A49;--shiki-sepia:#859900"},"children":[{"type":"text","value":"  |"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0;--shiki-light:#6F42C1;--shiki-sepia:#268BD2"},"children":[{"type":"text","value":"  *"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"},"children":[{"type":"text","value":" Serving"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"},"children":[{"type":"text","value":" Flask"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"},"children":[{"type":"text","value":" app"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"},"children":[{"type":"text","value":" 'app'\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0;--shiki-light:#6F42C1;--shiki-sepia:#268BD2"},"children":[{"type":"text","value":"web_1"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583;--shiki-light:#D73A49;--shiki-sepia:#859900"},"children":[{"type":"text","value":"  |"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0;--shiki-light:#6F42C1;--shiki-sepia:#268BD2"},"children":[{"type":"text","value":"  *"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"},"children":[{"type":"text","value":" Debug"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"},"children":[{"type":"text","value":" mode:"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"},"children":[{"type":"text","value":" off\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0;--shiki-light:#6F42C1;--shiki-sepia:#268BD2"},"children":[{"type":"text","value":"web_1"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583;--shiki-light:#D73A49;--shiki-sepia:#859900"},"children":[{"type":"text","value":"  |"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0;--shiki-light:#6F42C1;--shiki-sepia:#268BD2"},"children":[{"type":"text","value":" WARNING:"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"},"children":[{"type":"text","value":" This"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"},"children":[{"type":"text","value":" is"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"},"children":[{"type":"text","value":" a"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"},"children":[{"type":"text","value":" development"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"},"children":[{"type":"text","value":" server."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"},"children":[{"type":"text","value":" Do"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"},"children":[{"type":"text","value":" not"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"},"children":[{"type":"text","value":" use"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"},"children":[{"type":"text","value":" it"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"},"children":[{"type":"text","value":" in"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"},"children":[{"type":"text","value":" a"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"},"children":[{"type":"text","value":" production"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"},"children":[{"type":"text","value":" deployment."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"},"children":[{"type":"text","value":" Use"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"},"children":[{"type":"text","value":" a"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"},"children":[{"type":"text","value":" production"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"},"children":[{"type":"text","value":" WSGI"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"},"children":[{"type":"text","value":" server"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"},"children":[{"type":"text","value":" instead.\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0;--shiki-light:#6F42C1;--shiki-sepia:#268BD2"},"children":[{"type":"text","value":"web_1"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583;--shiki-light:#D73A49;--shiki-sepia:#859900"},"children":[{"type":"text","value":"  |"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0;--shiki-light:#6F42C1;--shiki-sepia:#268BD2"},"children":[{"type":"text","value":"  *"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"},"children":[{"type":"text","value":" Running"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"},"children":[{"type":"text","value":" on"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"},"children":[{"type":"text","value":" all"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"},"children":[{"type":"text","value":" addresses"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":" (0.0.0.0)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0;--shiki-light:#6F42C1;--shiki-sepia:#268BD2"},"children":[{"type":"text","value":"web_1"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583;--shiki-light:#D73A49;--shiki-sepia:#859900"},"children":[{"type":"text","value":"  |"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0;--shiki-light:#6F42C1;--shiki-sepia:#268BD2"},"children":[{"type":"text","value":"  *"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"},"children":[{"type":"text","value":" Running"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"},"children":[{"type":"text","value":" on"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"},"children":[{"type":"text","value":" http://127.0.0.1:5000\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0;--shiki-light:#6F42C1;--shiki-sepia:#268BD2"},"children":[{"type":"text","value":"web_1"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583;--shiki-light:#D73A49;--shiki-sepia:#859900"},"children":[{"type":"text","value":"  |"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0;--shiki-light:#6F42C1;--shiki-sepia:#268BD2"},"children":[{"type":"text","value":"  *"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"},"children":[{"type":"text","value":" Running"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"},"children":[{"type":"text","value":" on"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"},"children":[{"type":"text","value":" http://172.19.0.2:5000\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0;--shiki-light:#6F42C1;--shiki-sepia:#268BD2"},"children":[{"type":"text","value":"web_1"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583;--shiki-light:#D73A49;--shiki-sepia:#859900"},"children":[{"type":"text","value":"  |"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0;--shiki-light:#6F42C1;--shiki-sepia:#268BD2"},"children":[{"type":"text","value":" Press"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"},"children":[{"type":"text","value":" CTRL+C"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"},"children":[{"type":"text","value":" to"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"},"children":[{"type":"text","value":" quit\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0;--shiki-light:#6F42C1;--shiki-sepia:#268BD2"},"children":[{"type":"text","value":"web_1"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583;--shiki-light:#D73A49;--shiki-sepia:#859900"},"children":[{"type":"text","value":"  |"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0;--shiki-light:#6F42C1;--shiki-sepia:#268BD2"},"children":[{"type":"text","value":" 172.19.0.1"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"},"children":[{"type":"text","value":" -"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"},"children":[{"type":"text","value":" -"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":" [20/Oct/2024 "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF;--shiki-light:#005CC5;--shiki-sepia:#D33682"},"children":[{"type":"text","value":"02"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"},"children":[{"type":"text","value":":06:09]"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"},"children":[{"type":"text","value":" \"POST / HTTP/1.1\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF;--shiki-light:#005CC5;--shiki-sepia:#D33682"},"children":[{"type":"text","value":" 404"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"},"children":[{"type":"text","value":" -\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0;--shiki-light:#6F42C1;--shiki-sepia:#268BD2"},"children":[{"type":"text","value":"web_1"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583;--shiki-light:#D73A49;--shiki-sepia:#859900"},"children":[{"type":"text","value":"  |"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0;--shiki-light:#6F42C1;--shiki-sepia:#268BD2"},"children":[{"type":"text","value":" 172.19.0.1"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"},"children":[{"type":"text","value":" -"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"},"children":[{"type":"text","value":" -"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":" [20/Oct/2024 "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF;--shiki-light:#005CC5;--shiki-sepia:#D33682"},"children":[{"type":"text","value":"02"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"},"children":[{"type":"text","value":":06:58]"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"},"children":[{"type":"text","value":" \"POST /webhook HTTP/1.1\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF;--shiki-light:#005CC5;--shiki-sepia:#D33682"},"children":[{"type":"text","value":" 200"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"},"children":[{"type":"text","value":" -\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Once I added that, everything worked perfectly. So perfectly that I wasn't even sure if I wanted to write a blog post about something that ended up being so simple."}]}]},{"type":"element","tag":"template","props":{"v-slot:right":""},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"Initial setup and response from OpenAI API (with a few quickly fixed errors along the way)","src":"/posts/chatgpt-over-whatsapp/initial_setup.jpg"},"children":[]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"Sandbox settings","src":"/posts/chatgpt-over-whatsapp/sandbox_settings.png"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Deploying this to production was as simple as starting up the docker container on my production DigitalOcean instance and changing the webhook URL in the Twilio sandbox settings. Note that even if you set an IP address as the URL, you still need to add the "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"http://"}]},{"type":"text","value":" prefix."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Afterwards in order to make things a bit more complex, I wanted to support a feature to allow users to change the server model - by default it was using 4o-mini, but maybe if I was more price conscious I could switch to 3.5-turbo or if I wanted more intelligence I could try 4o or gpt-4."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Finally I tried adding a way to check how many credits I have left on my accounts. Unfortunately OpenAI doesn't provide an API for this and I wasn't prepared to reverse engineer the OpenAI dashboard page. It turns out that ChatGPT is a lot cheaper than I expected - the $5 in credits would probably last me longer than my Twilio credits so I wasn't too worried about getting this to work."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"So in conclusion, all I needed in order to get this working was:"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"some Twilio credits"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"OpenAI credits"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"a DigitalOcean server"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"a few hours building and deploying this webapp"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Is it probably cheaper and easier to just pay for in flight Wifi? Yes. But that's no fun."}]},{"type":"element","tag":"side-by-side","props":{"left-width":"50%"},"children":[{"type":"element","tag":"template","props":{"v-slot:left":""},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"First picture on a plane in airplane mode","src":"/posts/chatgpt-over-whatsapp/airplane1.jpg"},"children":[]}]}]},{"type":"element","tag":"template","props":{"v-slot:right":""},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"Second picture showing reply from ChatGPT in airplane mode","src":"/posts/chatgpt-over-whatsapp/airplane2.jpg"},"children":[]}]}]}]},{"type":"element","tag":"blockquote","props":{"className":["twitter-tweet"]},"children":[{"type":"element","tag":"p","props":{"lang":"en","dir":"ltr"},"children":[{"type":"text","value":"Got ChatGPT working on an airline by routing it through Whatsapp."},{"type":"element","tag":"a","props":{"href":"https://t.co/EXeJ8RfstK"},"children":[{"type":"text","value":"https://t.co/EXeJ8RfstK"}]}]},{"type":"text","value":" preethamrn (@preethamrn) "},{"type":"element","tag":"a","props":{"href":"https://twitter.com/preethamrn/status/1879771989692613085?ref_src=twsrc%5Etfw"},"children":[{"type":"text","value":"January 16, 2025"}]}]},{"type":"text","value":" "},{"type":"element","tag":"script","props":{"async":true,"src":"https://platform.twitter.com/widgets.js","charSet":"utf-8"},"children":[]},{"type":"text","value":" \n"},{"type":"element","tag":"section","props":{"className":["footnotes"],"dataFootnotes":""},"children":[{"type":"element","tag":"h2","props":{"className":["sr-only"],"id":"footnote-label"},"children":[{"type":"text","value":"Footnotes"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{"id":"user-content-fn-1"},"children":[{"type":"text","value":"It's a little scary how easy it was to expose my local network to the outside world. "},{"type":"element","tag":"a","props":{"href":"#user-content-fnref-1","ariaLabel":"Back to reference 1","className":["data-footnote-backref"],"dataFootnoteBackref":""},"children":[{"type":"text","value":""}]}]}]}]},{"type":"element","tag":"style","props":{},"children":[{"type":"text","value":"html.sepia .shiki span {color: var(--shiki-sepia);background: var(--shiki-sepia-bg);font-style: var(--shiki-sepia-font-style);font-weight: var(--shiki-sepia-font-weight);text-decoration: var(--shiki-sepia-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .sepia .shiki span {color: var(--shiki-sepia);background: var(--shiki-sepia-bg);font-style: var(--shiki-sepia-font-style);font-weight: var(--shiki-sepia-font-weight);text-decoration: var(--shiki-sepia-text-decoration);}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"footnote-label","depth":2,"text":"Footnotes"}]}},"_type":"markdown","_id":"content:posts:chatgpt-over-whatsapp.md","_source":"content","_file":"posts/chatgpt-over-whatsapp.md","_extension":"md"}