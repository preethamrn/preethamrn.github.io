{"_path":"/posts/my-first-open-source-contribution","_dir":"posts","_draft":false,"_partial":false,"_locale":"","title":"My First Open Source Contribution","description":"One of the things that I love about programming is that you can see a problem in the world and solve it. So when I found out that one of the apps I used on a daily basis was open source, I was pleasantly surprised","link":"my-first-open-source-contribution","date":"2023-08-06T00:00:00.000Z","timeToRead":6,"tags":["Learn","Programming"],"body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"One of the things that I love about programming is that you can see a problem in the world and solve it. When I had trouble getting into one of my college classes, I wrote a web scraper that would look at the class catalog for open seats and notify me when a spot came up so I could quickly register. When there wasn't a website for some niche Pokemon specific information, "},{"type":"element","tag":"a","props":{"href":"https://www.preethamrn.com/pokemondens/","rel":["nofollow"],"target":"_blank"},"children":[{"type":"text","value":"I made one myself"}]},{"type":"text","value":" ("},{"type":"element","tag":"a","props":{"href":"https://www.preethamrn.com/posts/2020-year-in-review#pokemon-dens","rel":["nofollow"],"target":"_blank"},"children":[{"type":"text","value":"and it went a little viral"}]},{"type":"text","value":")."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"So when I found out that one of the "},{"type":"element","tag":"a","props":{"href":"https://play.google.com/store/apps/details?id=com.razeeman.util.simpletimetracker","rel":["nofollow"],"target":"_blank"},"children":[{"type":"text","value":"apps"}]},{"type":"text","value":" I used on a daily basis was "},{"type":"element","tag":"a","props":{"href":"https://github.com/Razeeman/Android-SimpleTimeTracker","rel":["nofollow"],"target":"_blank"},"children":[{"type":"text","value":"open source"}]},{"type":"text","value":", I was pleasantly surprised. This app allowed you to track how you spent every second of your day. I love data and I love procrastination so this was perfect for me - I get to analyze how I spend my time and clamp down on the ways that I procrastinate mindlessly."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"But there were 2 issues that bothered me:"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The date format used \"day/month\" instead of \"month/day\". I've lived in India and the US so I'm familiar with both and each have their merits"},{"type":"element","tag":"sup","props":{},"children":[{"type":"element","tag":"a","props":{"href":"#user-content-fn-1","ariaDescribedBy":["footnote-label"],"dataFootnoteRef":"","id":"user-content-fnref-1"},"children":[{"type":"text","value":"1"}]}]},{"type":"text","value":" but I'm used to month/day right now so I wished there was a setting for it."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The app allows you to filter for activities in a specific time range. However, if an activity exceeds the time range then it doesn't clamp it to the specified time range. I don't need to know that I spent 30 minutes watching YouTube, 30 minutes reading, and 8 hours sleeping for the activities between 12am and 2am."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Now, I could actually fix them. On the other hand, I was a little bit daunted. Even though this wasn't the Linux kernel or anything like that it would still be my first time contributing a real change to some open source codebase and I didn't want to make a fool of myself."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This post will go over issue #1 - Supporting month/day formatting in the bar chart."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"The issue","src":"/posts/my-first-open-source-contribution/issue.png"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Step one was figuring out where the date formatting code even was"},{"type":"element","tag":"sup","props":{},"children":[{"type":"element","tag":"a","props":{"href":"#user-content-fn-2","ariaDescribedBy":["footnote-label"],"dataFootnoteRef":"","id":"user-content-fnref-2"},"children":[{"type":"text","value":"2"}]}]},{"type":"text","value":". Generally when I'm doing this, I first try to get a grip onto the code by diving deep into it. I look for the tiniest thing that I can recognize and try to work my way around that to see how it fits in."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In this case, that was the string \"Average for period\" you can see in the image above. Searching for it led me to this code:"}]},{"type":"element","tag":"pre","props":{"className":"language-xml shiki shiki-themes github-dark github-light solarized-light","code":"<string name=\"statistics_detail_range_averages_title\">Average for period: %s</string>\n","language":"xml","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#93A1A1"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#85E89D;--shiki-light:#22863A;--shiki-sepia:#268BD2"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0;--shiki-light:#6F42C1;--shiki-sepia:#93A1A1"},"children":[{"type":"text","value":" name"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"},"children":[{"type":"text","value":"\"statistics_detail_range_averages_title\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#93A1A1"},"children":[{"type":"text","value":">"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":"Average for period: %s"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#93A1A1"},"children":[{"type":"text","value":"</"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#85E89D;--shiki-light:#22863A;--shiki-sepia:#268BD2"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#93A1A1"},"children":[{"type":"text","value":">\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"And searching for the resource name got me this:"}]},{"type":"element","tag":"pre","props":{"className":"language-kotlin shiki shiki-themes github-dark github-light solarized-light","code":"private fun getRangeAverages(  \n    data: List<ChartBarDataDuration>,  \n    ...\n): Pair<String, List<StatisticsDetailCardViewData>> {\n...\nval title = resourceRepo.getString(  \n    R.string.statistics_detail_range_averages_title,  \n    mapToGroupingName(chartGrouping)  \n)\n...\n}\n","language":"kotlin","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583;--shiki-light:#D73A49;--shiki-sepia:#586E75;--shiki-default-font-weight:inherit;--shiki-light-font-weight:inherit;--shiki-sepia-font-weight:bold"},"children":[{"type":"text","value":"private"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583;--shiki-light:#D73A49;--shiki-sepia:#586E75;--shiki-default-font-weight:inherit;--shiki-light-font-weight:inherit;--shiki-sepia-font-weight:bold"},"children":[{"type":"text","value":" fun"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0;--shiki-light:#6F42C1;--shiki-sepia:#268BD2"},"children":[{"type":"text","value":" getRangeAverages"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":"(  \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583;--shiki-light:#D73A49;--shiki-sepia:#586E75;--shiki-default-font-weight:inherit;--shiki-light-font-weight:inherit;--shiki-sepia-font-weight:bold"},"children":[{"type":"text","value":"    data"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0;--shiki-light:#6F42C1;--shiki-sepia:#CB4B16"},"children":[{"type":"text","value":"List"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0;--shiki-light:#6F42C1;--shiki-sepia:#CB4B16"},"children":[{"type":"text","value":"ChartBarDataDuration"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":">,  \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583;--shiki-light:#D73A49;--shiki-sepia:#859900"},"children":[{"type":"text","value":"    .."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":".\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":"): "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0;--shiki-light:#6F42C1;--shiki-sepia:#CB4B16"},"children":[{"type":"text","value":"Pair"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0;--shiki-light:#6F42C1;--shiki-sepia:#CB4B16"},"children":[{"type":"text","value":"String"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0;--shiki-light:#6F42C1;--shiki-sepia:#CB4B16"},"children":[{"type":"text","value":"List"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0;--shiki-light:#6F42C1;--shiki-sepia:#CB4B16"},"children":[{"type":"text","value":"StatisticsDetailCardViewData"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":">> {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583;--shiki-light:#D73A49;--shiki-sepia:#859900"},"children":[{"type":"text","value":".."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":".\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583;--shiki-light:#D73A49;--shiki-sepia:#586E75;--shiki-default-font-weight:inherit;--shiki-light-font-weight:inherit;--shiki-sepia-font-weight:bold"},"children":[{"type":"text","value":"val"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":" title "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583;--shiki-light:#D73A49;--shiki-sepia:#859900"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":" resourceRepo."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0;--shiki-light:#6F42C1;--shiki-sepia:#268BD2"},"children":[{"type":"text","value":"getString"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":"(  \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":"    R.string.statistics_detail_range_averages_title,  \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0;--shiki-light:#6F42C1;--shiki-sepia:#268BD2"},"children":[{"type":"text","value":"    mapToGroupingName"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":"(chartGrouping)  \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583;--shiki-light:#D73A49;--shiki-sepia:#859900"},"children":[{"type":"text","value":".."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":".\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":"}\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Great. Now I have to learn Kotlin as well... Fortunately I already know Java and Kotlin isn't that far off. And once I get the hang of Kotlin I'll be glad is isn't Java."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Following the call stack up we get: "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"getRangeAverages"}]},{"type":"text","value":" -> "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"mapToChartViewData"}]},{"type":"text","value":" -> "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"getChartViewData"}]},{"type":"text","value":" -> "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"loadChartViewData"}]},{"type":"text","value":" -> "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"updateChartViewData"}]},{"type":"text","value":" ... I think we've probably gone a bit too far here."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"getChartViewData"}]},{"type":"text","value":" seemed interesting. One of the methods it used - "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"getRanges"}]},{"type":"text","value":" returned a list of "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"ChartBarDataRange"}]}]},{"type":"element","tag":"pre","props":{"className":"language-kotlin shiki shiki-themes github-dark github-light solarized-light","code":"private fun getRanges(  \n    currentChartGrouping: ChartGrouping,  \n    currentChartLength: ChartLength,  \n    rangeLength: RangeLength,  \n    rangePosition: Int,  \n    firstDayOfWeek: DayOfWeek,  \n    startOfDayShift: Long,  \n): Pair<List<ChartBarDataRange>, CompositeChartData>\n","language":"kotlin","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583;--shiki-light:#D73A49;--shiki-sepia:#586E75;--shiki-default-font-weight:inherit;--shiki-light-font-weight:inherit;--shiki-sepia-font-weight:bold"},"children":[{"type":"text","value":"private"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583;--shiki-light:#D73A49;--shiki-sepia:#586E75;--shiki-default-font-weight:inherit;--shiki-light-font-weight:inherit;--shiki-sepia-font-weight:bold"},"children":[{"type":"text","value":" fun"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0;--shiki-light:#6F42C1;--shiki-sepia:#268BD2"},"children":[{"type":"text","value":" getRanges"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":"(  \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":"    currentChartGrouping: "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0;--shiki-light:#6F42C1;--shiki-sepia:#CB4B16"},"children":[{"type":"text","value":"ChartGrouping"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":",  \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":"    currentChartLength: "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0;--shiki-light:#6F42C1;--shiki-sepia:#CB4B16"},"children":[{"type":"text","value":"ChartLength"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":",  \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":"    rangeLength: "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0;--shiki-light:#6F42C1;--shiki-sepia:#CB4B16"},"children":[{"type":"text","value":"RangeLength"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":",  \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":"    rangePosition: "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0;--shiki-light:#6F42C1;--shiki-sepia:#CB4B16"},"children":[{"type":"text","value":"Int"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":",  \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":"    firstDayOfWeek: "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0;--shiki-light:#6F42C1;--shiki-sepia:#CB4B16"},"children":[{"type":"text","value":"DayOfWeek"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":",  \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":"    startOfDayShift: "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0;--shiki-light:#6F42C1;--shiki-sepia:#CB4B16"},"children":[{"type":"text","value":"Long"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":",  \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":"): "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0;--shiki-light:#6F42C1;--shiki-sepia:#CB4B16"},"children":[{"type":"text","value":"Pair"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0;--shiki-light:#6F42C1;--shiki-sepia:#CB4B16"},"children":[{"type":"text","value":"List"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0;--shiki-light:#6F42C1;--shiki-sepia:#CB4B16"},"children":[{"type":"text","value":"ChartBarDataRange"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":">, "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0;--shiki-light:#6F42C1;--shiki-sepia:#CB4B16"},"children":[{"type":"text","value":"CompositeChartData"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":">\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"ChartBarDataRange"}]},{"type":"text","value":" had a "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"legend"}]},{"type":"text","value":" field which (assuming we were talking about the same legend) was exactly what I needed to update."}]},{"type":"element","tag":"pre","props":{"className":"language-kotlin shiki shiki-themes github-dark github-light solarized-light","code":"class ChartBarDataRange(  \n    val legend: String,  \n    val rangeStart: Long,  \n    val rangeEnd: Long  \n)\n","language":"kotlin","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583;--shiki-light:#D73A49;--shiki-sepia:#586E75;--shiki-default-font-weight:inherit;--shiki-light-font-weight:inherit;--shiki-sepia-font-weight:bold"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0;--shiki-light:#6F42C1;--shiki-sepia:#CB4B16"},"children":[{"type":"text","value":" ChartBarDataRange"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":"(  \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583;--shiki-light:#D73A49;--shiki-sepia:#586E75;--shiki-default-font-weight:inherit;--shiki-light-font-weight:inherit;--shiki-sepia-font-weight:bold"},"children":[{"type":"text","value":"    val"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":" legend: "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0;--shiki-light:#6F42C1;--shiki-sepia:#CB4B16"},"children":[{"type":"text","value":"String"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":",  \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583;--shiki-light:#D73A49;--shiki-sepia:#586E75;--shiki-default-font-weight:inherit;--shiki-light-font-weight:inherit;--shiki-sepia-font-weight:bold"},"children":[{"type":"text","value":"    val"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":" rangeStart: "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0;--shiki-light:#6F42C1;--shiki-sepia:#CB4B16"},"children":[{"type":"text","value":"Long"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":",  \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583;--shiki-light:#D73A49;--shiki-sepia:#586E75;--shiki-default-font-weight:inherit;--shiki-light-font-weight:inherit;--shiki-sepia-font-weight:bold"},"children":[{"type":"text","value":"    val"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":" rangeEnd: "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0;--shiki-light:#6F42C1;--shiki-sepia:#CB4B16"},"children":[{"type":"text","value":"Long"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":"  \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":")\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"After that it was just a matter of finding out where the legend was set."}]},{"type":"element","tag":"pre","props":{"className":"language-kotlin shiki shiki-themes github-dark github-light solarized-light","code":"val legend = timeMapper.formatShortDay(calendar.timeInMillis)\n","language":"kotlin","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583;--shiki-light:#D73A49;--shiki-sepia:#586E75;--shiki-default-font-weight:inherit;--shiki-light-font-weight:inherit;--shiki-sepia-font-weight:bold"},"children":[{"type":"text","value":"val"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":" legend "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583;--shiki-light:#D73A49;--shiki-sepia:#859900"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":" timeMapper."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0;--shiki-light:#6F42C1;--shiki-sepia:#268BD2"},"children":[{"type":"text","value":"formatShortDay"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":"(calendar.timeInMillis)\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Bingo.\nThe "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"formatShortDay"}]},{"type":"text","value":" method was extremely simple. It just formatted a time using the "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"dd.MM"}]},{"type":"text","value":" format. All I needed to do was change this to "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"MM.dd"}]},{"type":"text","value":"."}]},{"type":"element","tag":"pre","props":{"className":"language-kotlin shiki shiki-themes github-dark github-light solarized-light","code":"private val shortDayFormat by lazy { SimpleDateFormat(\"dd.MM\", locale) }\n\nfun formatShortDay(time: Long): String = synchronized(lock) {  \n    return shortDayFormat.format(time)    \n}\n","language":"kotlin","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583;--shiki-light:#D73A49;--shiki-sepia:#586E75;--shiki-default-font-weight:inherit;--shiki-light-font-weight:inherit;--shiki-sepia-font-weight:bold"},"children":[{"type":"text","value":"private"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583;--shiki-light:#D73A49;--shiki-sepia:#586E75;--shiki-default-font-weight:inherit;--shiki-light-font-weight:inherit;--shiki-sepia-font-weight:bold"},"children":[{"type":"text","value":" val"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":" shortDayFormat "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583;--shiki-light:#D73A49;--shiki-sepia:#586E75;--shiki-default-font-weight:inherit;--shiki-light-font-weight:inherit;--shiki-sepia-font-weight:bold"},"children":[{"type":"text","value":"by"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0;--shiki-light:#6F42C1;--shiki-sepia:#268BD2"},"children":[{"type":"text","value":" lazy"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":" { "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0;--shiki-light:#6F42C1;--shiki-sepia:#268BD2"},"children":[{"type":"text","value":"SimpleDateFormat"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"},"children":[{"type":"text","value":"\"dd.MM\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":", locale) }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583;--shiki-light:#D73A49;--shiki-sepia:#586E75;--shiki-default-font-weight:inherit;--shiki-light-font-weight:inherit;--shiki-sepia-font-weight:bold"},"children":[{"type":"text","value":"fun"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0;--shiki-light:#6F42C1;--shiki-sepia:#268BD2"},"children":[{"type":"text","value":" formatShortDay"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":"(time: "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0;--shiki-light:#6F42C1;--shiki-sepia:#CB4B16"},"children":[{"type":"text","value":"Long"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":"): "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0;--shiki-light:#6F42C1;--shiki-sepia:#CB4B16"},"children":[{"type":"text","value":"String"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583;--shiki-light:#D73A49;--shiki-sepia:#859900"},"children":[{"type":"text","value":" ="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0;--shiki-light:#6F42C1;--shiki-sepia:#268BD2"},"children":[{"type":"text","value":" synchronized"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":"(lock) {  \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583;--shiki-light:#D73A49;--shiki-sepia:#859900"},"children":[{"type":"text","value":"    return"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":" shortDayFormat."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0;--shiki-light:#6F42C1;--shiki-sepia:#268BD2"},"children":[{"type":"text","value":"format"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":"(time)    \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":"}\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"But obviously I couldn't just break something that was already working or else no one would accept my pull request. Maybe some people actually prefer the "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"dd.MM"}]},{"type":"text","value":" format. So I had to go on another journey to figure out how to add user preferences."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"One surprisingly long and significantly less interesting"},{"type":"element","tag":"sup","props":{},"children":[{"type":"element","tag":"a","props":{"href":"#user-content-fn-3","ariaDescribedBy":["footnote-label"],"dataFootnoteRef":"","id":"user-content-fnref-3"},"children":[{"type":"text","value":"3"}]}]},{"type":"text","value":" expedition later and I ended up with this:"}]},{"type":"element","tag":"pre","props":{"className":"language-kotlin shiki shiki-themes github-dark github-light solarized-light","code":"private val shortDayFormatMMDD by lazy { SimpleDateFormat(\"MM.dd\", locale) }  \nprivate val shortDayFormatDDMM by lazy { SimpleDateFormat(\"dd.MM\", locale) }\n\nfun formatShortDay(time: Long, useMonthDayTimeFormat: Boolean): String = synchronized(lock) {  \n    if (useMonthDayTimeFormat) {  \n        return shortDayFormatMMDD.format(time)  \n    } else {  \n        return shortDayFormatDDMM.format(time)  \n    }  \n}\n","language":"kotlin","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583;--shiki-light:#D73A49;--shiki-sepia:#586E75;--shiki-default-font-weight:inherit;--shiki-light-font-weight:inherit;--shiki-sepia-font-weight:bold"},"children":[{"type":"text","value":"private"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583;--shiki-light:#D73A49;--shiki-sepia:#586E75;--shiki-default-font-weight:inherit;--shiki-light-font-weight:inherit;--shiki-sepia-font-weight:bold"},"children":[{"type":"text","value":" val"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":" shortDayFormatMMDD "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583;--shiki-light:#D73A49;--shiki-sepia:#586E75;--shiki-default-font-weight:inherit;--shiki-light-font-weight:inherit;--shiki-sepia-font-weight:bold"},"children":[{"type":"text","value":"by"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0;--shiki-light:#6F42C1;--shiki-sepia:#268BD2"},"children":[{"type":"text","value":" lazy"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":" { "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0;--shiki-light:#6F42C1;--shiki-sepia:#268BD2"},"children":[{"type":"text","value":"SimpleDateFormat"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"},"children":[{"type":"text","value":"\"MM.dd\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":", locale) }  \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583;--shiki-light:#D73A49;--shiki-sepia:#586E75;--shiki-default-font-weight:inherit;--shiki-light-font-weight:inherit;--shiki-sepia-font-weight:bold"},"children":[{"type":"text","value":"private"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583;--shiki-light:#D73A49;--shiki-sepia:#586E75;--shiki-default-font-weight:inherit;--shiki-light-font-weight:inherit;--shiki-sepia-font-weight:bold"},"children":[{"type":"text","value":" val"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":" shortDayFormatDDMM "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583;--shiki-light:#D73A49;--shiki-sepia:#586E75;--shiki-default-font-weight:inherit;--shiki-light-font-weight:inherit;--shiki-sepia-font-weight:bold"},"children":[{"type":"text","value":"by"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0;--shiki-light:#6F42C1;--shiki-sepia:#268BD2"},"children":[{"type":"text","value":" lazy"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":" { "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0;--shiki-light:#6F42C1;--shiki-sepia:#268BD2"},"children":[{"type":"text","value":"SimpleDateFormat"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"},"children":[{"type":"text","value":"\"dd.MM\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":", locale) }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583;--shiki-light:#D73A49;--shiki-sepia:#586E75;--shiki-default-font-weight:inherit;--shiki-light-font-weight:inherit;--shiki-sepia-font-weight:bold"},"children":[{"type":"text","value":"fun"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0;--shiki-light:#6F42C1;--shiki-sepia:#268BD2"},"children":[{"type":"text","value":" formatShortDay"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":"(time: "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0;--shiki-light:#6F42C1;--shiki-sepia:#CB4B16"},"children":[{"type":"text","value":"Long"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":", useMonthDayTimeFormat: "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0;--shiki-light:#6F42C1;--shiki-sepia:#CB4B16"},"children":[{"type":"text","value":"Boolean"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":"): "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0;--shiki-light:#6F42C1;--shiki-sepia:#CB4B16"},"children":[{"type":"text","value":"String"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583;--shiki-light:#D73A49;--shiki-sepia:#859900"},"children":[{"type":"text","value":" ="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0;--shiki-light:#6F42C1;--shiki-sepia:#268BD2"},"children":[{"type":"text","value":" synchronized"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":"(lock) {  \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583;--shiki-light:#D73A49;--shiki-sepia:#859900"},"children":[{"type":"text","value":"    if"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":" (useMonthDayTimeFormat) {  \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583;--shiki-light:#D73A49;--shiki-sepia:#859900"},"children":[{"type":"text","value":"        return"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":" shortDayFormatMMDD."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0;--shiki-light:#6F42C1;--shiki-sepia:#268BD2"},"children":[{"type":"text","value":"format"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":"(time)  \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":"    } "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583;--shiki-light:#D73A49;--shiki-sepia:#859900"},"children":[{"type":"text","value":"else"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":" {  \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583;--shiki-light:#D73A49;--shiki-sepia:#859900"},"children":[{"type":"text","value":"        return"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":" shortDayFormatDDMM."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0;--shiki-light:#6F42C1;--shiki-sepia:#268BD2"},"children":[{"type":"text","value":"format"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":"(time)  \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":"    }  \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"},"children":[{"type":"text","value":"}\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If you want to see the full pull request you can "},{"type":"element","tag":"a","props":{"href":"https://github.com/Razeeman/Android-SimpleTimeTracker/pull/118","rel":["nofollow"],"target":"_blank"},"children":[{"type":"text","value":"check it out on Github"}]},{"type":"text","value":". One day later"},{"type":"element","tag":"sup","props":{},"children":[{"type":"element","tag":"a","props":{"href":"#user-content-fn-4","ariaDescribedBy":["footnote-label"],"dataFootnoteRef":"","id":"user-content-fnref-4"},"children":[{"type":"text","value":"4"}]}]},{"type":"text","value":" and it was merged with the comment.\n"},{"type":"element","tag":"img","props":{"alt":"Pull request accepted","src":"/posts/my-first-open-source-contribution/pr-accepted.png"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This seemed like a relatively simple change but I won't lie, it took me at least 2 hours to pull it off. I know that because I tracked my time."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"Time taken","src":"/posts/my-first-open-source-contribution/time-taken.png"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"To give a rough timeline:"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"First I cloned the repo and got the application running on my device"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Then I used specific string and other details to find the activity and class where the relevant time formatting code was located"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"I quickly replaced the existing time format with my own to see if this would fix the issue on my device. It did."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"I found all the places where the time formatting was referenced and ensured I didn't break any of those"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"I removed my quick fix and instead locked my change behind a setting that could be toggled and added code that allowed users to toggle that preference"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"I forked the repo, pushed my changes to a feature branch, and submitted a pull request"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The change was approved and merged."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"All things considered the process went a lot more smoothly than I expected. I'm definitely going to contribute more in the future and I'd recommend you all to as well."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"I mentioned 2 issues earlier but this post is already getting quite long so I'll leave it at that. Part 2 coming soon. If you want to get a sneak peak, check out the "},{"type":"element","tag":"a","props":{"href":"https://github.com/Razeeman/Android-SimpleTimeTracker/pull/119","rel":["nofollow"],"target":"_blank"},"children":[{"type":"text","value":"second pull request"}]},{"type":"text","value":" as well - slightly less likely to get merged but at least I'll be able to use the code for myself."}]},{"type":"element","tag":"section","props":{"className":["footnotes"],"dataFootnotes":""},"children":[{"type":"element","tag":"h2","props":{"className":["sr-only"],"id":"footnote-label"},"children":[{"type":"text","value":"Footnotes"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{"id":"user-content-fn-1"},"children":[{"type":"text","value":"I say that each has their merits but if I'm being honest, I have no idea why you would use day/month. I know people say that it's better because it's in order - you go day/month/year from smallest to largest. But that means that when you try sorting days in lexicographical order, you get 11/01/2022 before 13/07/2005 which makes absolutely no sense. I think most people would agree than year/month/day is the best format because that sorts really well. And if you exclude the year then you get month/day which is perfect! And yeah month/day/year is a weird format too but at least if the year is all the same (eg. if you have a separate folder for all 2023 files) then you get the nice sorting property again. "},{"type":"element","tag":"a","props":{"href":"#user-content-fnref-1","ariaLabel":"Back to reference 1","className":["data-footnote-backref"],"dataFootnoteBackref":""},"children":[{"type":"text","value":"↩"}]}]},{"type":"element","tag":"li","props":{"id":"user-content-fn-2"},"children":[{"type":"text","value":"Step one was actually cloning the repo, installing Android Studio, fixing random issues with gradle, finding out that for some reason I was using a 32 bit version of Java in Android Studio, and making sure that I was able to even run the thing on my phone. But all that is less interesting than the actual process of diving into a massive, unfamiliar codebase. "},{"type":"element","tag":"a","props":{"href":"#user-content-fnref-2","ariaLabel":"Back to reference 2","className":["data-footnote-backref"],"dataFootnoteBackref":""},"children":[{"type":"text","value":"↩"}]}]},{"type":"element","tag":"li","props":{"id":"user-content-fn-3"},"children":[{"type":"text","value":"Most of the expedition was copying and pasting the code used by a different setting - going through a bunch of different parts of the code to add a new preference for "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"useMonthDayTimeFormat"}]},{"type":"text","value":", adding a new checkbox to allow toggling the preference, adding UI event hooks so that everything behaves properly when the checkbox is checked, and refactoring a bunch of method signatures so we're able to pass the preferences down to where they're actually used. "},{"type":"element","tag":"a","props":{"href":"#user-content-fnref-3","ariaLabel":"Back to reference 3","className":["data-footnote-backref"],"dataFootnoteBackref":""},"children":[{"type":"text","value":"↩"}]}]},{"type":"element","tag":"li","props":{"id":"user-content-fn-4"},"children":[{"type":"text","value":"I double checked this after writing the blog and turns out it was even faster. Within 3 hours the pull request was reviewed and merged. "},{"type":"element","tag":"a","props":{"href":"#user-content-fnref-4","ariaLabel":"Back to reference 4","className":["data-footnote-backref"],"dataFootnoteBackref":""},"children":[{"type":"text","value":"↩"}]}]}]}]},{"type":"element","tag":"style","props":{},"children":[{"type":"text","value":"html.sepia .shiki span {color: var(--shiki-sepia);background: var(--shiki-sepia-bg);font-style: var(--shiki-sepia-font-style);font-weight: var(--shiki-sepia-font-weight);text-decoration: var(--shiki-sepia-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .sepia .shiki span {color: var(--shiki-sepia);background: var(--shiki-sepia-bg);font-style: var(--shiki-sepia-font-style);font-weight: var(--shiki-sepia-font-weight);text-decoration: var(--shiki-sepia-text-decoration);}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"footnote-label","depth":2,"text":"Footnotes"}]}},"_type":"markdown","_id":"content:posts:my-first-open-source-contribution.md","_source":"content","_file":"posts/my-first-open-source-contribution.md","_extension":"md"}