<!DOCTYPE html>
<html  lang="en">
<head><meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Using ChatGPT on an airplane through free Whatsapp - ChatGPT Over Whatsapp (COW)</title>
<link rel="apple-touch-icon" sizes="180x180" href="/favicons/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicons/favicon-16x16.png">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="manifest" href="/favicons/site.webmanifest">
<link rel="mask-icon" href="/favicons/safari-pinned-tab.svg" color="#72ed9f">
<meta name="msapplication-TileColor" content="#2b5797">
<meta name="msapplication-config" content="/favicons/browserconfig.xml">
<meta name="theme-color" content="#333333">
<meta property="og:title" content="Using ChatGPT on an airplane through free Whatsapp - ChatGPT Over Whatsapp (COW)">
<meta name="twitter:title" content="Using ChatGPT on an airplane through free Whatsapp - ChatGPT Over Whatsapp (COW)">
<meta name="description" content="ChatGPT is pretty useful and I didn't want to give up access when I flew. Most airlines give messaging access for free... so ChatGPT over Whatsapp was born.">
<meta property="og:description" content="ChatGPT is pretty useful and I didn't want to give up access when I flew. Most airlines give messaging access for free... so ChatGPT over Whatsapp was born.">
<meta name="twitter:description" content="ChatGPT is pretty useful and I didn't want to give up access when I flew. Most airlines give messaging access for free... so ChatGPT over Whatsapp was born.">
<meta name="twitter:card" content="summary">
<meta property="og:image" content="/posts/chatgpt-over-whatsapp/thumbnail.png">
<meta name="twitter:image" content="/posts/chatgpt-over-whatsapp/thumbnail.png">
<meta property="og:url" content="preethamrn.com/posts/chatgpt-over-whatsapp">
<script async src="https://platform.twitter.com/widgets.js"></script>
<link rel="preload" as="fetch" crossorigin="anonymous" href="/posts/chatgpt-over-whatsapp/_payload.json">
<style>.theme-toggle{margin-top:12px}.theme-toggle svg:hover{color:#20c997;cursor:pointer;transition:all .4s ease}</style>
<style>.header{align-items:center;display:flex;justify-content:space-between}.header a{border-bottom:none;color:inherit}.header .side-links{min-width:2.5em;width:7%}</style>
<style>.light{--app-background-color:#fff;--app-font-color:#000;--app-highlight-color:rgba(255,251,0,.5)}.dark{--app-background-color:#091a28;--app-font-color:#fff;--app-highlight-color:rgba(0,17,255,.541)}.sepia{--app-background-color:#f1e7d0;--app-font-color:#433422;--app-highlight-color:rgba(255,115,0,.5)}body{background-color:var(--app-background-color);color:var(--app-font-color);font-family:-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif;font-size:1.1em;line-height:1.5;margin:0;padding:0}.footer{align-items:center;font-size:.8em;margin-bottom:50px;margin-top:60px}.footer a{color:gray}.footer-links .footer-icon{border-bottom:none;font-size:1.2em;margin:0 4px}a{border-bottom:1px solid;color:#20c997;text-decoration:none}a:hover{border-bottom-color:currentColor;color:#686868}h1{margin-block-end:.67em;margin-block-start:.67em;margin-inline-end:0;margin-inline-start:0}@media only screen and (max-width:500px){.footer{flex-direction:column}.header h1{font-size:1em}}#contact.highlight{background-color:var(--app-highlight-color)}</style>
<style>.icon[data-v-bd832875]{display:inline-block;vertical-align:middle}</style>
<style>:root{--app-link-svg:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='20' height='20' aria-hidden='true' viewBox='0 0 16 16'%3E%3Cpath fill-rule='evenodd' d='M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9m9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6'/%3E%3C/svg%3E")}.light{--app-slight-contrast:#eee;--app-more-contrast:#cecece}.dark{--app-slight-contrast:#06111a;--app-more-contrast:#286ba1;--app-link-svg:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='20' height='20' aria-hidden='true' viewBox='0 0 16 16'%3E%3Cpath fill='%23fff' fill-rule='evenodd' d='M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9m9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6'/%3E%3C/svg%3E")}.sepia{--app-slight-contrast:#f7e1af;--app-more-contrast:#ffd271}.article{margin-top:15px}.article-title{margin-bottom:0}.article-date{color:var(--app-font-color);margin-top:0}.article-date,.article-footer{font-size:.8em}.article blockquote{border-left:5px solid var(--app-more-contrast);font-size:17.5px;margin:0 0 20px;padding:10px 20px}.article table{margin-bottom:20px;max-width:100%;width:100%}.article th{border-bottom:2px solid var(--app-more-contrast);vertical-align:bottom}.article td{border-top:1px solid var(--app-more-contrast);line-height:1.42857143;padding:8px;vertical-align:top}.article tr:nth-child(odd) td{background-color:var(--app-slight-contrast)}.article img{display:block;margin:10px auto;width:80%}.article-tag{border-bottom:none;font-style:italic;margin-right:10px;text-decoration:underline}.footnote-ref{border-bottom:unset;text-decoration:underline}.footnote-ref,.footnotes{font-size:.9em}.footnotes li{padding-bottom:5px}.icon-link{border-bottom:none;content:var(--app-link-svg);margin-left:-25px;margin-right:5px;transition:visibility 0s linear .3s,opacity .3s;visibility:hidden}.icon-link:hover,h1:hover .icon-link,h2:hover .icon-link,h3:hover .icon-link,h4:hover .icon-link,h5:hover .icon-link,h6:hover .icon-link{transition:visibility 0s linear 0ms,opacity .3s;visibility:visible}.twitter-tweet{margin:0 auto}@media only screen and (max-width:760px){code[class*=language-],pre[class*=language-]{font-size:.9em!important;line-height:1.1!important;overflow:auto}}</style>
<style>.two-col-container[data-v-4c93c052]{display:flex}.left-col[data-v-4c93c052]{flex-shrink:0;min-width:0;overflow-x:auto;overflow-y:hidden}.right-col[data-v-4c93c052]{flex:1;min-width:0}@media (max-width:760px){.two-col-container[data-v-4c93c052]{flex-direction:column}.left-col[data-v-4c93c052],.right-col[data-v-4c93c052]{flex:unset;overflow-x:unset;width:100%!important}}</style>
<style>pre code .line{display:block;min-height:1rem}</style>
<style>.container{margin:0 auto;max-width:900px;padding-left:20px;padding-right:20px}</style>
<link rel="stylesheet" href="/_nuxt/entry.23bc5450.css">
<link rel="stylesheet" href="/_nuxt/ProseCode.e63e49c6.css">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/entry.fc505427.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/default.7fc95cb4.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/Icon.e31fd601.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/index.b8fe2cb5.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/_slug_.0baf1402.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ContentRenderer.4b54a764.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ContentRendererMarkdown.vue.aaed1fe0.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/preview.667995fb.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/query.15653de8.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/formatDate.19cb4fd8.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/_commonjsHelpers.de833af9.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ContentRendererMarkdown.90bdf0fc.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseP.19bd7d72.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/SideBySide.5a5e9c7f.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseA.73850d34.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseImg.fd6c3416.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/nuxt-img.579fe5cf.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseOl.c50b7b28.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseLi.d3cf57f4.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProsePre.b4239586.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseCode.vue.00d8610a.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseCode.692daf57.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseCodeInline.b3a78f47.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseBlockquote.12585dd3.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseScript.b1d1410c.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseH2.01836ee1.js">
<script type="module" src="/_nuxt/entry.fc505427.js" crossorigin></script><script>"use strict";(()=>{const a=window,e=document.documentElement,m=["dark","light"],c=window&&window.localStorage&&window.localStorage.getItem&&window.localStorage.getItem("nuxt-color-mode")||"system";let n=c==="system"?d():c;const l=e.getAttribute("data-color-mode-forced");l&&(n=l),i(n),a["__NUXT_COLOR_MODE__"]={preference:c,value:n,getColorScheme:d,addColorScheme:i,removeColorScheme:f};function i(o){const t=""+o+"",s="";e.classList?e.classList.add(t):e.className+=" "+t,s&&e.setAttribute("data-"+s,o)}function f(o){const t=""+o+"",s="";e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp(t,"g"),""),s&&e.removeAttribute("data-"+s)}function r(o){return a.matchMedia("(prefers-color-scheme"+o+")")}function d(){if(a.matchMedia&&r("").media!=="not all"){for(const o of m)if(r(":"+o).matches)return o}return"dark"}})();
</script></head>
<body ><div id="__nuxt"><main class="layout-template" role="main"><div class="container"><!--[--><header class="header"><a href="/" class=""><h1>üë®‚Äçüíª Preetham</h1></a><!--[--><a href="/posts" class="">Posts</a><a href="/projects" class="">Projects</a><a aria-current="page" href="/posts/chatgpt-over-whatsapp#contact" class="router-link-active router-link-exact-active">Contact</a><!--]--><span class="header side-links"><span></span><a href="https://www.twitter.com/preethamrn" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" style="" width="1em" height="1em" viewBox="0 0 24 24" data-v-bd832875><path fill="currentColor" d="M22.46 6c-.77.35-1.6.58-2.46.69c.88-.53 1.56-1.37 1.88-2.38c-.83.5-1.75.85-2.72 1.05C18.37 4.5 17.26 4 16 4c-2.35 0-4.27 1.92-4.27 4.29c0 .34.04.67.11.98C8.28 9.09 5.11 7.38 3 4.79c-.37.63-.58 1.37-.58 2.15c0 1.49.75 2.81 1.91 3.56c-.71 0-1.37-.2-1.95-.5v.03c0 2.08 1.48 3.82 3.44 4.21a4.2 4.2 0 0 1-1.93.07a4.28 4.28 0 0 0 4 2.98a8.52 8.52 0 0 1-5.33 1.84q-.51 0-1.02-.06C3.44 20.29 5.7 21 8.12 21C16 21 20.33 14.46 20.33 8.79c0-.19 0-.37-.01-.56c.84-.6 1.56-1.36 2.14-2.23"/></svg></a></span></header><!--]--></div><!--[--><main><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.11.0/dist/katex.min.css" integrity="sha384-BdGj8xC2eZkQaxoQ8nSLefg4AV4/AwB3Fj+8SUSo7pnKP6Eoy18liIKTPn9oBYNG" crossorigin="anonymous"><div class="container article prose"><!--[--><h1 class="article-title">Using ChatGPT on an airplane through free Whatsapp - ChatGPT Over Whatsapp (COW)</h1><p class="article-date">14 January 2025 ¬∑ <i>7 min read</i></p><div><p><!--[-->I had a handful of flights coming up and knew that it would be convenient to have ChatGPT in the air - something to talk to if I ended up having a random question, wanted to know more about a movie before watching it (the summary blurbs rarely cut it), or just wanted to learn something new.<!--]--></p><div class="two-col-container" data-v-4c93c052><div class="left-col" style="width:50%;" data-v-4c93c052><!--[--><p><!--[-->Unfortunately for me, even though ChatGPT is purely text based like any other messaging app, airlines don&#39;t allow free access to OpenAI. Fortunately for me, ChatGPT is purely text based - so I built my own interface using the <a href="https://www.southwest.com/inflight-entertainment-portal" rel="nofollow" target="_blank"><!--[-->free messaging<!--]--></a> provided.<!--]--></p><!--]--></div><div class="right-col" data-v-4c93c052><!--[--><p><!--[--><img src="/_ipx/h_30&amp;w_30&amp;f_webp&amp;blur_1&amp;q_80/posts/chatgpt-over-whatsapp/free_messaging.png" onerror="this.setAttribute(&#39;data-error&#39;, 1)" alt="Free Messaging on Southwest" loading="lazy" data-nuxt-img style=""><!--]--></p><!--]--></div></div><p><!--[--><img src="/_ipx/h_30&amp;w_30&amp;f_webp&amp;blur_1&amp;q_80/posts/chatgpt-over-whatsapp/architecture.png" onerror="this.setAttribute(&#39;data-error&#39;, 1)" alt="Architecture diagram" loading="lazy" data-nuxt-img style=""><!--]--></p><p><!--[-->The architecture was simple:<!--]--></p><ol><!--[--><li><!--[-->use a free Twilio account with some developer credits<!--]--></li><li><!--[-->add a webhook to my server to process the messages and serve the response from ChatGPT<!--]--></li><li><!--[-->use the openai chat completions API to get responses back for my messages<!--]--></li><li><!--[-->???<!--]--></li><li><!--[-->profit<!--]--></li><!--]--></ol><p><!--[-->Usually at this point I end up hitting a bunch of roadblocks with the implementation but surprisingly this time, none of that happened. The Twilio sandbox account wasn&#39;t too hard to set up and even provided a really basic tutorial to make sure that everything was set up properly:
<img src="/_ipx/h_30&amp;w_30&amp;f_webp&amp;blur_1&amp;q_80/posts/chatgpt-over-whatsapp/setup1.png" onerror="this.setAttribute(&#39;data-error&#39;, 1)" alt="Join the Twilio sandbox in a single message" loading="lazy" data-nuxt-img style=""><img src="/_ipx/h_30&amp;w_30&amp;f_webp&amp;blur_1&amp;q_80/posts/chatgpt-over-whatsapp/setup2.png" onerror="this.setAttribute(&#39;data-error&#39;, 1)" alt="Send messages from Twilio to Whatsapp" loading="lazy" data-nuxt-img style=""><img src="/_ipx/h_30&amp;w_30&amp;f_webp&amp;blur_1&amp;q_80/posts/chatgpt-over-whatsapp/setup3.png" onerror="this.setAttribute(&#39;data-error&#39;, 1)" alt="Get messages from Whatsapp to Twilio using webhook" loading="lazy" data-nuxt-img style=""><!--]--></p><p><!--[-->Now if I was trying to doing this legitimately to provide a service for others, I would probably have to do a lot more in order to register my identity and prove that I&#39;m an actual business (I&#39;m not). But a sandbox account was able to do everything I needed. The only downside was that every 72 hours, I&#39;d need to reconnect my phone number with Twilio by sending the &quot;Connect to WhatsApp Sandbox&quot; message.<!--]--></p><p><!--[-->Now that I knew it was possible to send and receive Whatsapp messages from a webhook server, it was time to build that server. I haven&#39;t worked with Flask or the openai API before, but ChatGPT was kind enough to guide me in the right direction. After a few prompts, I was able to build a simple endpoint which would fetch the message parameters (From and Body). Then using the opanai chat completions API I get a response and return that back to the Twilio caller.<!--]--></p><!--[--><pre class="language-python shiki shiki-themes github-dark github-light solarized-light" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#B392F0;--shiki-light:#6F42C1;--shiki-sepia:#268BD2">@app.route</span><span style="--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83">(</span><span style="--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198">&#39;/webhook&#39;</span><span style="--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83">, </span><span style="--shiki-default:#FFAB70;--shiki-light:#E36209;--shiki-sepia:#657B83">methods</span><span style="--shiki-default:#F97583;--shiki-light:#D73A49;--shiki-sepia:#859900">=</span><span style="--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83">[</span><span style="--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198">&#39;POST&#39;</span><span style="--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83">])
</span></span><span class="line" line="2"><span style="--shiki-default:#F97583;--shiki-light:#D73A49;--shiki-sepia:#586E75;--shiki-default-font-weight:inherit;--shiki-light-font-weight:inherit;--shiki-sepia-font-weight:bold">def</span><span style="--shiki-default:#B392F0;--shiki-light:#6F42C1;--shiki-sepia:#268BD2"> webhook</span><span style="--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83">():
</span></span><span class="line" line="3"><span style="--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83">  sender_number </span><span style="--shiki-default:#F97583;--shiki-light:#D73A49;--shiki-sepia:#859900">=</span><span style="--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"> request.values.get(</span><span style="--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198">&#39;From&#39;</span><span style="--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83">, </span><span style="--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198">&#39;&#39;</span><span style="--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83">).strip()
</span></span><span class="line" line="4"><span style="--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83">  incoming_msg </span><span style="--shiki-default:#F97583;--shiki-light:#D73A49;--shiki-sepia:#859900">=</span><span style="--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"> request.values.get(</span><span style="--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198">&#39;Body&#39;</span><span style="--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83">, </span><span style="--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198">&#39;&#39;</span><span style="--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83">).strip()
</span></span><span class="line" line="5"><span style="--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83">  response </span><span style="--shiki-default:#F97583;--shiki-light:#D73A49;--shiki-sepia:#859900">=</span><span style="--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"> openai.chat.completions.create(
</span></span><span class="line" line="6"><span style="--shiki-default:#FFAB70;--shiki-light:#E36209;--shiki-sepia:#657B83">    model</span><span style="--shiki-default:#F97583;--shiki-light:#D73A49;--shiki-sepia:#859900">=</span><span style="--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83">model,
</span></span><span class="line" line="7"><span style="--shiki-default:#FFAB70;--shiki-light:#E36209;--shiki-sepia:#657B83">    messages</span><span style="--shiki-default:#F97583;--shiki-light:#D73A49;--shiki-sepia:#859900">=</span><span style="--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83">[
</span></span><span class="line" line="8"><span style="--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83">      {</span><span style="--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198">&quot;role&quot;</span><span style="--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83">: </span><span style="--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198">&quot;user&quot;</span><span style="--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83">, </span><span style="--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198">&quot;content&quot;</span><span style="--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83">: incoming_msg}
</span></span><span class="line" line="9"><span style="--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83">    ]
</span></span><span class="line" line="10"><span style="--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83">  )
</span></span><span class="line" line="11"><span style="--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83">  bot_reply </span><span style="--shiki-default:#F97583;--shiki-light:#D73A49;--shiki-sepia:#859900">=</span><span style="--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"> response.choices[</span><span style="--shiki-default:#79B8FF;--shiki-light:#005CC5;--shiki-sepia:#D33682">0</span><span style="--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83">].message.content.strip()
</span></span><span class="line" line="12"><span emptylineplaceholder="true">
</span></span><span class="line" line="13"><span style="--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83">  twilio_resp </span><span style="--shiki-default:#F97583;--shiki-light:#D73A49;--shiki-sepia:#859900">=</span><span style="--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"> MessagingResponse()
</span></span><span class="line" line="14"><span style="--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83">  twilio_resp.message(</span><span style="--shiki-default:#FFAB70;--shiki-light:#E36209;--shiki-sepia:#657B83">body</span><span style="--shiki-default:#F97583;--shiki-light:#D73A49;--shiki-sepia:#859900">=</span><span style="--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83">bot_reply)
</span></span><span class="line" line="15"><span style="--shiki-default:#F97583;--shiki-light:#D73A49;--shiki-sepia:#859900">  return</span><span style="--shiki-default:#79B8FF;--shiki-light:#005CC5;--shiki-sepia:#859900"> str</span><span style="--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83">(twilio_resp)
</span></span></code><!--]--></pre><!--]--><p><!--[-->Time to test.<!--]--></p><div class="two-col-container" data-v-4c93c052><div class="left-col" style="width:60%;" data-v-4c93c052><!--[--><p><!--[-->In the sandbox settings, I was able to configure the webhook URL which would process the API. Super simple! Only problem was that I wasn&#39;t sure how to expose my local development environment to Twilio. <a href="http://localhost:5000" rel="nofollow" target="_blank"><!--[-->http://localhost:5000<!--]--></a> wasn&#39;t going to cut it... Enter ngrok. The installation and setup for this was just as easy<sup><a aria-current="page" href="/posts/chatgpt-over-whatsapp#user-content-fn-1" class="router-link-active router-link-exact-active" aria-describedby="footnote-label" data-footnote-ref id="user-content-fnref-1"><!--[-->1<!--]--></a></sup>. I copied one command to install ngrok and one to configure my auth-token and in 3 minutes I was ready to start testing.<!--]--></p><!--[--><pre class="language-bash shiki shiki-themes github-dark github-light solarized-light" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#B392F0;--shiki-light:#6F42C1;--shiki-sepia:#268BD2">$</span><span style="--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"> ngrok</span><span style="--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"> http</span><span style="--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"> http://localhost:5000
</span></span><span class="line" line="2"><span style="--shiki-default:#B392F0;--shiki-light:#6F42C1;--shiki-sepia:#268BD2">Session</span><span style="--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"> Status</span><span style="--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198">                online</span><span style="--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83">                                                                          
</span></span><span class="line" line="3"><span style="--shiki-default:#B392F0;--shiki-light:#6F42C1;--shiki-sepia:#268BD2">Account</span><span style="--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198">                       Preetham</span><span style="--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"> (Plan: </span><span style="--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198">Free</span><span style="--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83">)
</span></span><span class="line" line="4"><span style="--shiki-default:#B392F0;--shiki-light:#6F42C1;--shiki-sepia:#268BD2">Version</span><span style="--shiki-default:#79B8FF;--shiki-light:#005CC5;--shiki-sepia:#D33682">                       3.18</span><span style="--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198">.0</span><span style="--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83">                               
</span></span><span class="line" line="5"><span style="--shiki-default:#B392F0;--shiki-light:#6F42C1;--shiki-sepia:#268BD2">Region</span><span style="--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198">                        United</span><span style="--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"> States</span><span style="--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"> (California) (</span><span style="--shiki-default:#B392F0;--shiki-light:#6F42C1;--shiki-sepia:#268BD2">us-cal-1</span><span style="--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83">)    
</span></span><span class="line" line="6"><span style="--shiki-default:#B392F0;--shiki-light:#6F42C1;--shiki-sepia:#268BD2">Latency</span><span style="--shiki-default:#79B8FF;--shiki-light:#005CC5;--shiki-sepia:#D33682">                       24</span><span style="--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198">ms</span><span style="--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83">                             
</span></span><span class="line" line="7"><span style="--shiki-default:#B392F0;--shiki-light:#6F42C1;--shiki-sepia:#268BD2">Web</span><span style="--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"> Interface</span><span style="--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198">                 http://127.0.0.1:4040</span><span style="--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83">          
</span></span><span class="line" line="8"><span style="--shiki-default:#B392F0;--shiki-light:#6F42C1;--shiki-sepia:#268BD2">Forwarding</span><span style="--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198">                    https://xxxx-12-34-56-789.ngrok-free.app</span><span style="--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"> 
</span></span><span class="line" line="9"><span style="--shiki-default:#B392F0;--shiki-light:#6F42C1;--shiki-sepia:#268BD2">                              -&gt;</span><span style="--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"> http://localhost:5000</span><span style="--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83">  
</span></span><span class="line" line="10"><span style="--shiki-default:#B392F0;--shiki-light:#6F42C1;--shiki-sepia:#268BD2">HTTP</span><span style="--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"> Requests</span><span style="--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83">                                                                                            
</span></span><span class="line" line="11"><span style="--shiki-default:#B392F0;--shiki-light:#6F42C1;--shiki-sepia:#268BD2">19:22:24.771</span><span style="--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"> PDT</span><span style="--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"> POST</span><span style="--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"> /webhook</span><span style="--shiki-default:#79B8FF;--shiki-light:#005CC5;--shiki-sepia:#D33682">                  200</span><span style="--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"> OK</span><span style="--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83">               
</span></span><span class="line" line="12"><span style="--shiki-default:#B392F0;--shiki-light:#6F42C1;--shiki-sepia:#268BD2">19:06:56.130</span><span style="--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"> PDT</span><span style="--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"> POST</span><span style="--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"> /webhook</span><span style="--shiki-default:#79B8FF;--shiki-light:#005CC5;--shiki-sepia:#D33682">                  200</span><span style="--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"> OK</span><span style="--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83">              
</span></span><span class="line" line="13"><span style="--shiki-default:#B392F0;--shiki-light:#6F42C1;--shiki-sepia:#268BD2">19:06:07.251</span><span style="--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"> PDT</span><span style="--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"> POST</span><span style="--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"> /</span><span style="--shiki-default:#79B8FF;--shiki-light:#005CC5;--shiki-sepia:#D33682">                         200</span><span style="--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"> OK
</span></span></code><!--]--></pre><!--]--><p><!--[-->I copied the Forwarding URL into my Twilio sandbox settings and tried it out... It didn&#39;t work. Checking the logs made the error pretty clear though. I forgot to add the <code class=""><!--[-->/webhook<!--]--></code> suffix where my endpoint was located.<!--]--></p><!--[--><pre class="language-bash shiki shiki-themes github-dark github-light solarized-light" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#B392F0;--shiki-light:#6F42C1;--shiki-sepia:#268BD2">Creating</span><span style="--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"> chatgpt-whatsapp_web_1</span><span style="--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"> ...</span><span style="--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"> done
</span></span><span class="line" line="2"><span style="--shiki-default:#B392F0;--shiki-light:#6F42C1;--shiki-sepia:#268BD2">Attaching</span><span style="--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"> to</span><span style="--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"> chatgpt-whatsapp_web_1
</span></span><span class="line" line="3"><span style="--shiki-default:#B392F0;--shiki-light:#6F42C1;--shiki-sepia:#268BD2">web_1</span><span style="--shiki-default:#F97583;--shiki-light:#D73A49;--shiki-sepia:#859900">  |</span><span style="--shiki-default:#B392F0;--shiki-light:#6F42C1;--shiki-sepia:#268BD2">  *</span><span style="--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"> Serving</span><span style="--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"> Flask</span><span style="--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"> app</span><span style="--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"> &#39;app&#39;
</span></span><span class="line" line="4"><span style="--shiki-default:#B392F0;--shiki-light:#6F42C1;--shiki-sepia:#268BD2">web_1</span><span style="--shiki-default:#F97583;--shiki-light:#D73A49;--shiki-sepia:#859900">  |</span><span style="--shiki-default:#B392F0;--shiki-light:#6F42C1;--shiki-sepia:#268BD2">  *</span><span style="--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"> Debug</span><span style="--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"> mode:</span><span style="--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"> off
</span></span><span class="line" line="5"><span style="--shiki-default:#B392F0;--shiki-light:#6F42C1;--shiki-sepia:#268BD2">web_1</span><span style="--shiki-default:#F97583;--shiki-light:#D73A49;--shiki-sepia:#859900">  |</span><span style="--shiki-default:#B392F0;--shiki-light:#6F42C1;--shiki-sepia:#268BD2"> WARNING:</span><span style="--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"> This</span><span style="--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"> is</span><span style="--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"> a</span><span style="--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"> development</span><span style="--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"> server.</span><span style="--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"> Do</span><span style="--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"> not</span><span style="--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"> use</span><span style="--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"> it</span><span style="--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"> in</span><span style="--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"> a</span><span style="--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"> production</span><span style="--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"> deployment.</span><span style="--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"> Use</span><span style="--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"> a</span><span style="--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"> production</span><span style="--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"> WSGI</span><span style="--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"> server</span><span style="--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"> instead.
</span></span><span class="line" line="6"><span style="--shiki-default:#B392F0;--shiki-light:#6F42C1;--shiki-sepia:#268BD2">web_1</span><span style="--shiki-default:#F97583;--shiki-light:#D73A49;--shiki-sepia:#859900">  |</span><span style="--shiki-default:#B392F0;--shiki-light:#6F42C1;--shiki-sepia:#268BD2">  *</span><span style="--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"> Running</span><span style="--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"> on</span><span style="--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"> all</span><span style="--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"> addresses</span><span style="--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"> (0.0.0.0)
</span></span><span class="line" line="7"><span style="--shiki-default:#B392F0;--shiki-light:#6F42C1;--shiki-sepia:#268BD2">web_1</span><span style="--shiki-default:#F97583;--shiki-light:#D73A49;--shiki-sepia:#859900">  |</span><span style="--shiki-default:#B392F0;--shiki-light:#6F42C1;--shiki-sepia:#268BD2">  *</span><span style="--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"> Running</span><span style="--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"> on</span><span style="--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"> http://127.0.0.1:5000
</span></span><span class="line" line="8"><span style="--shiki-default:#B392F0;--shiki-light:#6F42C1;--shiki-sepia:#268BD2">web_1</span><span style="--shiki-default:#F97583;--shiki-light:#D73A49;--shiki-sepia:#859900">  |</span><span style="--shiki-default:#B392F0;--shiki-light:#6F42C1;--shiki-sepia:#268BD2">  *</span><span style="--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"> Running</span><span style="--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"> on</span><span style="--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"> http://172.19.0.2:5000
</span></span><span class="line" line="9"><span style="--shiki-default:#B392F0;--shiki-light:#6F42C1;--shiki-sepia:#268BD2">web_1</span><span style="--shiki-default:#F97583;--shiki-light:#D73A49;--shiki-sepia:#859900">  |</span><span style="--shiki-default:#B392F0;--shiki-light:#6F42C1;--shiki-sepia:#268BD2"> Press</span><span style="--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"> CTRL+C</span><span style="--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"> to</span><span style="--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"> quit
</span></span><span class="line" line="10"><span style="--shiki-default:#B392F0;--shiki-light:#6F42C1;--shiki-sepia:#268BD2">web_1</span><span style="--shiki-default:#F97583;--shiki-light:#D73A49;--shiki-sepia:#859900">  |</span><span style="--shiki-default:#B392F0;--shiki-light:#6F42C1;--shiki-sepia:#268BD2"> 172.19.0.1</span><span style="--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"> -</span><span style="--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"> -</span><span style="--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"> [20/Oct/2024 </span><span style="--shiki-default:#79B8FF;--shiki-light:#005CC5;--shiki-sepia:#D33682">02</span><span style="--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198">:06:09]</span><span style="--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"> &quot;POST / HTTP/1.1&quot;</span><span style="--shiki-default:#79B8FF;--shiki-light:#005CC5;--shiki-sepia:#D33682"> 404</span><span style="--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"> -
</span></span><span class="line" line="11"><span style="--shiki-default:#B392F0;--shiki-light:#6F42C1;--shiki-sepia:#268BD2">web_1</span><span style="--shiki-default:#F97583;--shiki-light:#D73A49;--shiki-sepia:#859900">  |</span><span style="--shiki-default:#B392F0;--shiki-light:#6F42C1;--shiki-sepia:#268BD2"> 172.19.0.1</span><span style="--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"> -</span><span style="--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"> -</span><span style="--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83"> [20/Oct/2024 </span><span style="--shiki-default:#79B8FF;--shiki-light:#005CC5;--shiki-sepia:#D33682">02</span><span style="--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198">:06:58]</span><span style="--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"> &quot;POST /webhook HTTP/1.1&quot;</span><span style="--shiki-default:#79B8FF;--shiki-light:#005CC5;--shiki-sepia:#D33682"> 200</span><span style="--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198"> -
</span></span></code><!--]--></pre><!--]--><p><!--[-->Once I added that, everything worked perfectly. So perfectly that I wasn&#39;t even sure if I wanted to write a blog post about something that ended up being so simple.<!--]--></p><!--]--></div><div class="right-col" data-v-4c93c052><!--[--><p><!--[--><img src="/_ipx/h_30&amp;w_30&amp;f_webp&amp;blur_1&amp;q_80/posts/chatgpt-over-whatsapp/initial_setup.jpg" onerror="this.setAttribute(&#39;data-error&#39;, 1)" alt="Initial setup and response from OpenAI API (with a few quickly fixed errors along the way)" loading="lazy" data-nuxt-img style=""><!--]--></p><!--]--></div></div><p><!--[--><img src="/_ipx/h_30&amp;w_30&amp;f_webp&amp;blur_1&amp;q_80/posts/chatgpt-over-whatsapp/sandbox_settings.png" onerror="this.setAttribute(&#39;data-error&#39;, 1)" alt="Sandbox settings" loading="lazy" data-nuxt-img style=""><!--]--></p><p><!--[-->Deploying this to production was as simple as starting up the docker container on my production DigitalOcean instance and changing the webhook URL in the Twilio sandbox settings. Note that even if you set an IP address as the URL, you still need to add the <code class=""><!--[-->http://<!--]--></code> prefix.<!--]--></p><p><!--[-->Afterwards in order to make things a bit more complex, I wanted to support a feature to allow users to change the server model - by default it was using 4o-mini, but maybe if I was more price conscious I could switch to 3.5-turbo or if I wanted more intelligence I could try 4o or gpt-4.<!--]--></p><p><!--[-->Finally I tried adding a way to check how many credits I have left on my accounts. Unfortunately OpenAI doesn&#39;t provide an API for this and I wasn&#39;t prepared to reverse engineer the OpenAI dashboard page. It turns out that ChatGPT is a lot cheaper than I expected - the $5 in credits would probably last me longer than my Twilio credits so I wasn&#39;t too worried about getting this to work.<!--]--></p><p><!--[-->So in conclusion, all I needed in order to get this working was:<!--]--></p><ol><!--[--><li><!--[-->some Twilio credits<!--]--></li><li><!--[-->OpenAI credits<!--]--></li><li><!--[-->a DigitalOcean server<!--]--></li><li><!--[-->a few hours building and deploying this webapp<!--]--></li><!--]--></ol><p><!--[-->Is it probably cheaper and easier to just pay for in flight Wifi? Yes. But that&#39;s no fun.<!--]--></p><div class="two-col-container" data-v-4c93c052><div class="left-col" style="width:50%;" data-v-4c93c052><!--[--><p><!--[--><img src="/_ipx/h_30&amp;w_30&amp;f_webp&amp;blur_1&amp;q_80/posts/chatgpt-over-whatsapp/airplane1.jpg" onerror="this.setAttribute(&#39;data-error&#39;, 1)" alt="First picture on a plane in airplane mode" loading="lazy" data-nuxt-img style=""><!--]--></p><!--]--></div><div class="right-col" data-v-4c93c052><!--[--><p><!--[--><img src="/_ipx/h_30&amp;w_30&amp;f_webp&amp;blur_1&amp;q_80/posts/chatgpt-over-whatsapp/airplane2.jpg" onerror="this.setAttribute(&#39;data-error&#39;, 1)" alt="Second picture showing reply from ChatGPT in airplane mode" loading="lazy" data-nuxt-img style=""><!--]--></p><!--]--></div></div><blockquote class="twitter-tweet"><!--[--><p lang="en" dir="ltr"><!--[-->Got ChatGPT working on an airline by routing it through Whatsapp.<a href="https://t.co/EXeJ8RfstK" rel="noopener noreferrer"><!--[-->https://t.co/EXeJ8RfstK<!--]--></a><!--]--></p>‚Äî preethamrn (@preethamrn) <a href="https://twitter.com/preethamrn/status/1879771989692613085?ref_src=twsrc%5Etfw" rel="noopener noreferrer"><!--[-->January 16, 2025<!--]--></a><!--]--></blockquote> <!----> 
<section class="footnotes" data-footnotes><h2 id="footnote-label" class="sr-only"><a href="#footnote-label" class="icon-link"></a><!--[-->Footnotes<!--]--></h2><ol><!--[--><li id="user-content-fn-1"><!--[-->It&#39;s a little scary how easy it was to expose my local network to the outside world. <a aria-current="page" href="/posts/chatgpt-over-whatsapp#user-content-fnref-1" class="router-link-active router-link-exact-active data-footnote-backref" aria-label="Back to reference 1" data-footnote-backref><!--[-->‚Ü©<!--]--></a><!--]--></li><!--]--></ol></section><style>html.sepia .shiki span {color: var(--shiki-sepia);background: var(--shiki-sepia-bg);font-style: var(--shiki-sepia-font-style);font-weight: var(--shiki-sepia-font-weight);text-decoration: var(--shiki-sepia-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .sepia .shiki span {color: var(--shiki-sepia);background: var(--shiki-sepia-bg);font-style: var(--shiki-sepia-font-style);font-weight: var(--shiki-sepia-font-weight);text-decoration: var(--shiki-sepia-text-decoration);}</style></div><hr><!--[--><a href="/posts/tag/Programming" class="article-tag"> #Programming</a><!--]--><p class="article-footer"> Written by <a href="https://www.twitter.com/preethamrn">@preethamrn</a>: Software developer at Uber with a degree in CS. Go, Storage, Distributed Systems, Bouldering, Rubik&#39;s Cubes. <a href="https://www.github.com/preethamrn">Github</a></p><!--]--></div></main><!--]--><div class="container"><!--[--><div id="contact" class="footer"><div class="footer-links"> Follow me: <a href="https://www.twitter.com/preethamrn" target="_blank" class="footer-icon"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" style="" width="1em" height="1em" viewBox="0 0 24 24" data-v-bd832875><path fill="currentColor" d="M22.46 6c-.77.35-1.6.58-2.46.69c.88-.53 1.56-1.37 1.88-2.38c-.83.5-1.75.85-2.72 1.05C18.37 4.5 17.26 4 16 4c-2.35 0-4.27 1.92-4.27 4.29c0 .34.04.67.11.98C8.28 9.09 5.11 7.38 3 4.79c-.37.63-.58 1.37-.58 2.15c0 1.49.75 2.81 1.91 3.56c-.71 0-1.37-.2-1.95-.5v.03c0 2.08 1.48 3.82 3.44 4.21a4.2 4.2 0 0 1-1.93.07a4.28 4.28 0 0 0 4 2.98a8.52 8.52 0 0 1-5.33 1.84q-.51 0-1.02-.06C3.44 20.29 5.7 21 8.12 21C16 21 20.33 14.46 20.33 8.79c0-.19 0-.37-.01-.56c.84-.6 1.56-1.36 2.14-2.23"/></svg></a><a href="https://www.youtube.com/channel/UC7tKYiFtH_6HCBD4hh7hTWw" target="_blank" class="footer-icon"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" style="" width="1em" height="1em" viewBox="0 0 24 24" data-v-bd832875><path fill="currentColor" d="m10 15l5.19-3L10 9zm11.56-7.83c.13.47.22 1.1.28 1.9c.07.8.1 1.49.1 2.09L22 12c0 2.19-.16 3.8-.44 4.83c-.25.9-.83 1.48-1.73 1.73c-.47.13-1.33.22-2.65.28c-1.3.07-2.49.1-3.59.1L12 19c-4.19 0-6.8-.16-7.83-.44c-.9-.25-1.48-.83-1.73-1.73c-.13-.47-.22-1.1-.28-1.9c-.07-.8-.1-1.49-.1-2.09L2 12c0-2.19.16-3.8.44-4.83c.25-.9.83-1.48 1.73-1.73c.47-.13 1.33-.22 2.65-.28c1.3-.07 2.49-.1 3.59-.1L12 5c4.19 0 6.8.16 7.83.44c.9.25 1.48.83 1.73 1.73"/></svg></a><a href="https://www.twitch.com/preethamrn" target="_blank" class="footer-icon"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" style="" width="1em" height="1em" viewBox="0 0 24 24" data-v-bd832875><path fill="currentColor" d="M11.64 5.93h1.43v4.28h-1.43m3.93-4.28H17v4.28h-1.43M7 2L3.43 5.57v12.86h4.28V22l3.58-3.57h2.85L20.57 12V2m-1.43 9.29l-2.85 2.85h-2.86l-2.5 2.5v-2.5H7.71V3.43h11.43Z"/></svg></a><a href="https://www.github.com/preethamrn" target="_blank" class="footer-icon"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" style="" width="1em" height="1em" viewBox="0 0 24 24" data-v-bd832875><path fill="currentColor" d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5c.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34c-.46-1.16-1.11-1.47-1.11-1.47c-.91-.62.07-.6.07-.6c1 .07 1.53 1.03 1.53 1.03c.87 1.52 2.34 1.07 2.91.83c.09-.65.35-1.09.63-1.34c-2.22-.25-4.55-1.11-4.55-4.92c0-1.11.38-2 1.03-2.71c-.1-.25-.45-1.29.1-2.64c0 0 .84-.27 2.75 1.02c.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02c.55 1.35.2 2.39.1 2.64c.65.71 1.03 1.6 1.03 2.71c0 3.82-2.34 4.66-4.57 4.91c.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg></a><br> To hear about new posts: subscribe to my <a target="_blank" href="/feed.xml">RSS Feed</a> with a reader like <a target="_blank" href="https://feedly.com/">Feedly</a><br><div> ¬© 2025 Preetham Narayanareddy <a href="mailto:preetham.narayanareddy@gmail.com" target="_blank" class="footer-icon"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" style="" width="1em" height="1em" viewBox="0 0 256 256" data-v-bd832875><path fill="currentColor" d="M224 48H32a8 8 0 0 0-8 8v136a16 16 0 0 0 16 16h176a16 16 0 0 0 16-16V56a8 8 0 0 0-8-8m-96 85.15L52.57 64h150.86ZM98.71 128L40 181.81V74.19Zm11.84 10.85l12 11.05a8 8 0 0 0 10.82 0l12-11.05l58 53.15H52.57ZM157.29 128L216 74.18v107.64Z"/></svg></a> ¬†<a target="_blank" href="/sitemap.xml">Sitemap</a></div></div></div><!--]--></div></main></div><script type="application/json" id="__NUXT_DATA__" data-ssr="true" data-src="/posts/chatgpt-over-whatsapp/_payload.json">[{"state":1,"_errors":25,"serverRendered":5,"path":28,"prerenderedAt":29},["Reactive",2],{"$scolor-mode":3,"$sicons":7,"$ssite-config":21},{"preference":4,"value":4,"unknown":5,"forced":6},"system",true,false,{"mdi:twitter":8,"mdi:youtube":12,"mdi:twitch":14,"mdi:github":16,"ph:envelope":18},{"left":9,"top":9,"width":10,"height":10,"rotate":9,"vFlip":6,"hFlip":6,"body":11},0,24,"\u003Cpath fill=\"currentColor\" d=\"M22.46 6c-.77.35-1.6.58-2.46.69c.88-.53 1.56-1.37 1.88-2.38c-.83.5-1.75.85-2.72 1.05C18.37 4.5 17.26 4 16 4c-2.35 0-4.27 1.92-4.27 4.29c0 .34.04.67.11.98C8.28 9.09 5.11 7.38 3 4.79c-.37.63-.58 1.37-.58 2.15c0 1.49.75 2.81 1.91 3.56c-.71 0-1.37-.2-1.95-.5v.03c0 2.08 1.48 3.82 3.44 4.21a4.2 4.2 0 0 1-1.93.07a4.28 4.28 0 0 0 4 2.98a8.52 8.52 0 0 1-5.33 1.84q-.51 0-1.02-.06C3.44 20.29 5.7 21 8.12 21C16 21 20.33 14.46 20.33 8.79c0-.19 0-.37-.01-.56c.84-.6 1.56-1.36 2.14-2.23\"/>",{"left":9,"top":9,"width":10,"height":10,"rotate":9,"vFlip":6,"hFlip":6,"body":13},"\u003Cpath fill=\"currentColor\" d=\"m10 15l5.19-3L10 9zm11.56-7.83c.13.47.22 1.1.28 1.9c.07.8.1 1.49.1 2.09L22 12c0 2.19-.16 3.8-.44 4.83c-.25.9-.83 1.48-1.73 1.73c-.47.13-1.33.22-2.65.28c-1.3.07-2.49.1-3.59.1L12 19c-4.19 0-6.8-.16-7.83-.44c-.9-.25-1.48-.83-1.73-1.73c-.13-.47-.22-1.1-.28-1.9c-.07-.8-.1-1.49-.1-2.09L2 12c0-2.19.16-3.8.44-4.83c.25-.9.83-1.48 1.73-1.73c.47-.13 1.33-.22 2.65-.28c1.3-.07 2.49-.1 3.59-.1L12 5c4.19 0 6.8.16 7.83.44c.9.25 1.48.83 1.73 1.73\"/>",{"left":9,"top":9,"width":10,"height":10,"rotate":9,"vFlip":6,"hFlip":6,"body":15},"\u003Cpath fill=\"currentColor\" d=\"M11.64 5.93h1.43v4.28h-1.43m3.93-4.28H17v4.28h-1.43M7 2L3.43 5.57v12.86h4.28V22l3.58-3.57h2.85L20.57 12V2m-1.43 9.29l-2.85 2.85h-2.86l-2.5 2.5v-2.5H7.71V3.43h11.43Z\"/>",{"left":9,"top":9,"width":10,"height":10,"rotate":9,"vFlip":6,"hFlip":6,"body":17},"\u003Cpath fill=\"currentColor\" d=\"M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5c.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34c-.46-1.16-1.11-1.47-1.11-1.47c-.91-.62.07-.6.07-.6c1 .07 1.53 1.03 1.53 1.03c.87 1.52 2.34 1.07 2.91.83c.09-.65.35-1.09.63-1.34c-2.22-.25-4.55-1.11-4.55-4.92c0-1.11.38-2 1.03-2.71c-.1-.25-.45-1.29.1-2.64c0 0 .84-.27 2.75 1.02c.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02c.55 1.35.2 2.39.1 2.64c.65.71 1.03 1.6 1.03 2.71c0 3.82-2.34 4.66-4.57 4.91c.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2\"/>",{"left":9,"top":9,"width":19,"height":19,"rotate":9,"vFlip":6,"hFlip":6,"body":20},256,"\u003Cpath fill=\"currentColor\" d=\"M224 48H32a8 8 0 0 0-8 8v136a16 16 0 0 0 16 16h176a16 16 0 0 0 16-16V56a8 8 0 0 0-8-8m-96 85.15L52.57 64h150.86ZM98.71 128L40 181.81V74.19Zm11.84 10.85l12 11.05a8 8 0 0 0 10.82 0l12-11.05l58 53.15H52.57ZM157.29 128L216 74.18v107.64Z\"/>",{"env":22,"name":23,"url":24},"production","preethamrn.com","https://www.preethamrn.com",["Reactive",26],{"post-/posts/chatgpt-over-whatsapp":27},null,"/posts/chatgpt-over-whatsapp",1737325882193]</script>
<script>window.__NUXT__={};window.__NUXT__.config={public:{mdc:{components:{prose:true,map:{p:"prose-p",a:"prose-a",blockquote:"prose-blockquote","code-inline":"prose-code-inline",code:"ProseCodeInline",em:"prose-em",h1:"prose-h1",h2:"prose-h2",h3:"prose-h3",h4:"prose-h4",h5:"prose-h5",h6:"prose-h6",hr:"prose-hr",img:"prose-img",ul:"prose-ul",ol:"prose-ol",li:"prose-li",strong:"prose-strong",table:"prose-table",thead:"prose-thead",tbody:"prose-tbody",td:"prose-td",th:"prose-th",tr:"prose-tr",highlight:"Highlight","side-by-side":"SideBySide",floatingpointdemo:"FloatingPointDemo",newtonmethoddemo:"NewtonMethodDemo","youtube-embed":"YoutubeEmbed"}},headings:{anchorLinks:{h1:true,h2:true,h3:true,h4:true,h5:true,h6:true}}},content:{locales:[],defaultLocale:"",integrity:1737325866579,experimental:{stripQueryParameters:false,advanceQuery:false,clientDB:false},respectPathCase:false,api:{baseURL:"/api/_content"},navigation:{fields:[]},tags:{p:"prose-p",a:"prose-a",blockquote:"prose-blockquote","code-inline":"prose-code-inline",code:"ProseCodeInline",em:"prose-em",h1:"prose-h1",h2:"prose-h2",h3:"prose-h3",h4:"prose-h4",h5:"prose-h5",h6:"prose-h6",hr:"prose-hr",img:"prose-img",ul:"prose-ul",ol:"prose-ol",li:"prose-li",strong:"prose-strong",table:"prose-table",thead:"prose-thead",tbody:"prose-tbody",td:"prose-td",th:"prose-th",tr:"prose-tr",highlight:"Highlight","side-by-side":"SideBySide",floatingpointdemo:"FloatingPointDemo",newtonmethoddemo:"NewtonMethodDemo","youtube-embed":"YoutubeEmbed"},highlight:{theme:{default:"github-dark",light:"github-light",sepia:"solarized-light"},preload:["c","cpp","kotlin","go","javascript","xml","bash"]},wsUrl:"",documentDriven:false,host:"",trailingSlash:false,search:"",contentHead:true,anchorLinks:true},gtag:{id:"G-9J18JN15N0",config:{},initialConsent:true,loadingStrategy:"defer"}},app:{baseURL:"/",buildAssetsDir:"/_nuxt/",cdnURL:""}}</script></body>
</html>