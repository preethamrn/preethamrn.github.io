[{"data":1,"prerenderedAt":1490},["Reactive",2],{"post-/posts/my-first-open-source-contribution":3},{"_path":4,"_dir":5,"_draft":6,"_partial":6,"_locale":7,"title":8,"description":9,"link":10,"date":11,"timeToRead":12,"tags":13,"body":16,"_type":1485,"_id":1486,"_source":1487,"_file":1488,"_extension":1489},"/posts/my-first-open-source-contribution","posts",false,"","My First Open Source Contribution","One of the things that I love about programming is that you can see a problem in the world and solve it. So when I found out that one of the apps I used on a daily basis was open source, I was pleasantly surprised","my-first-open-source-contribution","2023-08-06T00:00:00.000Z",6,[14,15],"Learn","Programming",{"type":17,"children":18,"toc":1482},"root",[19,48,71,76,106,111,116,125,143,148,219,224,450,455,497,521,692,712,805,810,848,876,1019,1031,1049,1290,1322,1327,1335,1340,1378,1383,1397,1476],{"type":20,"tag":21,"props":22,"children":23},"element","p",{},[24,27,37,39,46],{"type":25,"value":26},"text","One of the things that I love about programming is that you can see a problem in the world and solve it. When I had trouble getting into one of my college classes, I wrote a web scraper that would look at the class catalog for open seats and notify me when a spot came up so I could quickly register. When there wasn't a website for some niche Pokemon specific information, ",{"type":20,"tag":28,"props":29,"children":34},"a",{"href":30,"rel":31,"target":33},"https://www.preethamrn.com/pokemondens/",[32],"nofollow","_blank",[35],{"type":25,"value":36},"I made one myself",{"type":25,"value":38}," (",{"type":20,"tag":28,"props":40,"children":43},{"href":41,"rel":42,"target":33},"https://www.preethamrn.com/posts/2020-year-in-review#pokemon-dens",[32],[44],{"type":25,"value":45},"and it went a little viral",{"type":25,"value":47},").",{"type":20,"tag":21,"props":49,"children":50},{},[51,53,60,62,69],{"type":25,"value":52},"So when I found out that one of the ",{"type":20,"tag":28,"props":54,"children":57},{"href":55,"rel":56,"target":33},"https://play.google.com/store/apps/details?id=com.razeeman.util.simpletimetracker",[32],[58],{"type":25,"value":59},"apps",{"type":25,"value":61}," I used on a daily basis was ",{"type":20,"tag":28,"props":63,"children":66},{"href":64,"rel":65,"target":33},"https://github.com/Razeeman/Android-SimpleTimeTracker",[32],[67],{"type":25,"value":68},"open source",{"type":25,"value":70},", I was pleasantly surprised. This app allowed you to track how you spent every second of your day. I love data and I love procrastination so this was perfect for me - I get to analyze how I spend my time and clamp down on the ways that I procrastinate mindlessly.",{"type":20,"tag":21,"props":72,"children":73},{},[74],{"type":25,"value":75},"But there were 2 issues that bothered me:",{"type":20,"tag":77,"props":78,"children":79},"ol",{},[80,101],{"type":20,"tag":81,"props":82,"children":83},"li",{},[84,86,99],{"type":25,"value":85},"The date format used \"day/month\" instead of \"month/day\". I've lived in India and the US so I'm familiar with both and each have their merits",{"type":20,"tag":87,"props":88,"children":89},"sup",{},[90],{"type":20,"tag":28,"props":91,"children":96},{"href":92,"ariaDescribedBy":93,"dataFootnoteRef":7,"id":95},"#user-content-fn-1",[94],"footnote-label","user-content-fnref-1",[97],{"type":25,"value":98},"1",{"type":25,"value":100}," but I'm used to month/day right now so I wished there was a setting for it.",{"type":20,"tag":81,"props":102,"children":103},{},[104],{"type":25,"value":105},"The app allows you to filter for activities in a specific time range. However, if an activity exceeds the time range then it doesn't clamp it to the specified time range. I don't need to know that I spent 30 minutes watching YouTube, 30 minutes reading, and 8 hours sleeping for the activities between 12am and 2am.",{"type":20,"tag":21,"props":107,"children":108},{},[109],{"type":25,"value":110},"Now, I could actually fix them. On the other hand, I was a little bit daunted. Even though this wasn't the Linux kernel or anything like that it would still be my first time contributing a real change to some open source codebase and I didn't want to make a fool of myself.",{"type":20,"tag":21,"props":112,"children":113},{},[114],{"type":25,"value":115},"This post will go over issue #1 - Supporting month/day formatting in the bar chart.",{"type":20,"tag":21,"props":117,"children":118},{},[119],{"type":20,"tag":120,"props":121,"children":124},"img",{"alt":122,"src":123},"The issue","/posts/my-first-open-source-contribution/issue.png",[],{"type":20,"tag":21,"props":126,"children":127},{},[128,130,141],{"type":25,"value":129},"Step one was figuring out where the date formatting code even was",{"type":20,"tag":87,"props":131,"children":132},{},[133],{"type":20,"tag":28,"props":134,"children":138},{"href":135,"ariaDescribedBy":136,"dataFootnoteRef":7,"id":137},"#user-content-fn-2",[94],"user-content-fnref-2",[139],{"type":25,"value":140},"2",{"type":25,"value":142},". Generally when I'm doing this, I first try to get a grip onto the code by diving deep into it. I look for the tiniest thing that I can recognize and try to work my way around that to see how it fits in.",{"type":20,"tag":21,"props":144,"children":145},{},[146],{"type":25,"value":147},"In this case, that was the string \"Average for period\" you can see in the image above. Searching for it led me to this code:",{"type":20,"tag":149,"props":150,"children":154},"pre",{"className":151,"code":152,"language":153,"meta":7,"style":7},"language-xml shiki shiki-themes github-dark github-light solarized-light","\u003Cstring name=\"statistics_detail_range_averages_title\">Average for period: %s\u003C/string>\n","xml",[155],{"type":20,"tag":156,"props":157,"children":158},"code",{"__ignoreMap":7},[159],{"type":20,"tag":160,"props":161,"children":164},"span",{"class":162,"line":163},"line",1,[165,171,177,183,189,195,200,205,210,214],{"type":20,"tag":160,"props":166,"children":168},{"style":167},"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#93A1A1",[169],{"type":25,"value":170},"\u003C",{"type":20,"tag":160,"props":172,"children":174},{"style":173},"--shiki-default:#85E89D;--shiki-light:#22863A;--shiki-sepia:#268BD2",[175],{"type":25,"value":176},"string",{"type":20,"tag":160,"props":178,"children":180},{"style":179},"--shiki-default:#B392F0;--shiki-light:#6F42C1;--shiki-sepia:#93A1A1",[181],{"type":25,"value":182}," name",{"type":20,"tag":160,"props":184,"children":186},{"style":185},"--shiki-default:#E1E4E8;--shiki-light:#24292E;--shiki-sepia:#657B83",[187],{"type":25,"value":188},"=",{"type":20,"tag":160,"props":190,"children":192},{"style":191},"--shiki-default:#9ECBFF;--shiki-light:#032F62;--shiki-sepia:#2AA198",[193],{"type":25,"value":194},"\"statistics_detail_range_averages_title\"",{"type":20,"tag":160,"props":196,"children":197},{"style":167},[198],{"type":25,"value":199},">",{"type":20,"tag":160,"props":201,"children":202},{"style":185},[203],{"type":25,"value":204},"Average for period: %s",{"type":20,"tag":160,"props":206,"children":207},{"style":167},[208],{"type":25,"value":209},"\u003C/",{"type":20,"tag":160,"props":211,"children":212},{"style":173},[213],{"type":25,"value":176},{"type":20,"tag":160,"props":215,"children":216},{"style":167},[217],{"type":25,"value":218},">\n",{"type":20,"tag":21,"props":220,"children":221},{},[222],{"type":25,"value":223},"And searching for the resource name got me this:",{"type":20,"tag":149,"props":225,"children":229},{"className":226,"code":227,"language":228,"meta":7,"style":7},"language-kotlin shiki shiki-themes github-dark github-light solarized-light","private fun getRangeAverages(  \n    data: List\u003CChartBarDataDuration>,  \n    ...\n): Pair\u003CString, List\u003CStatisticsDetailCardViewData>> {\n...\nval title = resourceRepo.getString(  \n    R.string.statistics_detail_range_averages_title,  \n    mapToGroupingName(chartGrouping)  \n)\n...\n}\n","kotlin",[230],{"type":20,"tag":156,"props":231,"children":232},{"__ignoreMap":7},[233,258,292,307,353,366,397,406,420,429,441],{"type":20,"tag":160,"props":234,"children":235},{"class":162,"line":163},[236,242,247,253],{"type":20,"tag":160,"props":237,"children":239},{"style":238},"--shiki-default:#F97583;--shiki-light:#D73A49;--shiki-sepia:#586E75;--shiki-default-font-weight:inherit;--shiki-light-font-weight:inherit;--shiki-sepia-font-weight:bold",[240],{"type":25,"value":241},"private",{"type":20,"tag":160,"props":243,"children":244},{"style":238},[245],{"type":25,"value":246}," fun",{"type":20,"tag":160,"props":248,"children":250},{"style":249},"--shiki-default:#B392F0;--shiki-light:#6F42C1;--shiki-sepia:#268BD2",[251],{"type":25,"value":252}," getRangeAverages",{"type":20,"tag":160,"props":254,"children":255},{"style":185},[256],{"type":25,"value":257},"(  \n",{"type":20,"tag":160,"props":259,"children":261},{"class":162,"line":260},2,[262,267,272,278,282,287],{"type":20,"tag":160,"props":263,"children":264},{"style":238},[265],{"type":25,"value":266},"    data",{"type":20,"tag":160,"props":268,"children":269},{"style":185},[270],{"type":25,"value":271},": ",{"type":20,"tag":160,"props":273,"children":275},{"style":274},"--shiki-default:#B392F0;--shiki-light:#6F42C1;--shiki-sepia:#CB4B16",[276],{"type":25,"value":277},"List",{"type":20,"tag":160,"props":279,"children":280},{"style":185},[281],{"type":25,"value":170},{"type":20,"tag":160,"props":283,"children":284},{"style":274},[285],{"type":25,"value":286},"ChartBarDataDuration",{"type":20,"tag":160,"props":288,"children":289},{"style":185},[290],{"type":25,"value":291},">,  \n",{"type":20,"tag":160,"props":293,"children":295},{"class":162,"line":294},3,[296,302],{"type":20,"tag":160,"props":297,"children":299},{"style":298},"--shiki-default:#F97583;--shiki-light:#D73A49;--shiki-sepia:#859900",[300],{"type":25,"value":301},"    ..",{"type":20,"tag":160,"props":303,"children":304},{"style":185},[305],{"type":25,"value":306},".\n",{"type":20,"tag":160,"props":308,"children":310},{"class":162,"line":309},4,[311,316,321,325,330,335,339,343,348],{"type":20,"tag":160,"props":312,"children":313},{"style":185},[314],{"type":25,"value":315},"): ",{"type":20,"tag":160,"props":317,"children":318},{"style":274},[319],{"type":25,"value":320},"Pair",{"type":20,"tag":160,"props":322,"children":323},{"style":185},[324],{"type":25,"value":170},{"type":20,"tag":160,"props":326,"children":327},{"style":274},[328],{"type":25,"value":329},"String",{"type":20,"tag":160,"props":331,"children":332},{"style":185},[333],{"type":25,"value":334},", ",{"type":20,"tag":160,"props":336,"children":337},{"style":274},[338],{"type":25,"value":277},{"type":20,"tag":160,"props":340,"children":341},{"style":185},[342],{"type":25,"value":170},{"type":20,"tag":160,"props":344,"children":345},{"style":274},[346],{"type":25,"value":347},"StatisticsDetailCardViewData",{"type":20,"tag":160,"props":349,"children":350},{"style":185},[351],{"type":25,"value":352},">> {\n",{"type":20,"tag":160,"props":354,"children":356},{"class":162,"line":355},5,[357,362],{"type":20,"tag":160,"props":358,"children":359},{"style":298},[360],{"type":25,"value":361},"..",{"type":20,"tag":160,"props":363,"children":364},{"style":185},[365],{"type":25,"value":306},{"type":20,"tag":160,"props":367,"children":368},{"class":162,"line":12},[369,374,379,383,388,393],{"type":20,"tag":160,"props":370,"children":371},{"style":238},[372],{"type":25,"value":373},"val",{"type":20,"tag":160,"props":375,"children":376},{"style":185},[377],{"type":25,"value":378}," title ",{"type":20,"tag":160,"props":380,"children":381},{"style":298},[382],{"type":25,"value":188},{"type":20,"tag":160,"props":384,"children":385},{"style":185},[386],{"type":25,"value":387}," resourceRepo.",{"type":20,"tag":160,"props":389,"children":390},{"style":249},[391],{"type":25,"value":392},"getString",{"type":20,"tag":160,"props":394,"children":395},{"style":185},[396],{"type":25,"value":257},{"type":20,"tag":160,"props":398,"children":400},{"class":162,"line":399},7,[401],{"type":20,"tag":160,"props":402,"children":403},{"style":185},[404],{"type":25,"value":405},"    R.string.statistics_detail_range_averages_title,  \n",{"type":20,"tag":160,"props":407,"children":409},{"class":162,"line":408},8,[410,415],{"type":20,"tag":160,"props":411,"children":412},{"style":249},[413],{"type":25,"value":414},"    mapToGroupingName",{"type":20,"tag":160,"props":416,"children":417},{"style":185},[418],{"type":25,"value":419},"(chartGrouping)  \n",{"type":20,"tag":160,"props":421,"children":423},{"class":162,"line":422},9,[424],{"type":20,"tag":160,"props":425,"children":426},{"style":185},[427],{"type":25,"value":428},")\n",{"type":20,"tag":160,"props":430,"children":432},{"class":162,"line":431},10,[433,437],{"type":20,"tag":160,"props":434,"children":435},{"style":298},[436],{"type":25,"value":361},{"type":20,"tag":160,"props":438,"children":439},{"style":185},[440],{"type":25,"value":306},{"type":20,"tag":160,"props":442,"children":444},{"class":162,"line":443},11,[445],{"type":20,"tag":160,"props":446,"children":447},{"style":185},[448],{"type":25,"value":449},"}\n",{"type":20,"tag":21,"props":451,"children":452},{},[453],{"type":25,"value":454},"Great. Now I have to learn Kotlin as well... Fortunately I already know Java and Kotlin isn't that far off. And once I get the hang of Kotlin I'll be glad is isn't Java.",{"type":20,"tag":21,"props":456,"children":457},{},[458,460,466,468,474,475,481,482,488,489,495],{"type":25,"value":459},"Following the call stack up we get: ",{"type":20,"tag":156,"props":461,"children":463},{"className":462},[],[464],{"type":25,"value":465},"getRangeAverages",{"type":25,"value":467}," -> ",{"type":20,"tag":156,"props":469,"children":471},{"className":470},[],[472],{"type":25,"value":473},"mapToChartViewData",{"type":25,"value":467},{"type":20,"tag":156,"props":476,"children":478},{"className":477},[],[479],{"type":25,"value":480},"getChartViewData",{"type":25,"value":467},{"type":20,"tag":156,"props":483,"children":485},{"className":484},[],[486],{"type":25,"value":487},"loadChartViewData",{"type":25,"value":467},{"type":20,"tag":156,"props":490,"children":492},{"className":491},[],[493],{"type":25,"value":494},"updateChartViewData",{"type":25,"value":496}," ... I think we've probably gone a bit too far here.",{"type":20,"tag":21,"props":498,"children":499},{},[500,505,507,513,515],{"type":20,"tag":156,"props":501,"children":503},{"className":502},[],[504],{"type":25,"value":480},{"type":25,"value":506}," seemed interesting. One of the methods it used - ",{"type":20,"tag":156,"props":508,"children":510},{"className":509},[],[511],{"type":25,"value":512},"getRanges",{"type":25,"value":514}," returned a list of ",{"type":20,"tag":156,"props":516,"children":518},{"className":517},[],[519],{"type":25,"value":520},"ChartBarDataRange",{"type":20,"tag":149,"props":522,"children":524},{"className":226,"code":523,"language":228,"meta":7,"style":7},"private fun getRanges(  \n    currentChartGrouping: ChartGrouping,  \n    currentChartLength: ChartLength,  \n    rangeLength: RangeLength,  \n    rangePosition: Int,  \n    firstDayOfWeek: DayOfWeek,  \n    startOfDayShift: Long,  \n): Pair\u003CList\u003CChartBarDataRange>, CompositeChartData>\n",[525],{"type":20,"tag":156,"props":526,"children":527},{"__ignoreMap":7},[528,548,566,583,600,617,634,651],{"type":20,"tag":160,"props":529,"children":530},{"class":162,"line":163},[531,535,539,544],{"type":20,"tag":160,"props":532,"children":533},{"style":238},[534],{"type":25,"value":241},{"type":20,"tag":160,"props":536,"children":537},{"style":238},[538],{"type":25,"value":246},{"type":20,"tag":160,"props":540,"children":541},{"style":249},[542],{"type":25,"value":543}," getRanges",{"type":20,"tag":160,"props":545,"children":546},{"style":185},[547],{"type":25,"value":257},{"type":20,"tag":160,"props":549,"children":550},{"class":162,"line":260},[551,556,561],{"type":20,"tag":160,"props":552,"children":553},{"style":185},[554],{"type":25,"value":555},"    currentChartGrouping: ",{"type":20,"tag":160,"props":557,"children":558},{"style":274},[559],{"type":25,"value":560},"ChartGrouping",{"type":20,"tag":160,"props":562,"children":563},{"style":185},[564],{"type":25,"value":565},",  \n",{"type":20,"tag":160,"props":567,"children":568},{"class":162,"line":294},[569,574,579],{"type":20,"tag":160,"props":570,"children":571},{"style":185},[572],{"type":25,"value":573},"    currentChartLength: ",{"type":20,"tag":160,"props":575,"children":576},{"style":274},[577],{"type":25,"value":578},"ChartLength",{"type":20,"tag":160,"props":580,"children":581},{"style":185},[582],{"type":25,"value":565},{"type":20,"tag":160,"props":584,"children":585},{"class":162,"line":309},[586,591,596],{"type":20,"tag":160,"props":587,"children":588},{"style":185},[589],{"type":25,"value":590},"    rangeLength: ",{"type":20,"tag":160,"props":592,"children":593},{"style":274},[594],{"type":25,"value":595},"RangeLength",{"type":20,"tag":160,"props":597,"children":598},{"style":185},[599],{"type":25,"value":565},{"type":20,"tag":160,"props":601,"children":602},{"class":162,"line":355},[603,608,613],{"type":20,"tag":160,"props":604,"children":605},{"style":185},[606],{"type":25,"value":607},"    rangePosition: ",{"type":20,"tag":160,"props":609,"children":610},{"style":274},[611],{"type":25,"value":612},"Int",{"type":20,"tag":160,"props":614,"children":615},{"style":185},[616],{"type":25,"value":565},{"type":20,"tag":160,"props":618,"children":619},{"class":162,"line":12},[620,625,630],{"type":20,"tag":160,"props":621,"children":622},{"style":185},[623],{"type":25,"value":624},"    firstDayOfWeek: ",{"type":20,"tag":160,"props":626,"children":627},{"style":274},[628],{"type":25,"value":629},"DayOfWeek",{"type":20,"tag":160,"props":631,"children":632},{"style":185},[633],{"type":25,"value":565},{"type":20,"tag":160,"props":635,"children":636},{"class":162,"line":399},[637,642,647],{"type":20,"tag":160,"props":638,"children":639},{"style":185},[640],{"type":25,"value":641},"    startOfDayShift: ",{"type":20,"tag":160,"props":643,"children":644},{"style":274},[645],{"type":25,"value":646},"Long",{"type":20,"tag":160,"props":648,"children":649},{"style":185},[650],{"type":25,"value":565},{"type":20,"tag":160,"props":652,"children":653},{"class":162,"line":408},[654,658,662,666,670,674,678,683,688],{"type":20,"tag":160,"props":655,"children":656},{"style":185},[657],{"type":25,"value":315},{"type":20,"tag":160,"props":659,"children":660},{"style":274},[661],{"type":25,"value":320},{"type":20,"tag":160,"props":663,"children":664},{"style":185},[665],{"type":25,"value":170},{"type":20,"tag":160,"props":667,"children":668},{"style":274},[669],{"type":25,"value":277},{"type":20,"tag":160,"props":671,"children":672},{"style":185},[673],{"type":25,"value":170},{"type":20,"tag":160,"props":675,"children":676},{"style":274},[677],{"type":25,"value":520},{"type":20,"tag":160,"props":679,"children":680},{"style":185},[681],{"type":25,"value":682},">, ",{"type":20,"tag":160,"props":684,"children":685},{"style":274},[686],{"type":25,"value":687},"CompositeChartData",{"type":20,"tag":160,"props":689,"children":690},{"style":185},[691],{"type":25,"value":218},{"type":20,"tag":21,"props":693,"children":694},{},[695,697,702,704,710],{"type":25,"value":696},"The ",{"type":20,"tag":156,"props":698,"children":700},{"className":699},[],[701],{"type":25,"value":520},{"type":25,"value":703}," had a ",{"type":20,"tag":156,"props":705,"children":707},{"className":706},[],[708],{"type":25,"value":709},"legend",{"type":25,"value":711}," field which (assuming we were talking about the same legend) was exactly what I needed to update.",{"type":20,"tag":149,"props":713,"children":715},{"className":226,"code":714,"language":228,"meta":7,"style":7},"class ChartBarDataRange(  \n    val legend: String,  \n    val rangeStart: Long,  \n    val rangeEnd: Long  \n)\n",[716],{"type":20,"tag":156,"props":717,"children":718},{"__ignoreMap":7},[719,736,757,777,798],{"type":20,"tag":160,"props":720,"children":721},{"class":162,"line":163},[722,727,732],{"type":20,"tag":160,"props":723,"children":724},{"style":238},[725],{"type":25,"value":726},"class",{"type":20,"tag":160,"props":728,"children":729},{"style":274},[730],{"type":25,"value":731}," ChartBarDataRange",{"type":20,"tag":160,"props":733,"children":734},{"style":185},[735],{"type":25,"value":257},{"type":20,"tag":160,"props":737,"children":738},{"class":162,"line":260},[739,744,749,753],{"type":20,"tag":160,"props":740,"children":741},{"style":238},[742],{"type":25,"value":743},"    val",{"type":20,"tag":160,"props":745,"children":746},{"style":185},[747],{"type":25,"value":748}," legend: ",{"type":20,"tag":160,"props":750,"children":751},{"style":274},[752],{"type":25,"value":329},{"type":20,"tag":160,"props":754,"children":755},{"style":185},[756],{"type":25,"value":565},{"type":20,"tag":160,"props":758,"children":759},{"class":162,"line":294},[760,764,769,773],{"type":20,"tag":160,"props":761,"children":762},{"style":238},[763],{"type":25,"value":743},{"type":20,"tag":160,"props":765,"children":766},{"style":185},[767],{"type":25,"value":768}," rangeStart: ",{"type":20,"tag":160,"props":770,"children":771},{"style":274},[772],{"type":25,"value":646},{"type":20,"tag":160,"props":774,"children":775},{"style":185},[776],{"type":25,"value":565},{"type":20,"tag":160,"props":778,"children":779},{"class":162,"line":309},[780,784,789,793],{"type":20,"tag":160,"props":781,"children":782},{"style":238},[783],{"type":25,"value":743},{"type":20,"tag":160,"props":785,"children":786},{"style":185},[787],{"type":25,"value":788}," rangeEnd: ",{"type":20,"tag":160,"props":790,"children":791},{"style":274},[792],{"type":25,"value":646},{"type":20,"tag":160,"props":794,"children":795},{"style":185},[796],{"type":25,"value":797},"  \n",{"type":20,"tag":160,"props":799,"children":800},{"class":162,"line":355},[801],{"type":20,"tag":160,"props":802,"children":803},{"style":185},[804],{"type":25,"value":428},{"type":20,"tag":21,"props":806,"children":807},{},[808],{"type":25,"value":809},"After that it was just a matter of finding out where the legend was set.",{"type":20,"tag":149,"props":811,"children":813},{"className":226,"code":812,"language":228,"meta":7,"style":7},"val legend = timeMapper.formatShortDay(calendar.timeInMillis)\n",[814],{"type":20,"tag":156,"props":815,"children":816},{"__ignoreMap":7},[817],{"type":20,"tag":160,"props":818,"children":819},{"class":162,"line":163},[820,824,829,833,838,843],{"type":20,"tag":160,"props":821,"children":822},{"style":238},[823],{"type":25,"value":373},{"type":20,"tag":160,"props":825,"children":826},{"style":185},[827],{"type":25,"value":828}," legend ",{"type":20,"tag":160,"props":830,"children":831},{"style":298},[832],{"type":25,"value":188},{"type":20,"tag":160,"props":834,"children":835},{"style":185},[836],{"type":25,"value":837}," timeMapper.",{"type":20,"tag":160,"props":839,"children":840},{"style":249},[841],{"type":25,"value":842},"formatShortDay",{"type":20,"tag":160,"props":844,"children":845},{"style":185},[846],{"type":25,"value":847},"(calendar.timeInMillis)\n",{"type":20,"tag":21,"props":849,"children":850},{},[851,853,858,860,866,868,874],{"type":25,"value":852},"Bingo.\nThe ",{"type":20,"tag":156,"props":854,"children":856},{"className":855},[],[857],{"type":25,"value":842},{"type":25,"value":859}," method was extremely simple. It just formatted a time using the ",{"type":20,"tag":156,"props":861,"children":863},{"className":862},[],[864],{"type":25,"value":865},"dd.MM",{"type":25,"value":867}," format. All I needed to do was change this to ",{"type":20,"tag":156,"props":869,"children":871},{"className":870},[],[872],{"type":25,"value":873},"MM.dd",{"type":25,"value":875},".",{"type":20,"tag":149,"props":877,"children":879},{"className":226,"code":878,"language":228,"meta":7,"style":7},"private val shortDayFormat by lazy { SimpleDateFormat(\"dd.MM\", locale) }\n\nfun formatShortDay(time: Long): String = synchronized(lock) {  \n    return shortDayFormat.format(time)    \n}\n",[880],{"type":20,"tag":156,"props":881,"children":882},{"__ignoreMap":7},[883,935,944,989,1012],{"type":20,"tag":160,"props":884,"children":885},{"class":162,"line":163},[886,890,895,900,905,910,915,920,925,930],{"type":20,"tag":160,"props":887,"children":888},{"style":238},[889],{"type":25,"value":241},{"type":20,"tag":160,"props":891,"children":892},{"style":238},[893],{"type":25,"value":894}," val",{"type":20,"tag":160,"props":896,"children":897},{"style":185},[898],{"type":25,"value":899}," shortDayFormat ",{"type":20,"tag":160,"props":901,"children":902},{"style":238},[903],{"type":25,"value":904},"by",{"type":20,"tag":160,"props":906,"children":907},{"style":249},[908],{"type":25,"value":909}," lazy",{"type":20,"tag":160,"props":911,"children":912},{"style":185},[913],{"type":25,"value":914}," { ",{"type":20,"tag":160,"props":916,"children":917},{"style":249},[918],{"type":25,"value":919},"SimpleDateFormat",{"type":20,"tag":160,"props":921,"children":922},{"style":185},[923],{"type":25,"value":924},"(",{"type":20,"tag":160,"props":926,"children":927},{"style":191},[928],{"type":25,"value":929},"\"dd.MM\"",{"type":20,"tag":160,"props":931,"children":932},{"style":185},[933],{"type":25,"value":934},", locale) }\n",{"type":20,"tag":160,"props":936,"children":937},{"class":162,"line":260},[938],{"type":20,"tag":160,"props":939,"children":941},{"emptyLinePlaceholder":940},true,[942],{"type":25,"value":943},"\n",{"type":20,"tag":160,"props":945,"children":946},{"class":162,"line":294},[947,952,957,962,966,970,974,979,984],{"type":20,"tag":160,"props":948,"children":949},{"style":238},[950],{"type":25,"value":951},"fun",{"type":20,"tag":160,"props":953,"children":954},{"style":249},[955],{"type":25,"value":956}," formatShortDay",{"type":20,"tag":160,"props":958,"children":959},{"style":185},[960],{"type":25,"value":961},"(time: ",{"type":20,"tag":160,"props":963,"children":964},{"style":274},[965],{"type":25,"value":646},{"type":20,"tag":160,"props":967,"children":968},{"style":185},[969],{"type":25,"value":315},{"type":20,"tag":160,"props":971,"children":972},{"style":274},[973],{"type":25,"value":329},{"type":20,"tag":160,"props":975,"children":976},{"style":298},[977],{"type":25,"value":978}," =",{"type":20,"tag":160,"props":980,"children":981},{"style":249},[982],{"type":25,"value":983}," synchronized",{"type":20,"tag":160,"props":985,"children":986},{"style":185},[987],{"type":25,"value":988},"(lock) {  \n",{"type":20,"tag":160,"props":990,"children":991},{"class":162,"line":309},[992,997,1002,1007],{"type":20,"tag":160,"props":993,"children":994},{"style":298},[995],{"type":25,"value":996},"    return",{"type":20,"tag":160,"props":998,"children":999},{"style":185},[1000],{"type":25,"value":1001}," shortDayFormat.",{"type":20,"tag":160,"props":1003,"children":1004},{"style":249},[1005],{"type":25,"value":1006},"format",{"type":20,"tag":160,"props":1008,"children":1009},{"style":185},[1010],{"type":25,"value":1011},"(time)    \n",{"type":20,"tag":160,"props":1013,"children":1014},{"class":162,"line":355},[1015],{"type":20,"tag":160,"props":1016,"children":1017},{"style":185},[1018],{"type":25,"value":449},{"type":20,"tag":21,"props":1020,"children":1021},{},[1022,1024,1029],{"type":25,"value":1023},"But obviously I couldn't just break something that was already working or else no one would accept my pull request. Maybe some people actually prefer the ",{"type":20,"tag":156,"props":1025,"children":1027},{"className":1026},[],[1028],{"type":25,"value":865},{"type":25,"value":1030}," format. So I had to go on another journey to figure out how to add user preferences.",{"type":20,"tag":21,"props":1032,"children":1033},{},[1034,1036,1047],{"type":25,"value":1035},"One surprisingly long and significantly less interesting",{"type":20,"tag":87,"props":1037,"children":1038},{},[1039],{"type":20,"tag":28,"props":1040,"children":1044},{"href":1041,"ariaDescribedBy":1042,"dataFootnoteRef":7,"id":1043},"#user-content-fn-3",[94],"user-content-fnref-3",[1045],{"type":25,"value":1046},"3",{"type":25,"value":1048}," expedition later and I ended up with this:",{"type":20,"tag":149,"props":1050,"children":1052},{"className":226,"code":1051,"language":228,"meta":7,"style":7},"private val shortDayFormatMMDD by lazy { SimpleDateFormat(\"MM.dd\", locale) }  \nprivate val shortDayFormatDDMM by lazy { SimpleDateFormat(\"dd.MM\", locale) }\n\nfun formatShortDay(time: Long, useMonthDayTimeFormat: Boolean): String = synchronized(lock) {  \n    if (useMonthDayTimeFormat) {  \n        return shortDayFormatMMDD.format(time)  \n    } else {  \n        return shortDayFormatDDMM.format(time)  \n    }  \n}\n",[1053],{"type":20,"tag":156,"props":1054,"children":1055},{"__ignoreMap":7},[1056,1102,1146,1153,1202,1215,1237,1255,1275,1283],{"type":20,"tag":160,"props":1057,"children":1058},{"class":162,"line":163},[1059,1063,1067,1072,1076,1080,1084,1088,1092,1097],{"type":20,"tag":160,"props":1060,"children":1061},{"style":238},[1062],{"type":25,"value":241},{"type":20,"tag":160,"props":1064,"children":1065},{"style":238},[1066],{"type":25,"value":894},{"type":20,"tag":160,"props":1068,"children":1069},{"style":185},[1070],{"type":25,"value":1071}," shortDayFormatMMDD ",{"type":20,"tag":160,"props":1073,"children":1074},{"style":238},[1075],{"type":25,"value":904},{"type":20,"tag":160,"props":1077,"children":1078},{"style":249},[1079],{"type":25,"value":909},{"type":20,"tag":160,"props":1081,"children":1082},{"style":185},[1083],{"type":25,"value":914},{"type":20,"tag":160,"props":1085,"children":1086},{"style":249},[1087],{"type":25,"value":919},{"type":20,"tag":160,"props":1089,"children":1090},{"style":185},[1091],{"type":25,"value":924},{"type":20,"tag":160,"props":1093,"children":1094},{"style":191},[1095],{"type":25,"value":1096},"\"MM.dd\"",{"type":20,"tag":160,"props":1098,"children":1099},{"style":185},[1100],{"type":25,"value":1101},", locale) }  \n",{"type":20,"tag":160,"props":1103,"children":1104},{"class":162,"line":260},[1105,1109,1113,1118,1122,1126,1130,1134,1138,1142],{"type":20,"tag":160,"props":1106,"children":1107},{"style":238},[1108],{"type":25,"value":241},{"type":20,"tag":160,"props":1110,"children":1111},{"style":238},[1112],{"type":25,"value":894},{"type":20,"tag":160,"props":1114,"children":1115},{"style":185},[1116],{"type":25,"value":1117}," shortDayFormatDDMM ",{"type":20,"tag":160,"props":1119,"children":1120},{"style":238},[1121],{"type":25,"value":904},{"type":20,"tag":160,"props":1123,"children":1124},{"style":249},[1125],{"type":25,"value":909},{"type":20,"tag":160,"props":1127,"children":1128},{"style":185},[1129],{"type":25,"value":914},{"type":20,"tag":160,"props":1131,"children":1132},{"style":249},[1133],{"type":25,"value":919},{"type":20,"tag":160,"props":1135,"children":1136},{"style":185},[1137],{"type":25,"value":924},{"type":20,"tag":160,"props":1139,"children":1140},{"style":191},[1141],{"type":25,"value":929},{"type":20,"tag":160,"props":1143,"children":1144},{"style":185},[1145],{"type":25,"value":934},{"type":20,"tag":160,"props":1147,"children":1148},{"class":162,"line":294},[1149],{"type":20,"tag":160,"props":1150,"children":1151},{"emptyLinePlaceholder":940},[1152],{"type":25,"value":943},{"type":20,"tag":160,"props":1154,"children":1155},{"class":162,"line":309},[1156,1160,1164,1168,1172,1177,1182,1186,1190,1194,1198],{"type":20,"tag":160,"props":1157,"children":1158},{"style":238},[1159],{"type":25,"value":951},{"type":20,"tag":160,"props":1161,"children":1162},{"style":249},[1163],{"type":25,"value":956},{"type":20,"tag":160,"props":1165,"children":1166},{"style":185},[1167],{"type":25,"value":961},{"type":20,"tag":160,"props":1169,"children":1170},{"style":274},[1171],{"type":25,"value":646},{"type":20,"tag":160,"props":1173,"children":1174},{"style":185},[1175],{"type":25,"value":1176},", useMonthDayTimeFormat: ",{"type":20,"tag":160,"props":1178,"children":1179},{"style":274},[1180],{"type":25,"value":1181},"Boolean",{"type":20,"tag":160,"props":1183,"children":1184},{"style":185},[1185],{"type":25,"value":315},{"type":20,"tag":160,"props":1187,"children":1188},{"style":274},[1189],{"type":25,"value":329},{"type":20,"tag":160,"props":1191,"children":1192},{"style":298},[1193],{"type":25,"value":978},{"type":20,"tag":160,"props":1195,"children":1196},{"style":249},[1197],{"type":25,"value":983},{"type":20,"tag":160,"props":1199,"children":1200},{"style":185},[1201],{"type":25,"value":988},{"type":20,"tag":160,"props":1203,"children":1204},{"class":162,"line":355},[1205,1210],{"type":20,"tag":160,"props":1206,"children":1207},{"style":298},[1208],{"type":25,"value":1209},"    if",{"type":20,"tag":160,"props":1211,"children":1212},{"style":185},[1213],{"type":25,"value":1214}," (useMonthDayTimeFormat) {  \n",{"type":20,"tag":160,"props":1216,"children":1217},{"class":162,"line":12},[1218,1223,1228,1232],{"type":20,"tag":160,"props":1219,"children":1220},{"style":298},[1221],{"type":25,"value":1222},"        return",{"type":20,"tag":160,"props":1224,"children":1225},{"style":185},[1226],{"type":25,"value":1227}," shortDayFormatMMDD.",{"type":20,"tag":160,"props":1229,"children":1230},{"style":249},[1231],{"type":25,"value":1006},{"type":20,"tag":160,"props":1233,"children":1234},{"style":185},[1235],{"type":25,"value":1236},"(time)  \n",{"type":20,"tag":160,"props":1238,"children":1239},{"class":162,"line":399},[1240,1245,1250],{"type":20,"tag":160,"props":1241,"children":1242},{"style":185},[1243],{"type":25,"value":1244},"    } ",{"type":20,"tag":160,"props":1246,"children":1247},{"style":298},[1248],{"type":25,"value":1249},"else",{"type":20,"tag":160,"props":1251,"children":1252},{"style":185},[1253],{"type":25,"value":1254}," {  \n",{"type":20,"tag":160,"props":1256,"children":1257},{"class":162,"line":408},[1258,1262,1267,1271],{"type":20,"tag":160,"props":1259,"children":1260},{"style":298},[1261],{"type":25,"value":1222},{"type":20,"tag":160,"props":1263,"children":1264},{"style":185},[1265],{"type":25,"value":1266}," shortDayFormatDDMM.",{"type":20,"tag":160,"props":1268,"children":1269},{"style":249},[1270],{"type":25,"value":1006},{"type":20,"tag":160,"props":1272,"children":1273},{"style":185},[1274],{"type":25,"value":1236},{"type":20,"tag":160,"props":1276,"children":1277},{"class":162,"line":422},[1278],{"type":20,"tag":160,"props":1279,"children":1280},{"style":185},[1281],{"type":25,"value":1282},"    }  \n",{"type":20,"tag":160,"props":1284,"children":1285},{"class":162,"line":431},[1286],{"type":20,"tag":160,"props":1287,"children":1288},{"style":185},[1289],{"type":25,"value":449},{"type":20,"tag":21,"props":1291,"children":1292},{},[1293,1295,1302,1304,1315,1317],{"type":25,"value":1294},"If you want to see the full pull request you can ",{"type":20,"tag":28,"props":1296,"children":1299},{"href":1297,"rel":1298,"target":33},"https://github.com/Razeeman/Android-SimpleTimeTracker/pull/118",[32],[1300],{"type":25,"value":1301},"check it out on Github",{"type":25,"value":1303},". One day later",{"type":20,"tag":87,"props":1305,"children":1306},{},[1307],{"type":20,"tag":28,"props":1308,"children":1312},{"href":1309,"ariaDescribedBy":1310,"dataFootnoteRef":7,"id":1311},"#user-content-fn-4",[94],"user-content-fnref-4",[1313],{"type":25,"value":1314},"4",{"type":25,"value":1316}," and it was merged with the comment.\n",{"type":20,"tag":120,"props":1318,"children":1321},{"alt":1319,"src":1320},"Pull request accepted","/posts/my-first-open-source-contribution/pr-accepted.png",[],{"type":20,"tag":21,"props":1323,"children":1324},{},[1325],{"type":25,"value":1326},"This seemed like a relatively simple change but I won't lie, it took me at least 2 hours to pull it off. I know that because I tracked my time.",{"type":20,"tag":21,"props":1328,"children":1329},{},[1330],{"type":20,"tag":120,"props":1331,"children":1334},{"alt":1332,"src":1333},"Time taken","/posts/my-first-open-source-contribution/time-taken.png",[],{"type":20,"tag":21,"props":1336,"children":1337},{},[1338],{"type":25,"value":1339},"To give a rough timeline:",{"type":20,"tag":77,"props":1341,"children":1342},{},[1343,1348,1353,1358,1363,1368,1373],{"type":20,"tag":81,"props":1344,"children":1345},{},[1346],{"type":25,"value":1347},"First I cloned the repo and got the application running on my device",{"type":20,"tag":81,"props":1349,"children":1350},{},[1351],{"type":25,"value":1352},"Then I used specific string and other details to find the activity and class where the relevant time formatting code was located",{"type":20,"tag":81,"props":1354,"children":1355},{},[1356],{"type":25,"value":1357},"I quickly replaced the existing time format with my own to see if this would fix the issue on my device. It did.",{"type":20,"tag":81,"props":1359,"children":1360},{},[1361],{"type":25,"value":1362},"I found all the places where the time formatting was referenced and ensured I didn't break any of those",{"type":20,"tag":81,"props":1364,"children":1365},{},[1366],{"type":25,"value":1367},"I removed my quick fix and instead locked my change behind a setting that could be toggled and added code that allowed users to toggle that preference",{"type":20,"tag":81,"props":1369,"children":1370},{},[1371],{"type":25,"value":1372},"I forked the repo, pushed my changes to a feature branch, and submitted a pull request",{"type":20,"tag":81,"props":1374,"children":1375},{},[1376],{"type":25,"value":1377},"The change was approved and merged.",{"type":20,"tag":21,"props":1379,"children":1380},{},[1381],{"type":25,"value":1382},"All things considered the process went a lot more smoothly than I expected. I'm definitely going to contribute more in the future and I'd recommend you all to as well.",{"type":20,"tag":21,"props":1384,"children":1385},{},[1386,1388,1395],{"type":25,"value":1387},"I mentioned 2 issues earlier but this post is already getting quite long so I'll leave it at that. Part 2 coming soon. If you want to get a sneak peak, check out the ",{"type":20,"tag":28,"props":1389,"children":1392},{"href":1390,"rel":1391,"target":33},"https://github.com/Razeeman/Android-SimpleTimeTracker/pull/119",[32],[1393],{"type":25,"value":1394},"second pull request",{"type":25,"value":1396}," as well - slightly less likely to get merged but at least I'll be able to use the code for myself.",{"type":20,"tag":1398,"props":1399,"children":1402},"section",{"className":1400,"dataFootnotes":7},[1401],"footnotes",[1403,1411],{"type":20,"tag":1404,"props":1405,"children":1408},"h2",{"className":1406,"id":94},[1407],"sr-only",[1409],{"type":25,"value":1410},"Footnotes",{"type":20,"tag":77,"props":1412,"children":1413},{},[1414,1429,1442,1463],{"type":20,"tag":81,"props":1415,"children":1417},{"id":1416},"user-content-fn-1",[1418,1420],{"type":25,"value":1419},"I say that each has their merits but if I'm being honest, I have no idea why you would use day/month. I know people say that it's better because it's in order - you go day/month/year from smallest to largest. But that means that when you try sorting days in lexicographical order, you get 11/01/2022 before 13/07/2005 which makes absolutely no sense. I think most people would agree than year/month/day is the best format because that sorts really well. And if you exclude the year then you get month/day which is perfect! And yeah month/day/year is a weird format too but at least if the year is all the same (eg. if you have a separate folder for all 2023 files) then you get the nice sorting property again. ",{"type":20,"tag":28,"props":1421,"children":1426},{"href":1422,"ariaLabel":1423,"className":1424,"dataFootnoteBackref":7},"#user-content-fnref-1","Back to reference 1",[1425],"data-footnote-backref",[1427],{"type":25,"value":1428},"↩",{"type":20,"tag":81,"props":1430,"children":1432},{"id":1431},"user-content-fn-2",[1433,1435],{"type":25,"value":1434},"Step one was actually cloning the repo, installing Android Studio, fixing random issues with gradle, finding out that for some reason I was using a 32 bit version of Java in Android Studio, and making sure that I was able to even run the thing on my phone. But all that is less interesting than the actual process of diving into a massive, unfamiliar codebase. ",{"type":20,"tag":28,"props":1436,"children":1440},{"href":1437,"ariaLabel":1438,"className":1439,"dataFootnoteBackref":7},"#user-content-fnref-2","Back to reference 2",[1425],[1441],{"type":25,"value":1428},{"type":20,"tag":81,"props":1443,"children":1445},{"id":1444},"user-content-fn-3",[1446,1448,1454,1456],{"type":25,"value":1447},"Most of the expedition was copying and pasting the code used by a different setting - going through a bunch of different parts of the code to add a new preference for ",{"type":20,"tag":156,"props":1449,"children":1451},{"className":1450},[],[1452],{"type":25,"value":1453},"useMonthDayTimeFormat",{"type":25,"value":1455},", adding a new checkbox to allow toggling the preference, adding UI event hooks so that everything behaves properly when the checkbox is checked, and refactoring a bunch of method signatures so we're able to pass the preferences down to where they're actually used. ",{"type":20,"tag":28,"props":1457,"children":1461},{"href":1458,"ariaLabel":1459,"className":1460,"dataFootnoteBackref":7},"#user-content-fnref-3","Back to reference 3",[1425],[1462],{"type":25,"value":1428},{"type":20,"tag":81,"props":1464,"children":1466},{"id":1465},"user-content-fn-4",[1467,1469],{"type":25,"value":1468},"I double checked this after writing the blog and turns out it was even faster. Within 3 hours the pull request was reviewed and merged. ",{"type":20,"tag":28,"props":1470,"children":1474},{"href":1471,"ariaLabel":1472,"className":1473,"dataFootnoteBackref":7},"#user-content-fnref-4","Back to reference 4",[1425],[1475],{"type":25,"value":1428},{"type":20,"tag":1477,"props":1478,"children":1479},"style",{},[1480],{"type":25,"value":1481},"html.sepia .shiki span {color: var(--shiki-sepia);background: var(--shiki-sepia-bg);font-style: var(--shiki-sepia-font-style);font-weight: var(--shiki-sepia-font-weight);text-decoration: var(--shiki-sepia-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .sepia .shiki span {color: var(--shiki-sepia);background: var(--shiki-sepia-bg);font-style: var(--shiki-sepia-font-style);font-weight: var(--shiki-sepia-font-weight);text-decoration: var(--shiki-sepia-text-decoration);}",{"title":7,"searchDepth":260,"depth":260,"links":1483},[1484],{"id":94,"depth":260,"text":1410},"markdown","content:posts:my-first-open-source-contribution.md","content","posts/my-first-open-source-contribution.md","md",1737325703279]